"use strict";var YIe=Object.defineProperty,QIe=Object.defineProperties,XIe=Object.getOwnPropertyDescriptors,t4=Object.getOwnPropertySymbols,ZIe=Object.prototype.hasOwnProperty,JIe=Object.prototype.propertyIsEnumerable,n4=(oe,qt,Hn)=>qt in oe?YIe(oe,qt,{enumerable:!0,configurable:!0,writable:!0,value:Hn}):oe[qt]=Hn,r4=(oe,qt)=>{for(var Hn in qt||(qt={}))ZIe.call(qt,Hn)&&n4(oe,Hn,qt[Hn]);if(t4)for(var Hn of t4(qt))JIe.call(qt,Hn)&&n4(oe,Hn,qt[Hn]);return oe},i4=(oe,qt)=>QIe(oe,XIe(qt));(self.webpackChunkringoffire=self.webpackChunkringoffire||[]).push([[179],{992:()=>{function oe(n){return"function"==typeof n}function qt(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Hn=qt(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function vl(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class hn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(oe(r))try{r()}catch(s){e=s instanceof Hn?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Gk(s)}catch(o){e=null!=e?e:[],o instanceof Hn?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Hn(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Gk(e);else{if(e instanceof hn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&vl(t,e)}remove(e){const{_finalizers:t}=this;t&&vl(t,e),e instanceof hn&&e._removeParent(this)}}hn.EMPTY=(()=>{const n=new hn;return n.closed=!0,n})();const $k=hn.EMPTY;function zk(n){return n instanceof hn||n&&"closed"in n&&oe(n.remove)&&oe(n.add)&&oe(n.unsubscribe)}function Gk(n){oe(n)?n():n.unsubscribe()}const Bo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Zf={setTimeout(n,e,...t){const{delegate:r}=Zf;return(null==r?void 0:r.setTimeout)?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Zf;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function qk(n){Zf.setTimeout(()=>{const{onUnhandledError:e}=Bo;if(!e)throw n;e(n)})}function _v(){}const s4=yv("C",void 0,void 0);function yv(n,e,t){return{kind:n,value:e,error:t}}let Uo=null;function Jf(n){if(Bo.useDeprecatedSynchronousErrorHandling){const e=!Uo;if(e&&(Uo={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Uo;if(Uo=null,t)throw r}}else n()}class vv extends hn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,zk(e)&&e.add(this)):this.destination=h4}static create(e,t,r){return new ep(e,t,r)}next(e){this.isStopped?wv(function a4(n){return yv("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?wv(function o4(n){return yv("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?wv(s4,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const c4=Function.prototype.bind;function bv(n,e){return c4.call(n,e)}class u4{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){tp(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){tp(r)}else tp(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){tp(t)}}}class ep extends vv{constructor(e,t,r){let i;if(super(),oe(e)||!e)i={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=r?r:void 0};else{let s;this&&Bo.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&bv(e.next,s),error:e.error&&bv(e.error,s),complete:e.complete&&bv(e.complete,s)}):i=e}this.destination=new u4(i)}}function tp(n){Bo.useDeprecatedSynchronousErrorHandling?function l4(n){Bo.useDeprecatedSynchronousErrorHandling&&Uo&&(Uo.errorThrown=!0,Uo.error=n)}(n):qk(n)}function wv(n,e){const{onStoppedNotification:t}=Bo;t&&Zf.setTimeout(()=>t(n,e))}const h4={closed:!0,next:_v,error:function d4(n){throw n},complete:_v},Cv="function"==typeof Symbol&&Symbol.observable||"@@observable";function $s(n){return n}let He=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function p4(n){return n&&n instanceof vv||function f4(n){return n&&oe(n.next)&&oe(n.error)&&oe(n.complete)}(n)&&zk(n)}(t)?t:new ep(t,r,i);return Jf(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Kk(r))((i,s)=>{const o=new ep({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Cv](){return this}pipe(...t){return function Wk(n){return 0===n.length?$s:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=Kk(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function Kk(n){var e;return null!==(e=null!=n?n:Bo.Promise)&&void 0!==e?e:Promise}const m4=qt(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Pe=(()=>{class n extends He{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Yk(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new m4}next(t){Jf(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Jf(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Jf(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?$k:(this.currentObservers=null,s.push(t),new hn(()=>{this.currentObservers=null,vl(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new He;return t.source=this,t}}return n.create=(e,t)=>new Yk(e,t),n})();class Yk extends Pe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:$k}}function Qk(n){return oe(null==n?void 0:n.lift)}function Ct(n){return e=>{if(Qk(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ft(n,e,t,r,i){return new g4(n,e,t,r,i)}class g4 extends vv{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function me(n,e){return Ct((t,r)=>{let i=0;t.subscribe(ft(r,s=>{r.next(n.call(e,s,i++))}))})}function Zk(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function jo(n){return this instanceof jo?(this.v=n,this):new jo(n)}function v4(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof jo?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function b4(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function eR(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}const Iv=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function tR(n){return oe(null==n?void 0:n.then)}function nR(n){return oe(n[Cv])}function rR(n){return Symbol.asyncIterator&&oe(null==n?void 0:n[Symbol.asyncIterator])}function iR(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const sR=function C4(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function oR(n){return oe(null==n?void 0:n[sR])}function aR(n){return v4(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield jo(t.read());if(i)return yield jo(void 0);yield yield jo(r)}}finally{t.releaseLock()}})}function lR(n){return oe(null==n?void 0:n.getReader)}function _r(n){if(n instanceof He)return n;if(null!=n){if(nR(n))return function E4(n){return new He(e=>{const t=n[Cv]();if(oe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Iv(n))return function I4(n){return new He(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(tR(n))return function T4(n){return new He(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,qk)})}(n);if(rR(n))return cR(n);if(oR(n))return function D4(n){return new He(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(lR(n))return function S4(n){return cR(aR(n))}(n)}throw iR(n)}function cR(n){return new He(e=>{(function A4(n,e){var t,r,i,s;return function _4(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=b4(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function es(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Lt(n,e,t=1/0){return oe(e)?Lt((r,i)=>me((s,o)=>e(r,s,i,o))(_r(n(r,i))),t):("number"==typeof e&&(t=e),Ct((r,i)=>function M4(n,e,t,r,i,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=m=>c<r?p(m):l.push(m),p=m=>{s&&e.next(m),c++;let _=!1;_r(t(m,u++)).subscribe(ft(e,b=>{null==i||i(b),s?f(b):e.next(b)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;l.length&&c<r;){const b=l.shift();o?es(e,o,()=>p(b)):p(b)}h()}catch(b){e.error(b)}}))};return n.subscribe(ft(e,f,()=>{d=!0,h()})),()=>{null==a||a()}}(r,i,n,t)))}function Au(n=1/0){return Lt($s,n)}const Ci=new He(n=>n.complete());function uR(n){return n&&oe(n.schedule)}function Tv(n){return n[n.length-1]}function dR(n){return oe(Tv(n))?n.pop():void 0}function Mu(n){return uR(Tv(n))?n.pop():void 0}function np(n,e=0){return Ct((t,r)=>{t.subscribe(ft(r,i=>es(r,n,()=>r.next(i),e),()=>es(r,n,()=>r.complete(),e),i=>es(r,n,()=>r.error(i),e)))})}function rp(n,e=0){return Ct((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function hR(n,e){if(!n)throw new Error("Iterable cannot be null");return new He(t=>{es(t,e,()=>{const r=n[Symbol.asyncIterator]();es(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Wt(n,e){return e?function L4(n,e){if(null!=n){if(nR(n))return function R4(n,e){return _r(n).pipe(rp(e),np(e))}(n,e);if(Iv(n))return function P4(n,e){return new He(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(tR(n))return function O4(n,e){return _r(n).pipe(rp(e),np(e))}(n,e);if(rR(n))return hR(n,e);if(oR(n))return function N4(n,e){return new He(t=>{let r;return es(t,e,()=>{r=n[sR](),es(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>oe(null==r?void 0:r.return)&&r.return()})}(n,e);if(lR(n))return function F4(n,e){return hR(aR(n),e)}(n,e)}throw iR(n)}(n,e):_r(n)}function Dv(...n){const e=Mu(n),t=function k4(n,e){return"number"==typeof Tv(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?_r(r[0]):Au(t)(Wt(r,e)):Ci}function yr(n){return n<=0?()=>Ci:Ct((e,t)=>{let r=0;e.subscribe(ft(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function fR(n={}){const{connector:e=(()=>new Pe),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o=null,a=null,l=null,c=0,u=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=null},f=()=>{h(),o=l=null,u=d=!1},p=()=>{const m=o;f(),null==m||m.unsubscribe()};return Ct((m,_)=>{c++,!d&&!u&&h();const b=l=null!=l?l:e();_.add(()=>{c--,0===c&&!d&&!u&&(a=Sv(p,i))}),b.subscribe(_),o||(o=new ep({next:y=>b.next(y),error:y=>{d=!0,h(),a=Sv(f,t,y),b.error(y)},complete:()=>{u=!0,h(),a=Sv(f,r),b.complete()}}),Wt(m).subscribe(o))})(s)}}function Sv(n,e,...t){return!0===e?(n(),null):!1===e?null:e(...t).pipe(yr(1)).subscribe(()=>n())}function Ge(n){for(let e in n)if(n[e]===Ge)return e;throw Error("Could not find renamed property on target object.")}function Av(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function je(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(je).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Mv(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const V4=Ge({__forward_ref__:Ge});function Ke(n){return n.__forward_ref__=Ke,n.toString=function(){return je(this())},n}function ce(n){return pR(n)?n():n}function pR(n){return"function"==typeof n&&n.hasOwnProperty(V4)&&n.__forward_ref__===Ke}class V extends Error{constructor(e,t){super(function xv(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function ie(n){return"string"==typeof n?n:null==n?"":String(n)}function $n(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ie(n)}function ip(n,e){const t=e?` in ${e}`:"";throw new V(-201,`No provider for ${$n(n)} found${t}`)}function br(n,e){null==n&&function it(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function L(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Re(n){return{providers:n.providers||[],imports:n.imports||[]}}function kv(n){return mR(n,sp)||mR(n,_R)}function mR(n,e){return n.hasOwnProperty(e)?n[e]:null}function gR(n){return n&&(n.hasOwnProperty(Rv)||n.hasOwnProperty(G4))?n[Rv]:null}const sp=Ge({\u0275prov:Ge}),Rv=Ge({\u0275inj:Ge}),_R=Ge({ngInjectableDef:Ge}),G4=Ge({ngInjectorDef:Ge});var te=(()=>((te=te||{})[te.Default=0]="Default",te[te.Host=1]="Host",te[te.Self=2]="Self",te[te.SkipSelf=4]="SkipSelf",te[te.Optional=8]="Optional",te))();let Ov;function zs(n){const e=Ov;return Ov=n,e}function yR(n,e,t){const r=kv(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&te.Optional?null:void 0!==e?e:void ip(je(n),"Injector")}function Gs(n){return{toString:n}.toString()}var ni=(()=>((ni=ni||{})[ni.OnPush=0]="OnPush",ni[ni.Default=1]="Default",ni))(),ri=(()=>{return(n=ri||(ri={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ri;var n})();const W4="undefined"!=typeof globalThis&&globalThis,K4="undefined"!=typeof window&&window,Y4="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,$e=W4||"undefined"!=typeof global&&global||K4||Y4,bl={},qe=[],op=Ge({\u0275cmp:Ge}),Pv=Ge({\u0275dir:Ge}),Nv=Ge({\u0275pipe:Ge}),vR=Ge({\u0275mod:Ge}),ns=Ge({\u0275fac:Ge}),xu=Ge({__NG_ELEMENT_ID__:Ge});let Q4=0;function Kt(n){return Gs(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===ni.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||qe,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||ri.Emulated,id:"c",styles:n.styles||qe,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,s=n.features,o=n.pipes;return r.id+=Q4++,r.inputs=ER(n.inputs,t),r.outputs=ER(n.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(bR):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(wR):null,r})}function bR(n){return An(n)||function qs(n){return n[Pv]||null}(n)}function wR(n){return function Ho(n){return n[Nv]||null}(n)}const CR={};function Ne(n){return Gs(()=>{const e={type:n.type,bootstrap:n.bootstrap||qe,declarations:n.declarations||qe,imports:n.imports||qe,exports:n.exports||qe,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(CR[n.id]=n.type),e})}function ER(n,e){if(null==n)return bl;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const B=Kt;function or(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function An(n){return n[op]||null}function Lr(n,e){const t=n[vR]||null;if(!t&&!0===e)throw new Error(`Type ${je(n)} does not have '\u0275mod' property.`);return t}function Ei(n){return Array.isArray(n)&&"object"==typeof n[1]}function si(n){return Array.isArray(n)&&!0===n[1]}function Vv(n){return 0!=(8&n.flags)}function up(n){return 2==(2&n.flags)}function dp(n){return 1==(1&n.flags)}function oi(n){return null!==n.template}function n8(n){return 0!=(512&n[2])}function qo(n,e){return n.hasOwnProperty(ns)?n[ns]:null}class s8{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function zn(){return TR}function TR(n){return n.type.prototype.ngOnChanges&&(n.setInput=a8),o8}function o8(){const n=SR(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===bl)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function a8(n,e,t,r){const i=SR(n)||function l8(n,e){return n[DR]=e}(n,{previous:bl,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],l=o[a];s[a]=new s8(l&&l.currentValue,e,o===bl),n[r]=e}zn.ngInherit=!0;const DR="__ngSimpleChanges__";function SR(n){return n[DR]||null}let $v;function _t(n){return!!n.listen}const AR={createRenderer:(n,e)=>function zv(){return void 0!==$v?$v:"undefined"!=typeof document?document:void 0}()};function At(n){for(;Array.isArray(n);)n=n[0];return n}function hp(n,e){return At(e[n])}function Ur(n,e){return At(e[n.index])}function Gv(n,e){return n.data[e]}function Cr(n,e){const t=e[n];return Ei(t)?t:t[0]}function MR(n){return 4==(4&n[2])}function qv(n){return 128==(128&n[2])}function Ws(n,e){return null==e?null:n[e]}function xR(n){n[18]=0}function Wv(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const ne={lFrame:VR(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function kR(){return ne.bindingsEnabled}function T(){return ne.lFrame.lView}function Ae(){return ne.lFrame.tView}function rs(n){return ne.lFrame.contextLView=n,n[8]}function Vt(){let n=RR();for(;null!==n&&64===n.type;)n=n.parent;return n}function RR(){return ne.lFrame.currentTNode}function Ii(n,e){const t=ne.lFrame;t.currentTNode=n,t.isParent=e}function Kv(){return ne.lFrame.isParent}function Yv(){ne.lFrame.isParent=!1}function fp(){return ne.isInCheckNoChangesMode}function pp(n){ne.isInCheckNoChangesMode=n}function Gn(){const n=ne.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Dl(){return ne.lFrame.bindingIndex++}function T8(n,e){const t=ne.lFrame;t.bindingIndex=t.bindingRootIndex=n,Qv(e)}function Qv(n){ne.lFrame.currentDirectiveIndex=n}function Xv(n){const e=ne.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function NR(){return ne.lFrame.currentQueryIndex}function Zv(n){ne.lFrame.currentQueryIndex=n}function S8(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function FR(n,e,t){if(t&te.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&te.Host||(i=S8(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=ne.lFrame=LR();return r.currentTNode=e,r.lView=n,!0}function mp(n){const e=LR(),t=n[1];ne.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function LR(){const n=ne.lFrame,e=null===n?null:n.child;return null===e?VR(n):e}function VR(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function BR(){const n=ne.lFrame;return ne.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const UR=BR;function gp(){const n=BR();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function qn(){return ne.lFrame.selectedIndex}function Ks(n){ne.lFrame.selectedIndex=n}function yt(){const n=ne.lFrame;return Gv(n.tView,n.selectedIndex)}function _p(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function yp(n,e,t){jR(n,e,3,t)}function vp(n,e,t,r){(3&n[2])===t&&jR(n,e,t,r)}function Jv(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function jR(n,e,t,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[18]+=65536),(a<s||-1==s)&&(F8(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function F8(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Nu{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function bp(n,e,t){const r=_t(n);let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const o=t[i++],a=t[i++],l=t[i++];r?n.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=t[++i];tb(o)?r&&n.setProperty(e,o,a):r?n.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function HR(n){return 3===n||4===n||6===n}function tb(n){return 64===n.charCodeAt(0)}function wp(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||$R(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function $R(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function zR(n){return-1!==n}function Sl(n){return 32767&n}function Al(n,e){let t=function j8(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let nb=!0;function Cp(n){const e=nb;return nb=n,e}let H8=0;function Lu(n,e){const t=ib(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,rb(r.data,n),rb(e,null),rb(r.blueprint,null));const i=Ep(n,e),s=n.injectorIndex;if(zR(i)){const o=Sl(i),a=Al(i,e),l=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function rb(n,e){n.push(0,0,0,0,0,0,0,0,e)}function ib(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Ep(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Ip(n,e,t){!function $8(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(xu)&&(r=t[xu]),null==r&&(r=t[xu]=H8++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function WR(n,e,t){if(t&te.Optional)return n;ip(e,"NodeInjector")}function KR(n,e,t,r){if(t&te.Optional&&void 0===r&&(r=null),0==(t&(te.Self|te.Host))){const i=n[9],s=zs(void 0);try{return i?i.get(e,r,t&te.Optional):yR(e,r,t&te.Optional)}finally{zs(s)}}return WR(r,e,t)}function YR(n,e,t,r=te.Default,i){if(null!==n){const s=function W8(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(xu)?n[xu]:void 0;return"number"==typeof e?e>=0?255&e:G8:e}(t);if("function"==typeof s){if(!FR(e,n,r))return r&te.Host?WR(i,t,r):KR(e,t,r,i);try{const o=s(r);if(null!=o||r&te.Optional)return o;ip(t)}finally{UR()}}else if("number"==typeof s){let o=null,a=ib(n,e),l=-1,c=r&te.Host?e[16][6]:null;for((-1===a||r&te.SkipSelf)&&(l=-1===a?Ep(n,e):e[a+8],-1!==l&&ZR(r,!1)?(o=e[1],a=Sl(l),e=Al(l,e)):a=-1);-1!==a;){const u=e[1];if(XR(s,a,u.data)){const d=q8(a,e,t,o,r,c);if(d!==QR)return d}l=e[a+8],-1!==l&&ZR(r,e[1].data[a+8]===c)&&XR(s,a,e)?(o=u,a=Sl(l),e=Al(l,e)):a=-1}}}return KR(e,t,r,i)}const QR={};function G8(){return new Ml(Vt(),T())}function q8(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],u=Tp(a,o,t,null==r?up(a)&&nb:r!=o&&0!=(3&a.type),i&te.Host&&s===a);return null!==u?Vu(e,o,u,a):QR}function Tp(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(i){const f=o[l];if(f&&oi(f)&&f.type===t)return l}return null}function Vu(n,e,t,r){let i=n[t];const s=e.data;if(function L8(n){return n instanceof Nu}(i)){const o=i;o.resolving&&function B4(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new V(-200,`Circular dependency in DI detected for ${n}${t}`)}($n(s[t]));const a=Cp(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?zs(o.injectImpl):null;FR(n,r,te.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function N8(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=TR(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&zs(l),Cp(a),o.resolving=!1,UR()}}return i}function XR(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function ZR(n,e){return!(n&te.Self||n&te.Host&&e)}class Ml{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return YR(this._tNode,this._lView,e,r,t)}}function fn(n){return Gs(()=>{const e=n.prototype.constructor,t=e[ns]||sb(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[ns]||sb(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function sb(n){return pR(n)?()=>{const e=sb(ce(n));return e&&e()}:qo(n)}function xl(n){return function z8(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(HR(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Vt(),n)}const Rl="__parameters__";function Pl(n,e,t){return Gs(()=>{const r=function ob(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(Rl)?l[Rl]:Object.defineProperty(l,Rl,{value:[]})[Rl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class P{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=L({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Y8=new P("AnalyzeForEntryComponents");function jr(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),jr(r,e)):e!==n&&e.push(r)}return e}function Ti(n,e){n.forEach(t=>Array.isArray(t)?Ti(t,e):e(t))}function eO(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Dp(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ju(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function Er(n,e,t){let r=Nl(n,e);return r>=0?n[1|r]=t:(r=~r,function Z8(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function lb(n,e){const t=Nl(n,e);if(t>=0)return n[1|t]}function Nl(n,e){return function rO(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Hu={},ub="__NG_DI_FLAG__",Ap="ngTempTokenPath",o5=/\n/gm,sO="__source",l5=Ge({provide:String,useValue:Ge});let $u;function oO(n){const e=$u;return $u=n,e}function c5(n,e=te.Default){if(void 0===$u)throw new V(203,"");return null===$u?yR(n,void 0,e):$u.get(n,e&te.Optional?null:void 0,e)}function E(n,e=te.Default){return(function q4(){return Ov}()||c5)(ce(n),e)}const Mp=E;function db(n){const e=[];for(let t=0;t<n.length;t++){const r=ce(n[t]);if(Array.isArray(r)){if(0===r.length)throw new V(900,"");let i,s=te.Default;for(let o=0;o<r.length;o++){const a=r[o],l=u5(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(E(i,s))}else e.push(E(r))}return e}function zu(n,e){return n[ub]=e,n.prototype[ub]=e,n}function u5(n){return n[ub]}const xp=zu(Pl("Inject",n=>({token:n})),-1),Qe=zu(Pl("Optional"),8),Fl=zu(Pl("SkipSelf"),4);let Rp;function Vl(n){var e;return(null===(e=function fb(){if(void 0===Rp&&(Rp=null,$e.trustedTypes))try{Rp=$e.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Rp}())||void 0===e?void 0:e.createHTML(n))||n}class Wo{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class E5 extends Wo{getTypeName(){return"HTML"}}class I5 extends Wo{getTypeName(){return"Style"}}class T5 extends Wo{getTypeName(){return"Script"}}class D5 extends Wo{getTypeName(){return"URL"}}class S5 extends Wo{getTypeName(){return"ResourceURL"}}function Ir(n){return n instanceof Wo?n.changingThisBreaksApplicationSecurity:n}function Di(n,e){const t=mO(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}function mO(n){return n instanceof Wo&&n.getTypeName()||null}class O5{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Vl(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class P5{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Vl(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=Vl(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const o=t.item(i).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const F5=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,L5=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function qu(n){return(n=String(n)).match(F5)||n.match(L5)?n:"unsafe:"+n}function _O(n){return(n=String(n)).split(",").map(e=>qu(e.trim())).join(", ")}function Si(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Wu(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const yO=Si("area,br,col,hr,img,wbr"),vO=Si("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),bO=Si("rp,rt"),mb=Wu(yO,Wu(vO,Si("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wu(bO,Si("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Wu(bO,vO)),gb=Si("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_b=Si("srcset"),wO=Wu(gb,_b,Si("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Si("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),V5=Si("script,style,template");class B5{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!mb.hasOwnProperty(t))return this.sanitizedSomething=!0,!V5.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!wO.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;gb[a]&&(l=qu(l)),_b[a]&&(l=_O(l)),this.buf.push(" ",o,'="',CO(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();mb.hasOwnProperty(t)&&!yO.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(CO(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const U5=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,j5=/([^\#-~ |!])/g;function CO(n){return n.replace(/&/g,"&amp;").replace(U5,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(j5,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Pp;function EO(n,e){let t=null;try{Pp=Pp||function gO(n){const e=new P5(n);return function N5(){try{return!!(new window.DOMParser).parseFromString(Vl(""),"text/html")}catch(n){return!1}}()?new O5(e):e}(n);let r=e?String(e):"";t=Pp.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=Pp.getInertBodyElement(r)}while(r!==s);return Vl((new B5).sanitizeChildren(yb(t)||t))}finally{if(t){const r=yb(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function yb(n){return"content"in n&&function H5(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Le=(()=>((Le=Le||{})[Le.NONE=0]="NONE",Le[Le.HTML=1]="HTML",Le[Le.STYLE=2]="STYLE",Le[Le.SCRIPT=3]="SCRIPT",Le[Le.URL=4]="URL",Le[Le.RESOURCE_URL=5]="RESOURCE_URL",Le))();function os(n){const e=function Ku(){const n=T();return n&&n[12]}();return e?e.sanitize(Le.URL,n)||"":Di(n,"URL")?Ir(n):qu(ie(n))}const DO="__ngContext__";function xn(n,e){n[DO]=e}function bb(n){const e=function Yu(n){return n[DO]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function Cb(n){return n.ngOriginalError}function s6(n,...e){n.error(...e)}class Qs{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=function i6(n){return n&&n.ngErrorLogger||s6}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Cb(e);for(;t&&Cb(t);)t=Cb(t);return t||null}}const m6=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind($e))();function Ai(n){return n instanceof Function?n():n}var Tr=(()=>((Tr=Tr||{})[Tr.Important=1]="Important",Tr[Tr.DashCase=2]="DashCase",Tr))();function Ib(n,e){return undefined(n,e)}function Qu(n){const e=n[3];return si(e)?e[3]:e}function Tb(n){return NO(n[13])}function Db(n){return NO(n[4])}function NO(n){for(;null!==n&&!si(n);)n=n[4];return n}function Ul(n,e,t,r,i){if(null!=r){let s,o=!1;si(r)?s=r:Ei(r)&&(o=!0,r=r[0]);const a=At(r);0===n&&null!==t?null==i?jO(e,t,a):Ko(e,t,a,i||null,!0):1===n&&null!==t?Ko(e,t,a,i||null,!0):2===n?function KO(n,e,t){const r=Np(n,e);r&&function M6(n,e,t,r){_t(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function R6(n,e,t,r,i){const s=t[7];s!==At(t)&&Ul(e,n,r,s,i);for(let a=10;a<t.length;a++){const l=t[a];Xu(l[1],l,n,e,r,s)}}(e,n,s,t,i)}}function Ab(n,e,t){if(_t(n))return n.createElement(e,t);{const r=null!==t?function h8(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(t):null;return null===r?n.createElement(e):n.createElementNS(r,e)}}function LO(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Wv(i,-1)),t.splice(r,1)}function Mb(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&LO(i,r),e>0&&(n[t-1][4]=r[4]);const s=Dp(n,10+e);!function w6(n,e){Xu(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function VO(n,e){if(!(256&e[2])){const t=e[11];_t(t)&&t.destroyNode&&Xu(n,e,t,3,null,null),function I6(n){let e=n[13];if(!e)return xb(n[1],n);for(;e;){let t=null;if(Ei(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Ei(e)&&xb(e[1],e),e=e[3];null===e&&(e=n),Ei(e)&&xb(e[1],e),t=e&&e[4]}e=t}}(e)}}function xb(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function A6(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Nu)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function S6(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):At(e[o]),l=r[i=t[s+2]],c=t[s+3];"boolean"==typeof c?a.removeEventListener(t[s],l,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(n,e),1===e[1].type&&_t(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&si(e[3])){t!==e[3]&&LO(t,e);const r=e[19];null!==r&&r.detachView(n)}}}function BO(n,e,t){return function UO(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===ri.None||i===ri.Emulated)return null}return Ur(r,t)}(n,e.parent,t)}function Ko(n,e,t,r,i){_t(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function jO(n,e,t){_t(n)?n.appendChild(e,t):e.appendChild(t)}function HO(n,e,t,r,i){null!==r?Ko(n,e,t,r,i):jO(n,e,t)}function Np(n,e){return _t(n)?n.parentNode(e):e.parentNode}function $O(n,e,t){return GO(n,e,t)}let GO=function zO(n,e,t){return 40&n.type?Ur(n,t):null};function Fp(n,e,t,r){const i=BO(n,r,e),s=e[11],a=$O(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)HO(s,i,t[l],a,!1);else HO(s,i,t,a,!1)}function Lp(n,e){if(null!==e){const t=e.type;if(3&t)return Ur(e,n);if(4&t)return Rb(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Lp(n,r);{const i=n[e.index];return si(i)?Rb(-1,i):At(i)}}if(32&t)return Ib(e,n)()||At(n[e.index]);{const r=WO(n,e);return null!==r?Array.isArray(r)?r[0]:Lp(Qu(n[16]),r):Lp(n,e.next)}}return null}function WO(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Rb(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Lp(r,i)}return e[7]}function Ob(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&xn(At(a),r),t.flags|=4),64!=(64&t.flags))if(8&l)Ob(n,e,t.child,r,i,s,!1),Ul(e,n,i,a,s);else if(32&l){const c=Ib(t,r);let u;for(;u=c();)Ul(e,n,i,u,s);Ul(e,n,i,a,s)}else 16&l?YO(n,e,r,t,i,s):Ul(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Xu(n,e,t,r,i,s){Ob(t,r,n.firstChild,e,i,s,!1)}function YO(n,e,t,r,i,s){const o=t[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Ul(e,n,i,l[c],s);else Ob(n,e,l,o[3],i,s,!0)}function QO(n,e,t){_t(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function Pb(n,e,t){_t(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function XO(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const ZO="ng-template";function P6(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==XO(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function JO(n){return 4===n.type&&n.value!==ZO}function N6(n,e,t){return e===(4!==n.type||t?n.value:ZO)}function F6(n,e,t){let r=4;const i=n.attrs||[],s=function B6(n){for(let e=0;e<n.length;e++)if(HR(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!N6(n,l,t)||""===l&&1===e.length){if(ai(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!P6(n.attrs,c,t)){if(ai(r))return!1;o=!0}continue}const d=L6(8&r?"class":l,i,JO(n),t);if(-1===d){if(ai(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==XO(f,c,0)||2&r&&c!==h){if(ai(r))return!1;o=!0}}}}else{if(!o&&!ai(r)&&!ai(l))return!1;if(o&&ai(l))continue;o=!1,r=l|1&r}}return ai(r)||o}function ai(n){return 0==(1&n)}function L6(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function U6(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function eP(n,e,t=!1){for(let r=0;r<e.length;r++)if(F6(n,e[r],t))return!0;return!1}function j6(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function tP(n,e){return n?":not("+e.trim()+")":e}function H6(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!ai(o)&&(e+=tP(s,i),i=""),r=o,s=s||!ai(r);t++}return""!==i&&(e+=tP(s,i)),e}const se={};function ge(n){nP(Ae(),T(),qn()+n,fp())}function nP(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&yp(e,s,t)}else{const s=n.preOrderHooks;null!==s&&vp(e,s,0,t)}Ks(t)}function Vp(n,e){return n<<17|e<<2}function li(n){return n>>17&32767}function Nb(n){return 2|n}function as(n){return(131068&n)>>2}function Fb(n,e){return-131069&n|e<<2}function Lb(n){return 1|n}function fP(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];Zv(i),o.contentQueries(2,e[s],s)}}}function Zu(n,e,t,r,i,s,o,a,l,c){const u=e.blueprint.slice();return u[0]=i,u[2]=140|r,xR(u),u[3]=u[15]=n,u[8]=t,u[10]=o||n&&n[10],u[11]=a||n&&n[11],u[12]=l||n&&n[12]||null,u[9]=c||n&&n[9]||null,u[6]=s,u[16]=2==e.type?n[16]:u,u}function jl(n,e,t,r,i){let s=n.data[e];if(null===s)s=function qb(n,e,t,r,i){const s=RR(),o=Kv(),l=n.data[e]=function o7(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(n,e,t,r,i),function I8(){return ne.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Pu(){const n=ne.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Ii(s,!0),s}function Hl(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Ju(n,e,t){mp(e);try{const r=n.viewQuery;null!==r&&tw(1,r,t);const i=n.template;null!==i&&pP(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&fP(n,e),n.staticViewQueries&&tw(2,n.viewQuery,t);const s=n.components;null!==s&&function r7(n,e){for(let t=0;t<e.length;t++)I7(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,gp()}}function $l(n,e,t,r){const i=e[2];if(256==(256&i))return;mp(e);const s=fp();try{xR(e),function OR(n){return ne.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&pP(n,e,t,2,r);const o=3==(3&i);if(!s)if(o){const c=n.preOrderCheckHooks;null!==c&&yp(e,c,null)}else{const c=n.preOrderHooks;null!==c&&vp(e,c,0,null),Jv(e,0)}if(function C7(n){for(let e=Tb(n);null!==e;e=Db(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(1024&i[2])&&Wv(s,1),i[2]|=1024}}}(e),function w7(n){for(let e=Tb(n);null!==e;e=Db(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];qv(r)&&$l(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&fP(n,e),!s)if(o){const c=n.contentCheckHooks;null!==c&&yp(e,c)}else{const c=n.contentHooks;null!==c&&vp(e,c,1),Jv(e,1)}!function t7(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Ks(~i);else{const s=i,o=t[++r],a=t[++r];T8(o,s),a(2,e[s])}}}finally{Ks(-1)}}(n,e);const a=n.components;null!==a&&function n7(n,e){for(let t=0;t<e.length;t++)E7(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&tw(2,l,r),!s)if(o){const c=n.viewCheckHooks;null!==c&&yp(e,c)}else{const c=n.viewHooks;null!==c&&vp(e,c,2),Jv(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Wv(e[3],-1))}finally{gp()}}function i7(n,e,t,r){const i=e[10],s=!fp(),o=MR(e);try{s&&!o&&i.begin&&i.begin(),o&&Ju(n,e,r),$l(n,e,t,r)}finally{s&&!o&&i.end&&i.end()}}function pP(n,e,t,r,i){const s=qn(),o=2&r;try{Ks(-1),o&&e.length>20&&nP(n,e,20,fp()),t(r,i)}finally{Ks(s)}}function mP(n,e,t){if(Vv(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function Wb(n,e,t){!kR()||(function f7(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||Lu(t,e),xn(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=oi(l);c&&y7(e,t,l);const u=Vu(e,n,a,t);xn(u,e),null!==o&&v7(0,a-i,u,l,0,o),c&&(Cr(t.index,e)[8]=u)}}(n,e,t,Ur(t,e)),128==(128&t.flags)&&function p7(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,a=function D8(){return ne.lFrame.currentDirectiveIndex}();try{Ks(o);for(let l=r;l<i;l++){const c=n.data[l],u=e[l];Qv(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&EP(c,u)}}finally{Ks(-1),Qv(a)}}(n,e,t))}function Kb(n,e,t=Ur){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function gP(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=jp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function jp(n,e,t,r,i,s,o,a,l,c){const u=20+r,d=u+i,h=function s7(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:se);return t}(u,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function vP(n,e,t,r){const i=MP(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&xP(n).push(r,i.length-1))}function bP(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function Dr(n,e,t,r,i,s,o,a){const l=Ur(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(OP(n,t,u,r,i),up(e)&&function c7(n,e){const t=Cr(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function l7(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,_t(s)?s.setProperty(l,r,i):tb(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function Yb(n,e,t,r){let i=!1;if(kR()){const s=function m7(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];eP(t,o.selectors,!1)&&(i||(i=[]),Ip(Lu(t,e),n,o.type),oi(o)?(IP(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,TP(t,n.data.length,s.length);for(let u=0;u<s.length;u++){const d=s[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=Hl(n,e,s.length,null);for(let u=0;u<s.length;u++){const d=s[u];t.mergedAttrs=wp(t.mergedAttrs,d.hostAttrs),DP(n,t,e,c,d),_7(c,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),c++}!function a7(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,l=null;for(let c=e.directiveStart;c<r;c++){const u=i[c],d=u.inputs,h=null===s||JO(e)?null:b7(d,s);o.push(h),a=bP(d,c,a),l=bP(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}(n,t)}o&&function g7(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new V(-301,!1);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=wp(t.mergedAttrs,t.attrs),i}function CP(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function h7(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(r,i,o)}}function EP(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function IP(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function _7(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;oi(e)&&(t[""]=n)}}function TP(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function DP(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=qo(i.type)),o=new Nu(s,oi(i),null);n.blueprint[r]=o,t[r]=o,CP(n,e,0,r,Hl(n,t,i.hostVars,se),i)}function y7(n,e,t){const r=Ur(e,n),i=gP(t),s=n[10],o=Hp(n,Zu(n,i,null,t.onPush?64:16,r,e,s,s.createRenderer(r,t),null,null));n[e.index]=o}function Mi(n,e,t,r,i,s){const o=Ur(n,e);!function Qb(n,e,t,r,i,s,o){if(null==s)_t(n)?n.removeAttribute(e,i,t):e.removeAttribute(i);else{const a=null==o?ie(s):o(s,r||"",i);_t(n)?n.setAttribute(e,i,a,t):t?e.setAttributeNS(t,i,a):e.setAttribute(i,a)}}(e[11],o,s,n.value,t,r,i)}function v7(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?r.setInput(t,d,c,u):t[u]=d}}}function b7(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function SP(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function E7(n,e){const t=Cr(e,n);if(qv(t)){const r=t[1];80&t[2]?$l(r,t,r.template,t[8]):t[5]>0&&Xb(t)}}function Xb(n){for(let r=Tb(n);null!==r;r=Db(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];$l(o,s,o.template,s[8])}else s[5]>0&&Xb(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Cr(t[r],n);qv(i)&&i[5]>0&&Xb(i)}}function I7(n,e){const t=Cr(e,n),r=t[1];(function T7(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),Ju(r,t,t[8])}function Hp(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function Zb(n){for(;n;){n[2]|=64;const e=Qu(n);if(n8(n)&&!e)return n;n=e}return null}function ew(n,e,t){const r=e[10];r.begin&&r.begin();try{$l(n,e,n.template,t)}catch(i){throw RP(e,i),i}finally{r.end&&r.end()}}function AP(n){!function Jb(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=bb(t),i=r[1];i7(i,r,i.template,t)}}(n[8])}function tw(n,e,t){Zv(0),e(n,t)}const M7=(()=>Promise.resolve(null))();function MP(n){return n[7]||(n[7]=[])}function xP(n){return n.cleanup||(n.cleanup=[])}function kP(n,e,t){return(null===n||oi(n))&&(t=function m8(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(t[e.index])),t[11]}function RP(n,e){const t=n[9],r=t?t.get(Qs,null):null;r&&r.handleError(e)}function OP(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function ls(n,e,t){const r=hp(e,n);!function FO(n,e,t){_t(n)?n.setValue(e,t):e.textContent=t}(n[11],r,t)}function $p(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Mv(i,a):2==s&&(r=Mv(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const nw=new P("INJECTOR",-1);class PP{get(e,t=Hu){if(t===Hu){const r=new Error(`NullInjectorError: No provider for ${je(e)}!`);throw r.name="NullInjectorError",r}return t}}const rw=new P("Set Injector scope."),ed={},R7={};let iw;function NP(){return void 0===iw&&(iw=new PP),iw}function FP(n,e=null,t=null,r){const i=LP(n,e,t,r);return i._resolveInjectorDefTypes(),i}function LP(n,e=null,t=null,r){return new O7(n,t,e||NP(),r)}class O7{constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&Ti(t,a=>this.processProvider(a,e,t)),Ti([e],a=>this.processInjectorType(a,[],s)),this.records.set(nw,zl(void 0,this));const o=this.records.get(rw);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:je(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Hu,r=te.Default){this.assertNotDestroyed();const i=oO(this),s=zs(void 0);try{if(!(r&te.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function j7(n){return"function"==typeof n||"object"==typeof n&&n instanceof P}(e)&&kv(e);a=l&&this.injectableDefInScope(l)?zl(sw(e),ed):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&te.Self?NP():this.parent).get(e,t=r&te.Optional&&t===Hu?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Ap]=o[Ap]||[]).unshift(je(e)),i)throw o;return function d5(n,e,t,r){const i=n[Ap];throw e[sO]&&i.unshift(e[sO]),n.message=function h5(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=je(e);if(Array.isArray(e))i=e.map(je).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):je(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(o5,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Ap]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{zs(s),oO(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(je(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new V(205,!1)}processInjectorType(e,t,r){if(!(e=ce(e)))return!1;let i=gR(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=gR(s)),null==i)return!1;if(null!=i.imports&&!a){let u;r.push(o);try{Ti(i.imports,d=>{this.processInjectorType(d,t,r)&&(void 0===u&&(u=[]),u.push(d))})}finally{}if(void 0!==u)for(let d=0;d<u.length;d++){const{ngModule:h,providers:f}=u[d];Ti(f,p=>this.processProvider(p,h,f||qe))}}this.injectorDefTypes.add(o);const l=qo(o)||(()=>new o);this.records.set(o,zl(l,ed));const c=i.providers;if(null!=c&&!a){const u=e;Ti(c,d=>this.processProvider(d,u,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,r){let i=Gl(e=ce(e))?e:ce(e&&e.provide);const s=function N7(n,e,t){return BP(n)?zl(void 0,n.useValue):zl(VP(n),ed)}(e);if(Gl(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=zl(void 0,ed,!0),o.factory=()=>db(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,t){return t.value===ed&&(t.value=R7,t.value=t.factory()),"object"==typeof t.value&&t.value&&function U7(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ce(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function sw(n){const e=kv(n),t=null!==e?e.factory:qo(n);if(null!==t)return t;if(n instanceof P)throw new V(204,!1);if(n instanceof Function)return function P7(n){const e=n.length;if(e>0)throw ju(e,"?"),new V(204,!1);const t=function $4(n){const e=n&&(n[sp]||n[_R]);if(e){const t=function z4(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new V(204,!1)}function VP(n,e,t){let r;if(Gl(n)){const i=ce(n);return qo(i)||sw(i)}if(BP(n))r=()=>ce(n.useValue);else if(function L7(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...db(n.deps||[]));else if(function F7(n){return!(!n||!n.useExisting)}(n))r=()=>E(ce(n.useExisting));else{const i=ce(n&&(n.useClass||n.provide));if(!function B7(n){return!!n.deps}(n))return qo(i)||sw(i);r=()=>new i(...db(n.deps))}return r}function zl(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function BP(n){return null!==n&&"object"==typeof n&&l5 in n}function Gl(n){return"function"==typeof n}let ct=(()=>{class n{static create(t,r){var i;if(Array.isArray(t))return FP({name:""},r,t,"");{const s=null!==(i=t.name)&&void 0!==i?i:"";return FP({name:s},t.parent,t.providers,s)}}}return n.THROW_IF_NOT_FOUND=Hu,n.NULL=new PP,n.\u0275prov=L({token:n,providedIn:"any",factory:()=>E(nw)}),n.__NG_ELEMENT_ID__=-1,n})();function Y7(n,e){_p(bb(n)[1],Vt())}function we(n){let e=function XP(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(oi(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,"");i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=lw(n.inputs),o.declaredInputs=lw(n.declaredInputs),o.outputs=lw(n.outputs);const a=i.hostBindings;a&&J7(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&X7(n,l),c&&Z7(n,c),Av(n.inputs,i.inputs),Av(n.declaredInputs,i.declaredInputs),Av(n.outputs,i.outputs),oi(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===we&&(t=!1)}}e=Object.getPrototypeOf(e)}!function Q7(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=wp(i.hostAttrs,t=wp(t,i.hostAttrs))}}(r)}function lw(n){return n===bl?{}:n===qe?[]:n}function X7(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function Z7(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function J7(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let zp=null;function ql(){if(!zp){const n=$e.Symbol;if(n&&n.iterator)zp=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(zp=r)}}}return zp}function td(n){return!!cw(n)&&(Array.isArray(n)||!(n instanceof Map)&&ql()in n)}function cw(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function xi(n,e,t){return n[e]=t}function kn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Rn(n,e,t,r){const i=T();return kn(i,Dl(),e)&&(Ae(),Mi(yt(),i,n,e,t,r)),Rn}function Kl(n,e,t,r){return kn(n,Dl(),t)?e+ie(t)+r:se}function st(n,e,t,r,i,s,o,a){const l=T(),c=Ae(),u=n+20,d=c.firstCreatePass?function oY(n,e,t,r,i,s,o,a,l){const c=e.consts,u=jl(e,n,4,o||null,Ws(c,a));Yb(e,t,u,Ws(c,l)),_p(e,u);const d=u.tViews=jp(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,s,o):c.data[u];Ii(d,!1);const h=l[11].createComment("");Fp(c,l,h,d),xn(h,l),Hp(l,l[u]=SP(h,l,h,d)),dp(d)&&Wb(c,l,d),null!=o&&Kb(l,d,a)}function v(n,e=te.Default){const t=T();return null===t?E(n,e):YR(Vt(),t,ce(n),e)}function rd(){throw new Error("invalid")}function de(n,e,t){const r=T();return kn(r,Dl(),e)&&Dr(Ae(),yt(),r,n,e,r[11],t,!1),de}function pw(n,e,t,r,i){const o=i?"class":"style";OP(n,t,e.inputs[o],o,r)}function z(n,e,t,r){const i=T(),s=Ae(),o=20+n,a=i[11],l=i[o]=Ab(a,e,function P8(){return ne.lFrame.currentNamespace}()),c=s.firstCreatePass?function AY(n,e,t,r,i,s,o){const a=e.consts,c=jl(e,n,2,i,Ws(a,s));return Yb(e,t,c,Ws(a,o)),null!==c.attrs&&$p(c,c.attrs,!1),null!==c.mergedAttrs&&$p(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,t,r):s.data[o];Ii(c,!0);const u=c.mergedAttrs;null!==u&&bp(a,l,u);const d=c.classes;null!==d&&Pb(a,l,d);const h=c.styles;return null!==h&&QO(a,l,h),64!=(64&c.flags)&&Fp(s,i,l,c),0===function y8(){return ne.lFrame.elementDepthCount}()&&xn(l,i),function v8(){ne.lFrame.elementDepthCount++}(),dp(c)&&(Wb(s,i,c),mP(s,c,i)),null!==r&&Kb(i,c),z}function q(){let n=Vt();Kv()?Yv():(n=n.parent,Ii(n,!1));const e=n;!function b8(){ne.lFrame.elementDepthCount--}();const t=Ae();return t.firstCreatePass&&(_p(t,n),Vv(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function B8(n){return 0!=(16&n.flags)}(e)&&pw(t,e,T(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function U8(n){return 0!=(32&n.flags)}(e)&&pw(t,e,T(),e.stylesWithoutHost,!1),q}function Qt(n,e,t,r){return z(n,e,t,r),q(),Qt}function id(n,e,t){const r=T(),i=Ae(),s=n+20,o=i.firstCreatePass?function MY(n,e,t,r,i){const s=e.consts,o=Ws(s,r),a=jl(e,n,8,"ng-container",o);return null!==o&&$p(a,o,!0),Yb(e,t,a,Ws(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];Ii(o,!0);const a=r[s]=r[11].createComment("");return Fp(i,r,a,o),xn(a,r),dp(o)&&(Wb(i,r,o),mP(i,o,r)),null!=t&&Kb(r,o),id}function sd(){let n=Vt();const e=Ae();return Kv()?Yv():(n=n.parent,Ii(n,!1)),e.firstCreatePass&&(_p(e,n),Vv(n)&&e.queries.elementEnd(n)),sd}function cs(){return T()}function od(n){return!!n&&"function"==typeof n.then}function yN(n){return!!n&&"function"==typeof n.subscribe}const mw=yN;function Ve(n,e,t,r){const i=T(),s=Ae(),o=Vt();return vN(s,i,i[11],o,n,e,!!t,r),Ve}function gw(n,e){const t=Vt(),r=T(),i=Ae();return vN(i,r,kP(Xv(i.data),t,r),t,n,e,!1),gw}function vN(n,e,t,r,i,s,o,a){const l=dp(r),u=n.firstCreatePass&&xP(n),d=e[8],h=MP(e);let f=!0;if(3&r.type||a){const _=Ur(r,e),b=a?a(_):_,y=h.length,I=a?M=>a(At(M[r.index])):r.index;if(_t(t)){let M=null;if(!a&&l&&(M=function xY(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==M)(M.__ngLastListenerFn__||M).__ngNextListenerFn__=s,M.__ngLastListenerFn__=s,f=!1;else{s=_w(r,e,d,s,!1);const H=t.listen(b,i,s);h.push(s,H),u&&u.push(i,I,y,y+1)}}else s=_w(r,e,d,s,!0),b.addEventListener(i,s,o),h.push(s),u&&u.push(i,I,y,o)}else s=_w(r,e,d,s,!1);const p=r.outputs;let m;if(f&&null!==p&&(m=p[i])){const _=m.length;if(_)for(let b=0;b<_;b+=2){const Q=e[m[b]][m[b+1]].subscribe(s),pe=h.length;h.push(s,Q),u&&u.push(i,r.index,pe,-(pe+1))}}}function bN(n,e,t,r){try{return!1!==t(r)}catch(i){return RP(n,i),!1}}function _w(n,e,t,r,i){return function s(o){if(o===Function)return r;const a=2&n.flags?Cr(n.index,e):e;0==(32&e[2])&&Zb(a);let l=bN(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)l=bN(e,0,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function vt(n=1){return function A8(n){return(ne.lFrame.contextLView=function M8(n,e){for(;n>0;)e=e[15],n--;return e}(n,ne.lFrame.contextLView))[8]}(n)}function kY(n,e){let t=null;const r=function V6(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?eP(n,s,!0):j6(r,s))return i}else t=i}return t}function ad(n){const e=T()[16][6];if(!e.projection){const r=e.projection=ju(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?kY(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function Sr(n,e=0,t){const r=T(),i=Ae(),s=jl(i,20+n,16,null,t||null);null===s.projection&&(s.projection=e),Yv(),64!=(64&s.flags)&&function k6(n,e,t){YO(e[11],0,e,t,BO(n,t,e),$O(t.parent||e[6],t,e))}(i,r,s)}function us(n,e,t,r,i){const s=T(),o=Kl(s,e,t,r);return o!==se&&Dr(Ae(),yt(),s,n,o,s[11],i,!1),us}function xN(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?li(s):as(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];PY(n[a],e)&&(l=!0,n[a+1]=r?Lb(u):Nb(u)),a=r?li(u):as(u)}l&&(n[t+1]=r?Nb(s):Lb(s))}function PY(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Nl(n,e)>=0}function yw(n,e,t){return ui(n,e,t,!1),yw}function On(n,e){return ui(n,e,null,!0),On}function ui(n,e,t,r){const i=T(),s=Ae(),o=function ss(n){const e=ne.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function VN(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[qn()],o=function LN(n,e){return e>=n.expandoStartIndex}(n,t);(function HN(n,e){return 0!=(n.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function $Y(n,e,t,r){const i=Xv(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=ld(t=vw(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=vw(i,n,e,t,r),null===s){let l=function zY(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==as(r))return n[li(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=vw(null,n,e,l[1],r),l=ld(l,e.attrs,r),function GY(n,e,t,r){n[li(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function qY(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=ld(r,n[s].hostAttrs,t);return ld(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function RY(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=li(o),l=as(o);n[r]=t;let u,c=!1;if(Array.isArray(t)){const d=t;u=d[1],(null===u||Nl(d,u)>0)&&(c=!0)}else u=t;if(i)if(0!==l){const h=li(n[a+1]);n[r+1]=Vp(h,a),0!==h&&(n[h+1]=Fb(n[h+1],r)),n[a+1]=function G6(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Vp(a,0),0!==a&&(n[a+1]=Fb(n[a+1],r)),a=r;else n[r+1]=Vp(l,0),0===a?a=r:n[l+1]=Fb(n[l+1],r),l=r;c&&(n[r+1]=Nb(n[r+1])),xN(n,u,r,!0),xN(n,u,r,!1),function OY(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Nl(s,e)>=0&&(t[r+1]=Lb(t[r+1]))}(e,u,n,r,s),o=Vp(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==se&&kn(i,o,e)&&function UN(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1];Wp(function sP(n){return 1==(1&n)}(c)?jN(l,e,t,i,as(c),o):void 0)||(Wp(s)||function iP(n){return 2==(2&n)}(c)&&(s=jN(l,null,t,i,a,o)),function O6(n,e,t,r,i){const s=_t(n);if(e)i?s?n.addClass(t,r):t.classList.add(r):s?n.removeClass(t,r):t.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:Tr.DashCase;if(null==i)s?n.removeStyle(t,r,o):t.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=Tr.Important),s?n.setStyle(t,r,i,o):t.style.setProperty(r,i,a?"important":"")}}}(r,o,hp(qn(),t),i,s))}(s,s.data[qn()],i,i[11],n,i[o+1]=function YY(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=je(Ir(n)))),n}(e,t),r,o)}function vw(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=ld(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function ld(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Er(n,o,!!t||e[++s]))}return void 0===n?null:n}function jN(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[i+1];h===se&&(h=d?qe:void 0);let f=d?lb(h,r):u===r?h:void 0;if(c&&!Wp(f)&&(f=lb(l,r)),Wp(f)&&(a=f,o))return a;const p=n[i+1];i=o?li(p):as(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=lb(l,r))}return a}function Wp(n){return void 0!==n}function ze(n,e=""){const t=T(),r=Ae(),i=n+20,s=r.firstCreatePass?jl(r,i,1,e,null):r.data[i],o=t[i]=function Sb(n,e){return _t(n)?n.createText(e):n.createTextNode(e)}(t[11],e);Fp(r,t,o,s),Ii(s,!1)}function ds(n){return Kp("",n,""),ds}function Kp(n,e,t){const r=T(),i=Kl(r,n,e,t);return i!==se&&ls(r,qn(),i),Kp}function cd(n,e,t){const r=T();return kn(r,Dl(),e)&&Dr(Ae(),yt(),r,n,e,r[11],t,!0),cd}function bw(n,e,t){const r=T();if(kn(r,Dl(),e)){const s=Ae(),o=yt();Dr(s,o,r,n,e,kP(Xv(s.data),o,r),t,!0)}return bw}const Yp="en-US";let c1=Yp;function Ew(n,e,t,r,i){if(n=ce(n),Array.isArray(n))for(let s=0;s<n.length;s++)Ew(n[s],e,t,r,i);else{const s=Ae(),o=T();let a=Gl(n)?n:ce(n.provide),l=VP(n);const c=Vt(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Gl(n)||!n.multi){const f=new Nu(l,i,v),p=Tw(a,e,i?u:u+h,d);-1===p?(Ip(Lu(c,o),s,a),Iw(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=Tw(a,e,u+h,d),p=Tw(a,e,u,u+h),m=f>=0&&t[f],_=p>=0&&t[p];if(i&&!_||!i&&!m){Ip(Lu(c,o),s,a);const b=function p9(n,e,t,r,i){const s=new Nu(n,t,v);return s.multi=[],s.index=e,s.componentProviders=0,O1(s,i,r&&!t),s}(i?f9:h9,t.length,i,r,l);!i&&_&&(t[p].providerFactory=b),Iw(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(b),o.push(b)}else Iw(s,n,f>-1?f:p,O1(t[i?p:f],l,!i&&r));!i&&r&&_&&t[p].componentProviders++}}}function Iw(n,e,t,r){const i=Gl(e),s=function V7(n){return!!n.useClass}(e);if(i||s){const l=(s?ce(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function O1(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Tw(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function h9(n,e,t,r){return Dw(this.multi,[])}function f9(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Vu(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),Dw(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Dw(i,s);return s}function Dw(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Xe(n,e=[]){return t=>{t.providersResolver=(r,i)=>function d9(n,e,t){const r=Ae();if(r.firstCreatePass){const i=oi(n);Ew(t,r.data,r.blueprint,i,!0),Ew(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class P1{}class _9{resolveComponentFactory(e){throw function g9(n){const e=Error(`No component factory found for ${je(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Xo=(()=>{class n{}return n.NULL=new _9,n})();function y9(){return oc(Vt(),T())}function oc(n,e){return new Ze(Ur(n,e))}let Ze=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=y9,n})();function v9(n){return n instanceof Ze?n.nativeElement:n}class pd{}let hs=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function w9(){const n=T(),t=Cr(Vt().index,n);return function b9(n){return n[11]}(Ei(t)?t:n)}(),n})(),C9=(()=>{class n{}return n.\u0275prov=L({token:n,providedIn:"root",factory:()=>null}),n})();class Js{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const F1=new Js("13.3.3"),Sw={};function em(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(At(s)),si(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1].firstChild;null!==c&&em(l[1],l,c,r)}const o=t.type;if(8&o)em(n,e,t.child,r);else if(32&o){const a=Ib(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=WO(e,t);if(Array.isArray(a))r.push(...a);else{const l=Qu(e[16]);em(l[1],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class md{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return em(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(si(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Mb(e,r),Dp(t,r))}this._attachedToViewContainer=!1}VO(this._lView[1],this._lView)}onDestroy(e){vP(this._lView[1],this._lView,null,e)}markForCheck(){Zb(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ew(this._lView[1],this._lView,this.context)}checkNoChanges(){!function S7(n,e,t){pp(!0);try{ew(n,e,t)}finally{pp(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new V(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function E6(n,e){Xu(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,"");this._appRef=e}}class E9 extends md{constructor(e){super(e),this._view=e}detectChanges(){AP(this._view)}checkNoChanges(){!function A7(n){pp(!0);try{AP(n)}finally{pp(!1)}}(this._view)}get context(){return null}}class L1 extends Xo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=An(e);return new Aw(t,this.ngModule)}}function V1(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class Aw extends P1{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function $6(n){return n.map(H6).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return V1(this.componentDef.inputs)}get outputs(){return V1(this.componentDef.outputs)}create(e,t,r,i){const s=(i=i||this.ngModule)?function T9(n,e){return{get:(t,r,i)=>{const s=n.get(t,Sw,i);return s!==Sw||r===Sw?s:e.get(t,r,i)}}}(e,i.injector):e,o=s.get(pd,AR),a=s.get(C9,null),l=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=r?function yP(n,e,t){if(_t(n))return n.selectRootElement(e,t===ri.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(l,r,this.componentDef.encapsulation):Ab(o.createRenderer(null,this.componentDef),c,function I9(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),d=this.componentDef.onPush?576:528,h=function QP(n,e){return{components:[],scheduler:n||m6,clean:M7,playerHandler:e||null,flags:0}}(),f=jp(0,null,null,1,0,null,null,null,null,null),p=Zu(null,f,h,d,null,null,o,l,a,s);let m,_;mp(p);try{const b=function KP(n,e,t,r,i,s){const o=t[1];t[20]=n;const l=jl(o,20,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&($p(l,c,!0),null!==n&&(bp(i,n,c),null!==l.classes&&Pb(i,n,l.classes),null!==l.styles&&QO(i,n,l.styles)));const u=r.createRenderer(n,e),d=Zu(t,gP(e),null,e.onPush?64:16,t[20],l,r,u,s||null,null);return o.firstCreatePass&&(Ip(Lu(l,t),o,e.type),IP(o,l),TP(l,t.length,1)),Hp(t,d),t[20]=d}(u,this.componentDef,p,o,l);if(u)if(r)bp(l,u,["ng-version",F1.full]);else{const{attrs:y,classes:I}=function z6(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!ai(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);y&&bp(l,u,y),I&&I.length>0&&Pb(l,u,I.join(" "))}if(_=Gv(f,20),void 0!==t){const y=_.projection=[];for(let I=0;I<this.ngContentSelectors.length;I++){const M=t[I];y.push(null!=M?Array.from(M):null)}}m=function YP(n,e,t,r,i){const s=t[1],o=function d7(n,e,t){const r=Vt();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),DP(n,r,e,Hl(n,e,1,null),t));const i=Vu(e,n,r.directiveStart,r);xn(i,e);const s=Ur(r,e);return s&&xn(s,e),i}(s,t,e);if(r.components.push(o),n[8]=o,i&&i.forEach(l=>l(o,e)),e.contentQueries){const l=Vt();e.contentQueries(1,o,l.directiveStart)}const a=Vt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Ks(a.index),CP(t[1],a,0,a.directiveStart,a.directiveEnd,e),EP(e,o)),o}(b,this.componentDef,p,h,[Y7]),Ju(f,p,null)}finally{gp()}return new S9(this.componentType,m,oc(_,p),p,_)}}class S9 extends class m9{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new E9(i),this.componentType=e}get injector(){return new Ml(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class fs{}class B1{}const ac=new Map;class H1 extends fs{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new L1(this);const r=Lr(e);this._bootstrapComponents=Ai(r.bootstrap),this._r3Injector=LP(e,t,[{provide:fs,useValue:this},{provide:Xo,useValue:this.componentFactoryResolver}],je(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=ct.THROW_IF_NOT_FOUND,r=te.Default){return e===ct||e===fs||e===nw?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Mw extends B1{constructor(e){super(),this.moduleType=e,null!==Lr(e)&&function M9(n){const e=new Set;!function t(r){const i=Lr(r,!0),s=i.id;null!==s&&(function U1(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${je(e)} vs ${je(e.name)}`)}(s,ac.get(s),r),ac.set(s,r));const o=Ai(i.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new H1(this.moduleType,e)}}function xw(n,e,t,r){return z1(T(),Gn(),n,e,t,r)}function z1(n,e,t,r,i,s){const o=e+t;return kn(n,o,i)?xi(n,o+1,s?r.call(s,i):r(i)):function gd(n,e){const t=n[e];return t===se?void 0:t}(n,o+1)}function kw(n){return e=>{setTimeout(n,void 0,e)}}const Je=class $9 extends Pe{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,s,o;let a=e,l=t||(()=>null),c=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),l=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(l=kw(l),a&&(a=kw(a)),c&&(c=kw(c)));const u=super.subscribe({next:a,error:l,complete:c});return e instanceof hn&&e.add(u),u}};function z9(){return this._results[ql()]()}class Rw{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=ql(),r=Rw.prototype;r[t]||(r[t]=z9)}get changes(){return this._changes||(this._changes=new Je)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=jr(e);(this._changesDetected=!function Q8(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Oi=(()=>{class n{}return n.__NG_ELEMENT_ID__=W9,n})();const G9=Oi,q9=class extends G9{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=Zu(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(t)),Ju(t,r,e),new md(r)}};function W9(){return tm(Vt(),T())}function tm(n,e){return 4&n.type?new q9(e,n,oc(n,e)):null}let Ar=(()=>{class n{}return n.__NG_ELEMENT_ID__=K9,n})();function K9(){return J1(Vt(),T())}const Y9=Ar,X1=class extends Y9{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return oc(this._hostTNode,this._hostLView)}get injector(){return new Ml(this._hostTNode,this._hostLView)}get parentInjector(){const e=Ep(this._hostTNode,this._hostLView);if(zR(e)){const t=Al(e,this._hostLView),r=Sl(e);return new Ml(t[1].data[r+8],t)}return new Ml(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Z1(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,s){const o=e&&!function Uu(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const l=o?e:new Aw(An(e)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const h=(o?c:this.parentInjector).get(fs,null);h&&(s=h)}const u=l.create(c,i,void 0,s);return this.insert(u.hostView,a),u}insert(e,t){const r=e._lView,i=r[1];if(function _8(n){return si(n[3])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=r[3],h=new X1(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function T6(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],eO(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function D6(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(i,r,o,s);const a=Rb(s,o),l=r[11],c=Np(l,o[7]);return null!==c&&function C6(n,e,t,r,i,s){r[0]=i,r[6]=e,Xu(n,r,t,1,i,s)}(i,o[6],l,r,c,a),e.attachToViewContainerRef(),eO(Ow(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Z1(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Mb(this._lContainer,t);r&&(Dp(Ow(this._lContainer),t),VO(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Mb(this._lContainer,t);return r&&null!=Dp(Ow(this._lContainer),t)?new md(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function Z1(n){return n[8]}function Ow(n){return n[8]||(n[8]=[])}function J1(n,e){let t;const r=e[n.index];if(si(r))t=r;else{let i;if(8&n.type)i=At(r);else{const s=e[11];i=s.createComment("");const o=Ur(n,e);Ko(s,Np(s,o),i,function x6(n,e){return _t(n)?n.nextSibling(e):e.nextSibling}(s,o),!1)}e[n.index]=t=SP(r,e,i,n),Hp(e,t)}return new X1(t,n,e)}class Pw{constructor(e){this.queryList=e,this.matches=null}clone(){return new Pw(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nw{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Nw(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==iF(e,t).matches&&this.queries[t].setDirty()}}class eF{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Fw{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new Fw(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Lw{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Lw(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,Z9(t,s)),this.matchTNodeWithReadOption(e,t,Tp(t,e,s,!1,!1))}else r===Oi?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Tp(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Ze||i===Ar||i===Oi&&4&t.type)this.addMatch(t.index,-2);else{const s=Tp(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Z9(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function eX(n,e,t,r){return-1===t?function J9(n,e){return 11&n.type?oc(n,e):4&n.type?tm(n,e):null}(e,n):-2===t?function tX(n,e,t){return t===Ze?oc(e,n):t===Oi?tm(e,n):t===Ar?J1(e,n):void 0}(n,e,r):Vu(n,n[1],t,e)}function tF(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:eX(e,s[c],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function Vw(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=tF(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&Vw(h[1],h,c,r)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];Vw(f[1],f,c,r)}}}}}return r}function Xt(n){const e=T(),t=Ae(),r=NR();Zv(r+1);const i=iF(t,r);if(n.dirty&&MR(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?Vw(t,e,r,[]):tF(t,e,i,r);n.reset(s,v9),n.notifyOnChanges()}return!0}return!1}function Zo(n,e,t){const r=Ae();r.firstCreatePass&&(rF(r,new eF(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),nF(r,T(),e)}function $r(n,e,t,r){const i=Ae();if(i.firstCreatePass){const s=Vt();rF(i,new eF(e,t,r),s.index),function rX(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}nF(i,T(),t)}function Zt(){return function nX(n,e){return n[19].queries[e].queryList}(T(),NR())}function nF(n,e,t){const r=new Rw(4==(4&t));vP(n,e,r,r.destroy),null===e[19]&&(e[19]=new Nw),e[19].queries.push(new Pw(r))}function rF(n,e,t){null===n.queries&&(n.queries=new Fw),n.queries.track(new Lw(e,t))}function iF(n,e){return n.queries.getByIndex(e)}function im(...n){}const zw=new P("Application Initializer");let Gw=(()=>{class n{constructor(t){this.appInits=t,this.resolve=im,this.reject=im,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(od(s))t.push(s);else if(mw(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(E(zw,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vd=new P("AppId",{providedIn:"root",factory:function wF(){return`${qw()}${qw()}${qw()}`}});function qw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const CF=new P("Platform Initializer"),bd=new P("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),EF=new P("appBootstrapListener");let wX=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ps=new P("LocaleId",{providedIn:"root",factory:()=>Mp(ps,te.Optional|te.SkipSelf)||function CX(){return"undefined"!=typeof $localize&&$localize.locale||Yp}()});class IX{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let IF=(()=>{class n{compileModuleSync(t){return new Mw(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Ai(Lr(t).declarations).reduce((o,a)=>{const l=An(a);return l&&o.push(new Aw(l)),o},[]);return new IX(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const DX=(()=>Promise.resolve(0))();function Ww(n){"undefined"==typeof Zone?DX.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class he{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Je(!1),this.onMicrotaskEmpty=new Je(!1),this.onStable=new Je(!1),this.onError=new Je(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function SX(){let n=$e.requestAnimationFrame,e=$e.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function xX(n){const e=()=>{!function MX(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call($e,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Yw(n),n.isCheckStableRunning=!0,Kw(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Yw(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return TF(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),DF(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return TF(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),DF(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Yw(n),Kw(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!he.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(he.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,AX,im,im);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const AX={};function Kw(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Yw(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function TF(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function DF(n){n._nesting--,Kw(n)}class kX{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Je,this.onMicrotaskEmpty=new Je,this.onStable=new Je,this.onError=new Je}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let Qw=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{he.assertNotInAngularZone(),Ww(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ww(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(E(he))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})(),RX=(()=>{class n{constructor(){this._applications=new Map,Xw.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Xw.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class OX{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let hi,Xw=new OX;const SF=new P("AllowMultipleToken");class AF{constructor(e,t){this.name=e,this.token=t}}function MF(n,e,t=[]){const r=`Platform: ${e}`,i=new P(r);return(s=[])=>{let o=xF();if(!o||o.injector.get(SF,!1))if(n)n(t.concat(s).concat({provide:i,useValue:!0}));else{const a=t.concat(s).concat({provide:i,useValue:!0},{provide:rw,useValue:"platform"});!function LX(n){if(hi&&!hi.destroyed&&!hi.injector.get(SF,!1))throw new V(400,"");hi=n.get(BX);const e=n.get(CF,null);e&&e.forEach(t=>t())}(ct.create({providers:a,name:r}))}return function VX(n){const e=xF();if(!e)throw new V(401,"");return e}()}}function xF(){return hi&&!hi.destroyed?hi:null}let BX=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const a=function UX(n,e){let t;return t="noop"===n?new kX:("zone.js"===n?void 0:n)||new he({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),l=[{provide:he,useValue:a}];return a.run(()=>{const c=ct.create({providers:l,parent:this.injector,name:t.moduleType.name}),u=t.create(c),d=u.injector.get(Qs,null);if(!d)throw new V(402,"");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});u.onDestroy(()=>{Zw(this._modules,u),h.unsubscribe()})}),function jX(n,e,t){try{const r=t();return od(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(d,a,()=>{const h=u.injector.get(Gw);return h.runInitializers(),h.donePromise.then(()=>(function bQ(n){br(n,"Expected localeId to be defined"),"string"==typeof n&&(c1=n.toLowerCase().replace(/_/g,"-"))}(u.injector.get(ps,Yp)||Yp),this._moduleDoBootstrap(u),u))})})}bootstrapModule(t,r=[]){const i=kF({},r);return function NX(n,e,t){const r=new Mw(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(sm);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new V(403,"");t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new V(404,"");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(E(ct))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function kF(n,e){return Array.isArray(e)?e.reduce(kF,n):Object.assign(Object.assign({},n),e)}let sm=(()=>{class n{constructor(t,r,i,s){this._zone=t,this._injector=r,this._exceptionHandler=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new He(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),a=new He(l=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{he.assertNotInAngularZone(),Ww(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{he.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{c.unsubscribe(),u.unsubscribe()}});this.isStable=Dv(o,a.pipe(fR()))}bootstrap(t,r){if(!this._initStatus.done)throw new V(405,"");let i;i=t instanceof P1?t:this._injector.get(Xo).resolveComponentFactory(t),this.componentTypes.push(i.componentType);const s=function FX(n){return n.isBoundToModule}(i)?void 0:this._injector.get(fs),a=i.create(ct.NULL,[],r||i.selector,s),l=a.location.nativeElement,c=a.injector.get(Qw,null),u=c&&a.injector.get(RX);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),Zw(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new V(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Zw(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(EF,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(E(he),E(ct),E(Qs),E(Gw))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zw(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let OF=!0,eo=(()=>{class n{}return n.__NG_ELEMENT_ID__=zX,n})();function zX(n){return function GX(n,e,t){if(up(n)&&!t){const r=Cr(n.index,e);return new md(r,r)}return 47&n.type?new md(e[16],e):null}(Vt(),T(),16==(16&n))}class VF{constructor(){}supports(e){return td(e)}create(e){return new XX(e)}}const QX=(n,e)=>e;class XX{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||QX}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<UF(r,i,s)?t:r,a=UF(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!td(e))throw new V(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function sY(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[ql()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new ZX(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new BF),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new BF),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class ZX{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class JX{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class BF{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new JX,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function UF(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class jF{constructor(){}supports(e){return e instanceof Map||cw(e)}create(){return new eZ}}class eZ{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||cw(e)))throw new V(900,"")}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new tZ(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class tZ{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function HF(){return new lm([new VF])}let lm=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||HF()),deps:[[n,new Fl,new Qe]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new V(901,"")}}return n.\u0275prov=L({token:n,providedIn:"root",factory:HF}),n})();function $F(){return new wd([new jF])}let wd=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||$F()),deps:[[n,new Fl,new Qe]]}}find(t){const r=this.factories.find(s=>s.supports(t));if(r)return r;throw new V(901,"")}}return n.\u0275prov=L({token:n,providedIn:"root",factory:$F}),n})();const iZ=MF(null,"core",[]);let sZ=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(E(sm))},n.\u0275mod=Ne({type:n}),n.\u0275inj=Re({}),n})(),cm=null;function Pi(){return cm}const _e=new P("DocumentToken");let ea=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=L({token:n,factory:function(){return function cZ(){return E(zF)}()},providedIn:"platform"}),n})();const uZ=new P("Location Initialized");let zF=(()=>{class n extends ea{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pi().getBaseHref(this._doc)}onPopState(t){const r=Pi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Pi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){GF()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){GF()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(E(_e))},n.\u0275prov=L({token:n,factory:function(){return function dZ(){return new zF(E(_e))}()},providedIn:"platform"}),n})();function GF(){return!!window.history.pushState}function rC(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function qF(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ms(n){return n&&"?"!==n[0]?"?"+n:n}let cc=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=L({token:n,factory:function(){return function hZ(n){const e=E(_e).location;return new WF(E(ea),e&&e.origin||"")}()},providedIn:"root"}),n})();const iC=new P("appBaseHref");let WF=(()=>{class n extends cc{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return rC(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ms(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+ms(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+ms(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(E(ea),E(iC,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})(),fZ=(()=>{class n extends cc{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=rC(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+ms(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+ms(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(E(ea),E(iC,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})(),Cd=(()=>{class n{constructor(t,r){this._subject=new Je,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=qF(KF(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ms(r))}normalize(t){return n.stripTrailingSlash(function mZ(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,KF(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ms(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ms(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=ms,n.joinWithSlash=rC,n.stripTrailingSlash=qF,n.\u0275fac=function(t){return new(t||n)(E(cc),E(ea))},n.\u0275prov=L({token:n,factory:function(){return function pZ(){return new Cd(E(cc),E(ea))}()},providedIn:"root"}),n})();function KF(n){return n.replace(/\/index.html$/,"")}let rL=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(td(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${je(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(v(lm),v(wd),v(Ze),v(hs))},n.\u0275dir=B({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class eJ{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pC=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new eJ(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),iL(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{iL(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(v(Ar),v(Oi),v(lm))},n.\u0275dir=B({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function iL(n,e){n.context.$implicit=e.item}let mC=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new tJ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){sL("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){sL("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(v(Ar),v(Oi))},n.\u0275dir=B({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class tJ{constructor(){this.$implicit=null,this.ngIf=null}}function sL(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${je(e)}'.`)}class gC{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let vm=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=B({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),oL=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new gC(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(v(Ar),v(Oi),v(vm,9))},n.\u0275dir=B({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),lL=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split(".");null!=(r=null!=r&&s?`${r}${s}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,i,r):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(v(Ze),v(wd),v(hs))},n.\u0275dir=B({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();class sJ{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class oJ{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const aJ=new oJ,lJ=new sJ;let cL=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(od(t))return aJ;if(yN(t))return lJ;throw function pi(n,e){return new V(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(v(eo,16))},n.\u0275pipe=or({name:"async",type:n,pure:!1}),n})(),vC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Re({}),n})();const dL="browser";let MJ=(()=>{class n{}return n.\u0275prov=L({token:n,providedIn:"root",factory:()=>new xJ(E(_e),window)}),n})();class xJ{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function kJ(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=hL(this.window.history)||hL(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function hL(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class bC extends class OJ extends class lZ{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function aZ(n){cm||(cm=n)}(new bC)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function PJ(){return Td=Td||document.querySelector("base"),Td?Td.getAttribute("href"):null}();return null==t?null:function NJ(n){bm=bm||document.createElement("a"),bm.setAttribute("href",n);const e=bm.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Td=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ZZ(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let bm,Td=null;const fL=new P("TRANSITION_ID"),LJ=[{provide:zw,useFactory:function FJ(n,e,t){return()=>{t.get(Gw).donePromise.then(()=>{const r=Pi(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[fL,_e,ct],multi:!0}];class wC{static init(){!function PX(n){Xw=n}(new wC)}addToWindow(e){$e.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},$e.getAllAngularTestabilities=()=>e.getAllTestabilities(),$e.getAllAngularRootElements=()=>e.getAllRootElements(),$e.frameworkStabilizers||($e.frameworkStabilizers=[]),$e.frameworkStabilizers.push(r=>{const i=$e.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?Pi().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let VJ=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();const wm=new P("EventManagerPlugins");let Cm=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(E(wm),E(he))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();class pL{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Pi().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let mL=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})(),Dd=(()=>{class n extends mL{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(gL),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(gL))}}return n.\u0275fac=function(t){return new(t||n)(E(_e))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();function gL(n){Pi().remove(n)}const CC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},EC=/%COMP%/g;function Em(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Em(n,i,t):(i=i.replace(EC,n),t.push(i))}return t}function vL(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Im=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new IC(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case ri.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new zJ(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case ri.ShadowDom:return new GJ(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Em(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(E(Cm),E(Dd),E(vd))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();class IC{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(CC[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=CC[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=CC[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Tr.DashCase|Tr.Important)?e.style.setProperty(t,r,i&Tr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Tr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,vL(r)):this.eventManager.addEventListener(e,t,vL(r))}}class zJ extends IC{constructor(e,t,r,i){super(e),this.component=r;const s=Em(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function jJ(n){return"_ngcontent-%COMP%".replace(EC,n)}(i+"-"+r.id),this.hostAttr=function HJ(n){return"_nghost-%COMP%".replace(EC,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class GJ extends IC{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Em(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let qJ=(()=>{class n extends pL{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(E(_e))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();const wL=["alt","control","meta","shift"],KJ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},CL={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},YJ={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let QJ=(()=>{class n extends pL{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pi().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="";if(wL.forEach(l=>{const c=r.indexOf(l);c>-1&&(r.splice(c,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(t){let r="",i=function XJ(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&CL.hasOwnProperty(e)&&(e=CL[e]))}return KJ[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),wL.forEach(s=>{s!=i&&YJ[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(E(_e))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();const tee=MF(iZ,"browser",[{provide:bd,useValue:dL},{provide:CF,useValue:function ZJ(){bC.makeCurrent(),wC.init()},multi:!0},{provide:_e,useFactory:function eee(){return function f8(n){$v=n}(document),document},deps:[]}]),nee=[{provide:rw,useValue:"root"},{provide:Qs,useFactory:function JJ(){return new Qs},deps:[]},{provide:wm,useClass:qJ,multi:!0,deps:[_e,he,bd]},{provide:wm,useClass:QJ,multi:!0,deps:[_e]},{provide:Im,useClass:Im,deps:[Cm,Dd,vd]},{provide:pd,useExisting:Im},{provide:mL,useExisting:Dd},{provide:Dd,useClass:Dd,deps:[_e]},{provide:Qw,useClass:Qw,deps:[he]},{provide:Cm,useClass:Cm,deps:[wm,he]},{provide:class RJ{},useClass:VJ,deps:[]}];let EL=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:vd,useValue:t.appId},{provide:fL,useExisting:vd},LJ]}}}return n.\u0275fac=function(t){return new(t||n)(E(n,12))},n.\u0275mod=Ne({type:n}),n.\u0275inj=Re({providers:nee,imports:[vC,sZ]}),n})();"undefined"!=typeof window&&window;let DC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=L({token:n,factory:function(t){let r=null;return r=t?new(t||n):E(DL),r},providedIn:"root"}),n})(),DL=(()=>{class n extends DC{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Le.NONE:return r;case Le.HTML:return Di(r,"HTML")?Ir(r):EO(this._doc,String(r)).toString();case Le.STYLE:return Di(r,"Style")?Ir(r):r;case Le.SCRIPT:if(Di(r,"Script"))return Ir(r);throw new Error("unsafe value used in a script context");case Le.URL:return mO(r),Di(r,"URL")?Ir(r):qu(String(r));case Le.RESOURCE_URL:if(Di(r,"ResourceURL"))return Ir(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function A5(n){return new E5(n)}(t)}bypassSecurityTrustStyle(t){return function M5(n){return new I5(n)}(t)}bypassSecurityTrustScript(t){return function x5(n){return new T5(n)}(t)}bypassSecurityTrustUrl(t){return function k5(n){return new D5(n)}(t)}bypassSecurityTrustResourceUrl(t){return function R5(n){return new S5(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(E(_e))},n.\u0275prov=L({token:n,factory:function(t){let r=null;return r=t?new t:function hee(n){return new DL(n.get(_e))}(E(ct)),r},providedIn:"root"}),n})();function K(...n){return Wt(n,Mu(n))}class qr extends Pe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:fee}=Array,{getPrototypeOf:pee,prototype:mee,keys:gee}=Object;function SL(n){if(1===n.length){const e=n[0];if(fee(e))return{args:e,keys:null};if(function _ee(n){return n&&"object"==typeof n&&pee(n)===mee}(e)){const t=gee(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:yee}=Array;function SC(n){return me(e=>function vee(n,e){return yee(e)?n(...e):n(e)}(n,e))}function AL(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function ML(...n){const e=Mu(n),t=dR(n),{args:r,keys:i}=SL(n);if(0===r.length)return Wt([],e);const s=new He(function bee(n,e,t=$s){return r=>{xL(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)xL(e,()=>{const c=Wt(n[l],e);let u=!1;c.subscribe(ft(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>AL(i,o):$s));return t?s.pipe(SC(t)):s}function xL(n,e,t){n?es(t,n,e):e()}function Sd(n,e){const t=oe(n)?n:()=>n,r=i=>i.error(t());return new He(e?i=>e.schedule(r,0,i):r)}const Tm=qt(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Dm(...n){return function wee(){return Au(1)}()(Wt(n,Mu(n)))}function AC(n){return new He(e=>{_r(n()).subscribe(e)})}function kL(){return Ct((n,e)=>{let t=null;n._refCount++;const r=ft(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Cee extends He{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Qk(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new hn;const t=this.getSubject();e.add(this.source.subscribe(ft(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=hn.EMPTY)}return e}refCount(){return kL()(this)}}function ta(n,e){return Ct((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(ft(r,l=>{null==i||i.unsubscribe();let c=0;const u=s++;_r(n(l,u)).subscribe(i=ft(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function uc(...n){const e=Mu(n);return Ct((t,r)=>{(e?Dm(n,t,e):Dm(n,t)).subscribe(r)})}function Eee(n,e,t,r,i){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(ft(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function RL(n,e){return Ct(Eee(n,e,arguments.length>=2,!0))}function Mr(n,e){return Ct((t,r)=>{let i=0;t.subscribe(ft(r,s=>n.call(e,s,i++)&&r.next(s)))})}function _s(n){return Ct((e,t)=>{let s,r=null,i=!1;r=e.subscribe(ft(t,void 0,void 0,o=>{s=_r(n(o,_s(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function dc(n,e){return oe(e)?Lt(n,e,1):Lt(n,1)}function MC(n){return n<=0?()=>Ci:Ct((e,t)=>{let r=[];e.subscribe(ft(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function OL(n=Iee){return Ct((e,t)=>{let r=!1;e.subscribe(ft(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Iee(){return new Tm}function PL(n){return Ct((e,t)=>{let r=!1;e.subscribe(ft(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function hc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Mr((i,s)=>n(i,s,r)):$s,yr(1),t?PL(e):OL(()=>new Tm))}function pn(n,e,t){const r=oe(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ct((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ft(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):$s}function NL(n){return Ct((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class ys{constructor(e,t){this.id=e,this.url=t}}class xC extends ys{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ad extends ys{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class FL extends ys{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Dee extends ys{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class See extends ys{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Aee extends ys{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mee extends ys{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xee extends ys{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kee extends ys{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LL{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class VL{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ree{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oee{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pee{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nee{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BL{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ce="primary";class Fee{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function fc(n){return new Fee(n)}const UL="ngNavigationCancelingError";function kC(n){const e=Error("NavigationCancelingError: "+n);return e[UL]=!0,e}function Vee(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ni(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!jL(n[i],e[i]))return!1;return!0}function jL(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function HL(n){return Array.prototype.concat.apply([],n)}function $L(n){return n.length>0?n[n.length-1]:null}function mn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Fi(n){return mw(n)?n:od(n)?Wt(Promise.resolve(n)):K(n)}const jee={exact:function qL(n,e,t){if(!ra(n.segments,e.segments)||!Sm(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!qL(n.children[r],e.children[r],t))return!1;return!0},subset:WL},zL={exact:function Hee(n,e){return Ni(n,e)},subset:function $ee(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>jL(n[t],e[t]))},ignored:()=>!0};function GL(n,e,t){return jee[t.paths](n.root,e.root,t.matrixParams)&&zL[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function WL(n,e,t){return KL(n,e,e.segments,t)}function KL(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!ra(i,t)||e.hasChildren()||!Sm(i,t,r))}if(n.segments.length===t.length){if(!ra(n.segments,t)||!Sm(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!WL(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(ra(n.segments,i)&&Sm(n.segments,i,r)&&n.children[Ce])&&KL(n.children[Ce],e,s,r)}}function Sm(n,e,t){return e.every((r,i)=>zL[t](n[i].parameters,r.parameters))}class na{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fc(this.queryParams)),this._queryParamMap}toString(){return qee.serialize(this)}}class Te{constructor(e,t){this.segments=e,this.children=t,this.parent=null,mn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Am(this)}}class Md{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=fc(this.parameters)),this._parameterMap}toString(){return JL(this)}}function ra(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class YL{}class QL{parse(e){const t=new tte(e);return new na(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${xd(e.root,!0)}`,r=function Yee(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Mm(t)}=${Mm(i)}`).join("&"):`${Mm(t)}=${Mm(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Wee(n){return encodeURI(n)}(e.fragment)}`:""}`}}const qee=new QL;function Am(n){return n.segments.map(e=>JL(e)).join("/")}function xd(n,e){if(!n.hasChildren())return Am(n);if(e){const t=n.children[Ce]?xd(n.children[Ce],!1):"",r=[];return mn(n.children,(i,s)=>{s!==Ce&&r.push(`${s}:${xd(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Gee(n,e){let t=[];return mn(n.children,(r,i)=>{i===Ce&&(t=t.concat(e(r,i)))}),mn(n.children,(r,i)=>{i!==Ce&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Ce?[xd(n.children[Ce],!1)]:[`${i}:${xd(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ce]?`${Am(n)}/${t[0]}`:`${Am(n)}/(${t.join("//")})`}}function XL(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mm(n){return XL(n).replace(/%3B/gi,";")}function RC(n){return XL(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xm(n){return decodeURIComponent(n)}function ZL(n){return xm(n.replace(/\+/g,"%20"))}function JL(n){return`${RC(n.path)}${function Kee(n){return Object.keys(n).map(e=>`;${RC(e)}=${RC(n[e])}`).join("")}(n.parameters)}`}const Qee=/^[^\/()?;=#]+/;function km(n){const e=n.match(Qee);return e?e[0]:""}const Xee=/^[^=?&#]+/,Jee=/^[^&#]+/;class tte{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ce]=new Te(e,t)),r}parseSegment(){const e=km(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Md(xm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=km(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=km(this.remaining);i&&(r=i,this.capture(r))}e[xm(t)]=xm(r)}parseQueryParam(e){const t=function Zee(n){const e=n.match(Xee);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function ete(n){const e=n.match(Jee);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=ZL(t),s=ZL(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=km(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Ce);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[Ce]:new Te([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class eV{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=OC(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=OC(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=PC(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return PC(e,this._root).map(t=>t.value)}}function OC(n,e){if(n===e.value)return e;for(const t of e.children){const r=OC(n,t);if(r)return r}return null}function PC(n,e){if(n===e.value)return[e];for(const t of e.children){const r=PC(n,t);if(r.length)return r.unshift(e),r}return[]}class vs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function pc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class tV extends eV{constructor(e,t){super(e),this.snapshot=t,NC(this,e)}toString(){return this.snapshot.toString()}}function nV(n,e){const t=function nte(n,e){const o=new Rm([],{},{},"",{},Ce,e,null,n.root,-1,{});return new iV("",new vs(o,[]))}(n,e),r=new qr([new Md("",{})]),i=new qr({}),s=new qr({}),o=new qr({}),a=new qr(""),l=new ia(r,i,o,a,s,Ce,e,t.root);return l.snapshot=t.root,new tV(new vs(l,[]),t)}class ia{constructor(e,t,r,i,s,o,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(me(e=>fc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(me(e=>fc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function rV(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function rte(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Rm{constructor(e,t,r,i,s,o,a,l,c,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=fc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class iV extends eV{constructor(e,t){super(t),this.url=e,NC(this,t)}toString(){return sV(this._root)}}function NC(n,e){e.value._routerState=n,e.children.forEach(t=>NC(n,t))}function sV(n){const e=n.children.length>0?` { ${n.children.map(sV).join(", ")} } `:"";return`${n.value}${e}`}function FC(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ni(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ni(e.params,t.params)||n.params.next(t.params),function Bee(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ni(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ni(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function LC(n,e){const t=Ni(n.params,e.params)&&function zee(n,e){return ra(n,e)&&n.every((t,r)=>Ni(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||LC(n.parent,e.parent))}function kd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function ste(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return kd(n,r,i);return kd(n,r)})}(n,e,t);return new vs(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>kd(n,a)),o}}const r=function ote(n){return new ia(new qr(n.url),new qr(n.params),new qr(n.queryParams),new qr(n.fragment),new qr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>kd(n,s));return new vs(r,i)}}function Om(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Rd(n){return"object"==typeof n&&null!=n&&n.outlets}function VC(n,e,t,r,i){let s={};if(r&&mn(r,(a,l)=>{s[l]=Array.isArray(a)?a.map(c=>`${c}`):`${a}`}),n===e)return new na(t,s,i);const o=oV(n,e,t);return new na(o,s,i)}function oV(n,e,t){const r={};return mn(n.children,(i,s)=>{r[s]=i===e?t:oV(i,e,t)}),new Te(n.segments,r)}class aV{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Om(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Rd);if(i&&i!==$L(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class BC{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function lV(n,e,t){if(n||(n=new Te([],{})),0===n.segments.length&&n.hasChildren())return Pm(n,e,t);const r=function hte(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Rd(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!uV(l,c,o))return s;r+=2}else{if(!uV(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Te(n.segments.slice(0,r.pathIndex),{});return s.children[Ce]=new Te(n.segments.slice(r.pathIndex),n.children),Pm(s,0,i)}return r.match&&0===i.length?new Te(n.segments,{}):r.match&&!n.hasChildren()?UC(n,e,t):r.match?Pm(n,0,i):UC(n,e,t)}function Pm(n,e,t){if(0===t.length)return new Te(n.segments,{});{const r=function dte(n){return Rd(n[0])?n[0].outlets:{[Ce]:n}}(t),i={};return mn(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=lV(n.children[o],e,s))}),mn(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new Te(n.segments,i)}}function UC(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Rd(s)){const l=fte(s.outlets);return new Te(r,l)}if(0===i&&Om(t[0])){r.push(new Md(n.segments[e].path,cV(t[0]))),i++;continue}const o=Rd(s)?s.outlets[Ce]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Om(a)?(r.push(new Md(o,cV(a))),i+=2):(r.push(new Md(o,{})),i++)}return new Te(r,{})}function fte(n){const e={};return mn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=UC(new Te([],{}),0,t))}),e}function cV(n){const e={};return mn(n,(t,r)=>e[r]=`${t}`),e}function uV(n,e,t){return n==t.path&&Ni(e,t.parameters)}class mte{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),FC(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=pc(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),mn(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=pc(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=pc(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=pc(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Nee(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Oee(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(FC(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),FC(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function gte(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=l,o.outlet&&o.outlet.activateWith(i,l),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class jC{constructor(e,t){this.routes=e,this.module=t}}function no(n){return"function"==typeof n}function sa(n){return n instanceof na}const Od=Symbol("INITIAL_VALUE");function Pd(){return ta(n=>ML(n.map(e=>e.pipe(yr(1),uc(Od)))).pipe(RL((e,t)=>{let r=!1;return t.reduce((i,s,o)=>i!==Od?i:(s===Od&&(r=!0),r||!1!==s&&o!==t.length-1&&!sa(s)?i:s),e)},Od),Mr(e=>e!==Od),me(e=>sa(e)?e:!0===e),yr(1)))}class Cte{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Nd,this.attachRef=null}}class Nd{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Cte,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let HC=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Je,this.deactivateEvents=new Je,this.attachEvents=new Je,this.detachEvents=new Je,this.name=s||Ce,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new Ete(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(v(Nd),v(Ar),v(Xo),xl("name"),v(eo))},n.\u0275dir=B({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Ete{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ia?this.route:e===Nd?this.childContexts:this.parent.get(e,t)}}let dV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Kt({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&Qt(0,"router-outlet")},directives:[HC],encapsulation:2}),n})();function hV(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Ite(r,Tte(e,r))}}function Ite(n,e){n.children&&hV(n.children,e)}function Tte(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function $C(n){const e=n.children&&n.children.map($C),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ce&&(t.component=dV),t}function Wr(n){return n.outlet||Ce}function fV(n,e){const t=n.filter(r=>Wr(r)===e);return t.push(...n.filter(r=>Wr(r)!==e)),t}const pV={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Nm(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},pV):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||Vee)(t,n,e);if(!s)return Object.assign({},pV);const o={};mn(s.posParams,(l,c)=>{o[c]=l.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function Fm(n,e,t,r,i="corrected"){if(t.length>0&&function Ate(n,e,t){return t.some(r=>Lm(n,e,r)&&Wr(r)!==Ce)}(n,t,r)){const o=new Te(e,function Ste(n,e,t,r){const i={};i[Ce]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Wr(s)!==Ce){const o=new Te([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[Wr(s)]=o}return i}(n,e,r,new Te(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function Mte(n,e,t){return t.some(r=>Lm(n,e,r))}(n,t,r)){const o=new Te(n.segments,function Dte(n,e,t,r,i,s){const o={};for(const a of r)if(Lm(n,t,a)&&!i[Wr(a)]){const l=new Te([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[Wr(a)]=l}return Object.assign(Object.assign({},i),o)}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new Te(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Lm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function mV(n,e,t,r){return!!(Wr(n)===r||r!==Ce&&Lm(e,t,n))&&("**"===n.path||Nm(e,n,t).matched)}function gV(n,e,t){return 0===e.length&&!n.children[t]}class Vm{constructor(e){this.segmentGroup=e||null}}class _V{constructor(e){this.urlTree=e}}function Fd(n){return Sd(new Vm(n))}function yV(n){return Sd(new _V(n))}class Ote{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(fs)}apply(){const e=Fm(this.urlTree.root,[],[],this.config).segmentGroup,t=new Te(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Ce).pipe(me(s=>this.createUrlTree(zC(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(_s(s=>{if(s instanceof _V)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Vm?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Ce).pipe(me(i=>this.createUrlTree(zC(i),e.queryParams,e.fragment))).pipe(_s(i=>{throw i instanceof Vm?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Te([],{[Ce]:e}):e;return new na(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(me(s=>new Te([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Wt(i).pipe(dc(s=>{const o=r.children[s],a=fV(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(me(l=>({segment:l,outlet:s})))}),RL((s,o)=>(s[o.outlet]=o.segment,s),{}),function Tee(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Mr((i,s)=>n(i,s,r)):$s,MC(1),t?PL(e):OL(()=>new Tm))}())}expandSegment(e,t,r,i,s,o){return Wt(r).pipe(dc(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(_s(c=>{if(c instanceof Vm)return K(null);throw c}))),hc(a=>!!a),_s((a,l)=>{if(a instanceof Tm||"EmptyError"===a.name)return gV(t,i,s)?K(new Te([],{})):Fd(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return mV(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):Fd(t):Fd(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?yV(s):this.lineralizeSegments(r,s).pipe(Lt(o=>{const a=new Te(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=Nm(t,i,s);if(!a)return Fd(t);const d=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?yV(d):this.lineralizeSegments(i,d).pipe(Lt(h=>this.expandSegment(e,t,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?K(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(me(d=>(r._loadedConfig=d,new Te(i,{})))):K(new Te(i,{}));const{matched:o,consumedSegments:a,remainingSegments:l}=Nm(t,r,i);return o?this.getChildConfig(e,r,i).pipe(Lt(u=>{const d=u.module,h=u.routes,{segmentGroup:f,slicedSegments:p}=Fm(t,a,l,h),m=new Te(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(me(I=>new Te(a,I)));if(0===h.length&&0===p.length)return K(new Te(a,{}));const _=Wr(r)===s;return this.expandSegment(d,m,h,p,_?Ce:s,!0).pipe(me(y=>new Te(a.concat(y.segments),y.children)))})):Fd(t)}getChildConfig(e,t,r){return t.children?K(new jC(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?K(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(Lt(i=>i?this.configLoader.load(e.injector,t).pipe(me(s=>(t._loadedConfig=s,s))):function kte(n){return Sd(kC(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):K(new jC([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?K(i.map(o=>{const a=e.get(o);let l;if(function yte(n){return n&&no(n.canLoad)}(a))l=a.canLoad(t,r);else{if(!no(a))throw new Error("Invalid CanLoad guard");l=a(t,r)}return Fi(l)})).pipe(Pd(),pn(o=>{if(!sa(o))return;const a=kC(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),me(o=>!0===o)):K(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return K(r);if(i.numberOfChildren>1||!i.children[Ce])return Sd(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[Ce]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new na(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return mn(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return mn(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new Te(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function zC(n){const e={};for(const r of Object.keys(n.children)){const s=zC(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Pte(n){if(1===n.numberOfChildren&&n.children[Ce]){const e=n.children[Ce];return new Te(n.segments.concat(e.segments),e.children)}return n}(new Te(n.segments,e))}class vV{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Bm{constructor(e,t){this.component=e,this.route=t}}function Fte(n,e,t){const r=n._root;return Ld(r,e?e._root:null,t,[r.value])}function Um(n,e,t){const r=function Vte(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Ld(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=pc(e);return n.children.forEach(o=>{(function Bte(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function Ute(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ra(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ra(n.url,e.url)||!Ni(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!LC(n,e)||!Ni(n.queryParams,e.queryParams);default:return!LC(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new vV(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Ld(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Bm(a.outlet.component,o))}else o&&Vd(e,a,i),i.canActivateChecks.push(new vV(r)),Ld(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),mn(s,(o,a)=>Vd(o,t.getContext(a),i)),i}function Vd(n,e,t){const r=pc(n),i=n.value;mn(r,(s,o)=>{Vd(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Bm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Yte{}function bV(n){return new He(e=>e.error(n))}class Xte{constructor(e,t,r,i,s,o){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=Fm(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Ce);if(null===t)return null;const r=new Rm([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ce,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new vs(r,t),s=new iV(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=rV(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=fV(e,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;r.push(...l)}const i=wV(r);return function Zte(n){n.sort((e,t)=>e.value.outlet===Ce?-1:t.value.outlet===Ce?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,r,i);if(null!==o)return o}return gV(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!mV(e,t,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?$L(r).parameters:{};s=new Rm(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,IV(e),Wr(e),e.component,e,CV(t),EV(t)+r.length,TV(e))}else{const f=Nm(t,e,r);if(!f.matched)return null;o=f.consumedSegments,a=f.remainingSegments,s=new Rm(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,IV(e),Wr(e),e.component,e,CV(t),EV(t)+o.length,TV(e))}const l=function Jte(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:u}=Fm(t,o,a,l.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const f=this.processChildren(l,c);return null===f?null:[new vs(s,f)]}if(0===l.length&&0===u.length)return[new vs(s,[])];const d=Wr(e)===i,h=this.processSegment(l,c,u,d?Ce:i);return null===h?null:[new vs(s,h)]}}function ene(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function wV(n){const e=[],t=new Set;for(const r of n){if(!ene(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=wV(r.children);e.push(new vs(r.value,i))}return e.filter(r=>!t.has(r))}function CV(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function EV(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function IV(n){return n.data||{}}function TV(n){return n.resolve||{}}function DV(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function GC(n){return ta(e=>{const t=n(e);return t?Wt(t).pipe(me(()=>e)):K(e)})}class lne extends class ane{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const qC=new P("ROUTES");class SV{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(me(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new jC(HL(o.injector.get(qC,void 0,te.Self|te.Optional)).map($C),o)}),_s(s=>{throw t._loader$=void 0,s}));return t._loader$=new Cee(i,()=>new Pe).pipe(kL()),t._loader$}loadModuleFactory(e){return Fi(e()).pipe(Lt(t=>t instanceof B1?K(t):Wt(this.compiler.compileModuleAsync(t))))}}class une{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function dne(n){throw n}function hne(n,e,t){return e.parse("/")}function AV(n,e){return K(null)}const fne={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pne={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let cr=(()=>{class n{constructor(t,r,i,s,o,a,l){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Pe,this.errorHandler=dne,this.malformedUriErrorHandler=hne,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:AV,afterPreactivation:AV},this.urlHandlingStrategy=new une,this.routeReuseStrategy=new lne,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(fs),this.console=o.get(wX);const d=o.get(he);this.isNgZoneEnabled=d instanceof he&&he.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function Uee(){return new na(new Te([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new SV(o,a,h=>this.triggerEvent(new LL(h)),h=>this.triggerEvent(new VL(h))),this.routerState=nV(this.currentUrlTree,this.rootComponentType),this.transitions=new qr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Mr(i=>0!==i.id),me(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),ta(i=>{let s=!1,o=!1;return K(i).pipe(pn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ta(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return MV(a.source)&&(this.browserUrlTree=a.extractedUrl),K(a).pipe(ta(d=>{const h=this.transitions.getValue();return r.next(new xC(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Ci:Promise.resolve(d)}),function Nte(n,e,t,r){return ta(i=>function Rte(n,e,t,r,i){return new Ote(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(me(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),pn(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function tne(n,e,t,r,i){return Lt(s=>function Qte(n,e,t,r,i="emptyOnly",s="legacy"){try{const o=new Xte(n,e,t,r,i,s).recognize();return null===o?bV(new Yte):K(o)}catch(o){return bV(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe(me(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),pn(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new See(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:_}=a,b=new xC(h,this.serializeUrl(f),p,m);r.next(b);const y=nV(f,this.rootComponentType).snapshot;return K(Object.assign(Object.assign({},a),{targetSnapshot:y,urlAfterRedirects:f,extras:Object.assign(Object.assign({},_),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Ci}),GC(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),pn(a=>{const l=new Aee(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),me(a=>Object.assign(Object.assign({},a),{guards:Fte(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function jte(n,e){return Lt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?K(Object.assign(Object.assign({},t),{guardsResult:!0})):function Hte(n,e,t,r){return Wt(n).pipe(Lt(i=>function Kte(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?K(s.map(a=>{const l=Um(a,e,i);let c;if(function wte(n){return n&&no(n.canDeactivate)}(l))c=Fi(l.canDeactivate(n,e,t,r));else{if(!no(l))throw new Error("Invalid CanDeactivate guard");c=Fi(l(n,e,t,r))}return c.pipe(hc())})).pipe(Pd()):K(!0)}(i.component,i.route,t,e,r)),hc(i=>!0!==i,!0))}(o,r,i,n).pipe(Lt(a=>a&&function _te(n){return"boolean"==typeof n}(a)?function $te(n,e,t,r){return Wt(e).pipe(dc(i=>Dm(function Gte(n,e){return null!==n&&e&&e(new Ree(n)),K(!0)}(i.route.parent,r),function zte(n,e){return null!==n&&e&&e(new Pee(n)),K(!0)}(i.route,r),function Wte(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function Lte(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>AC(()=>K(o.guards.map(l=>{const c=Um(l,o.node,t);let u;if(function bte(n){return n&&no(n.canActivateChild)}(c))u=Fi(c.canActivateChild(r,n));else{if(!no(c))throw new Error("Invalid CanActivateChild guard");u=Fi(c(r,n))}return u.pipe(hc())})).pipe(Pd())));return K(s).pipe(Pd())}(n,i.path,t),function qte(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return K(!0);const i=r.map(s=>AC(()=>{const o=Um(s,e,t);let a;if(function vte(n){return n&&no(n.canActivate)}(o))a=Fi(o.canActivate(e,n));else{if(!no(o))throw new Error("Invalid CanActivate guard");a=Fi(o(e,n))}return a.pipe(hc())}));return K(i).pipe(Pd())}(n,i.route,t))),hc(i=>!0!==i,!0))}(r,s,n,e):K(a)),me(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),pn(a=>{if(sa(a.guardsResult)){const c=kC(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new Mee(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Mr(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),GC(a=>{if(a.guards.canActivateChecks.length)return K(a).pipe(pn(l=>{const c=new xee(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),ta(l=>{let c=!1;return K(l).pipe(function nne(n,e){return Lt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return K(t);let s=0;return Wt(i).pipe(dc(o=>function rne(n,e,t,r){return function ine(n,e,t,r){const i=DV(n);if(0===i.length)return K({});const s={};return Wt(i).pipe(Lt(o=>function sne(n,e,t,r){const i=Um(n,e,r);return Fi(i.resolve?i.resolve(e,t):i(e,t))}(n[o],e,t,r).pipe(pn(a=>{s[o]=a}))),MC(1),Lt(()=>DV(s).length===i.length?K(s):Ci))}(n._resolve,n,e,r).pipe(me(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),rV(n,t).resolve),null)))}(o.route,r,n,e)),pn(()=>s++),MC(1),Lt(o=>s===i.length?K(t):Ci))})}(this.paramsInheritanceStrategy,this.ngModule.injector),pn({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),pn(l=>{const c=new kee(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),GC(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),me(a=>{const l=function ite(n,e,t){const r=kd(n,e._root,t?t._root:void 0);return new tV(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),pn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>me(r=>(new mte(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),pn({next(){s=!0},complete(){s=!0}}),NL(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),_s(a=>{if(o=!0,function Lee(n){return n&&n[UL]}(a)){const l=sa(a.url);l||(this.navigated=!0,this.restoreHistory(i,!0));const c=new FL(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),l?setTimeout(()=>{const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||MV(i.source)};this.scheduleNavigation(u,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new Dee(i.id,this.serializeUrl(i.extractedUrl),a);r.next(l);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return Ci}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(o){const l=Object.assign({},o);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){hV(t),this.config=t.map($C),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=i||this.routerState.root,u=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function ate(n,e,t,r,i){if(0===t.length)return VC(e.root,e.root,e.root,r,i);const s=function lte(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new aV(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return mn(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new aV(t,e,r)}(t);if(s.toRoot())return VC(e.root,e.root,new Te([],{}),r,i);const o=function cte(n,e,t){if(n.isAbsolute)return new BC(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new BC(s,s===e.root,0)}const r=Om(n.commands[0])?0:1;return function ute(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new BC(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),a=o.processChildren?Pm(o.segmentGroup,o.index,s.commands):lV(o.segmentGroup,o.index,s.commands);return VC(e.root,o.segmentGroup,a,r,i)}(c,this.currentUrlTree,t,d,null!=u?u:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=sa(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function mne(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},fne):!1===r?Object.assign({},pne):r,sa(t))return GL(this.currentUrlTree,t,i);const s=this.parseUrl(t);return GL(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ad(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){var a,l;if(this.disposed)return Promise.resolve(!1);let c,u,d;o?(c=o.resolve,u=o.reject,d=o.promise):d=new Promise((p,m)=>{c=p,u=m});const h=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),f=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):f=0,this.setTransition({id:h,targetPageId:f,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new FL(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){rd()},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();function MV(n){return"imperative"!==n}let jm=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new Pe,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:mc(this.skipLocationChange),replaceUrl:mc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:mc(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(v(cr),v(ia),xl("tabindex"),v(hs),v(Ze))},n.\u0275dir=B({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&Ve("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[zn]}),n})();function mc(n){return""===n||!!n}class xV{}class kV{preload(e,t){return K(null)}}let RV=(()=>{class n{constructor(t,r,i,s){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=new SV(i,r,l=>t.triggerEvent(new LL(l)),l=>t.triggerEvent(new VL(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(Mr(t=>t instanceof Ad),dc(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(fs);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return Wt(i).pipe(Au(),me(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?K(r._loadedConfig):this.loader.load(t.injector,r)).pipe(Lt(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(E(cr),E(IF),E(ct),E(xV))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})(),KC=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof xC?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ad&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof BL&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new BL(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){rd()},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();const oa=new P("ROUTER_CONFIGURATION"),OV=new P("ROUTER_FORROOT_GUARD"),vne=[Cd,{provide:YL,useClass:QL},{provide:cr,useFactory:function Ine(n,e,t,r,i,s,o={},a,l){const c=new cr(null,n,e,t,r,i,HL(s));return a&&(c.urlHandlingStrategy=a),l&&(c.routeReuseStrategy=l),function Tne(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(u=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${u.constructor.name}`),console.log(u.toString()),console.log(u),null===(h=console.groupEnd)||void 0===h||h.call(console)}),c},deps:[YL,Nd,Cd,ct,IF,qC,oa,[class cne{},new Qe],[class one{},new Qe]]},Nd,{provide:ia,useFactory:function Dne(n){return n.routerState.root},deps:[cr]},RV,kV,class yne{preload(e,t){return t().pipe(_s(()=>K(null)))}},{provide:oa,useValue:{enableTracing:!1}}];function bne(){return new AF("Router",cr)}let PV=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[vne,NV(t),{provide:OV,useFactory:Ene,deps:[[cr,new Qe,new Fl]]},{provide:oa,useValue:r||{}},{provide:cc,useFactory:Cne,deps:[ea,[new xp(iC),new Qe],oa]},{provide:KC,useFactory:wne,deps:[cr,MJ,oa]},{provide:xV,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:kV},{provide:AF,multi:!0,useFactory:bne},[YC,{provide:zw,multi:!0,useFactory:Sne,deps:[YC]},{provide:FV,useFactory:Ane,deps:[YC]},{provide:EF,multi:!0,useExisting:FV}]]}}static forChild(t){return{ngModule:n,providers:[NV(t)]}}}return n.\u0275fac=function(t){return new(t||n)(E(OV,8),E(cr,8))},n.\u0275mod=Ne({type:n}),n.\u0275inj=Re({}),n})();function wne(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new KC(n,e,t)}function Cne(n,e,t={}){return t.useHash?new fZ(n,e):new WF(n,e)}function Ene(n){return"guarded"}function NV(n){return[{provide:Y8,multi:!0,useValue:n},{provide:qC,multi:!0,useValue:n}]}let YC=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Pe}appInitializer(){return this.injector.get(uZ,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(cr),o=this.injector.get(oa);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?K(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(oa),i=this.injector.get(RV),s=this.injector.get(KC),o=this.injector.get(cr),a=this.injector.get(sm);t===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(E(ct))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();function Sne(n){return n.appInitializer.bind(n)}function Ane(n){return n.bootstrapListener.bind(n)}const FV=new P("Router Initializer");function LV(n,e,t,r,i,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function g(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(l){LV(s,r,i,o,a,"next",l)}function a(l){LV(s,r,i,o,a,"throw",l)}o(void 0)})}}const R=function(n,e){if(!n)throw gc(e)},gc=function(n){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+n)},VV=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},Hm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(VV(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},BV=function(n){const e=VV(n);return Hm.encodeByteArray(e,!0)},$m=function(n){return BV(n).replace(/\./g,"")},XC=function(n){try{return Hm.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function kne(n){return UV(void 0,n)}function UV(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!Rne(t)||(n[t]=UV(n[t],e[t]));return n}function Rne(n){return"__proto__"!==n}class Bd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Jt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function zm(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function Gm(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function ZC(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function jV(){const n=Jt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function aa(){return"object"==typeof indexedDB}function Ud(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function JC(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Li extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vi.prototype.create)}}class Vi{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Lne(n,e){return n.replace(Vne,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Li(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Vne=/\{\$([^}]+)}/g;function jd(n){return JSON.parse(n)}function gn(n){return JSON.stringify(n)}const qm=function(n){let e={},t={},r={},i="";try{const s=n.split(".");e=jd(XC(s[0])||""),t=jd(XC(s[1])||""),i=s[2],r=t.d||{},delete t.d}catch(s){}return{header:e,claims:t,data:r,signature:i}};function ws(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function _c(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function eE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Wm(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function Km(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(HV(s)&&HV(o)){if(!Km(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function HV(n){return null!==n&&"object"==typeof n}function Hd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class jne{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)r[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let c,u,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const r=t-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<t;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<t;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}class $ne{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function zne(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=tE),void 0===i.error&&(i.error=tE),void 0===i.complete&&(i.complete=tE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tE(){}const Qm=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};function nE(n,e=1e3,t=2){const r=e*Math.pow(t,n),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Pn(n){return n&&n._delegate?n._delegate:n}class _n{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const la="[DEFAULT]";class Xne{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Bd;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Jne(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch(t){}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===la?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var n;return r||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ere{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Xne(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const rE=[];var Se=(()=>{return(n=Se||(Se={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Se;var n})();const $V={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},tre=Se.INFO,nre={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},rre=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=nre[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class ca{constructor(e){this.name=e,this._logLevel=tre,this._logHandler=rre,this._userLogHandler=null,rE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?$V[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}let zV,GV;const qV=new WeakMap,iE=new WeakMap,WV=new WeakMap,sE=new WeakMap,oE=new WeakMap;let aE={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return iE.get(n);if("objectStoreNames"===e)return n.objectStoreNames||WV.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Cs(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function dre(n){return"function"==typeof n?function ure(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ore(){return GV||(GV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(lE(this),e),Cs(qV.get(this))}:function(...e){return Cs(n.apply(lE(this),e))}:function(e,...t){const r=n.call(lE(this),e,...t);return WV.set(r,e.sort?e.sort():[e]),Cs(r)}}(n):(n instanceof IDBTransaction&&function lre(n){if(iE.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});iE.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function sre(){return zV||(zV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,aE):n)}function Cs(n){if(n instanceof IDBRequest)return function are(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Cs(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&qV.set(t,n)}).catch(()=>{}),oE.set(e,n),e}(n);if(sE.has(n))return sE.get(n);const e=dre(n);return e!==n&&(sE.set(n,e),oE.set(e,n)),e}const lE=n=>oE.get(n);function Xm(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Cs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Cs(o.result),l.oldVersion,l.newVersion,Cs(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function cE(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),Cs(t).then(()=>{})}const hre=["get","getKey","getAll","getAllKeys","count"],fre=["put","add","delete","clear"],uE=new Map;function KV(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(uE.get(e))return uE.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=fre.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!hre.includes(t))return;const s=function(){var o=g(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return uE.set(e,s),s}!function cre(n){aE=n(aE)}(n=>i4(r4({},n),{get:(e,t,r)=>KV(e,t)||n.get(e,t,r),has:(e,t)=>!!KV(e,t)||n.has(e,t)}));class pre{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function mre(n){const e=n.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const dE="@firebase/app",hE=new ca("@firebase/app"),fE="[DEFAULT]",jre={[dE]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ua=new Map,Zm=new Map;function Hre(n,e){try{n.container.addComponent(e)}catch(t){hE.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Nn(n){const e=n.name;if(Zm.has(e))return hE.debug(`There were multiple attempts to register component ${e}.`),!1;Zm.set(e,n);for(const t of ua.values())Hre(t,n);return!0}function da(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const ro=new Vi("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class zre{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _n("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ro.create("app-deleted",{appName:this._name})}}const ha="9.8.2";function Gre(n,e={}){"object"!=typeof e&&(e={name:e});const t=Object.assign({name:fE,automaticDataCollectionEnabled:!1},e),r=t.name;if("string"!=typeof r||!r)throw ro.create("bad-app-name",{appName:String(r)});const i=ua.get(r);if(i){if(Km(n,i.options)&&Km(t,i.config))return i;throw ro.create("duplicate-app",{appName:r})}const s=new ere(r);for(const a of Zm.values())s.addComponent(a);const o=new zre(n,t,s);return ua.set(r,o),o}function Jm(n=fE){const e=ua.get(n);if(!e)throw ro.create("no-app",{appName:n});return e}function QV(){return Array.from(ua.values())}function ot(n,e,t){var r;let i=null!==(r=jre[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void hE.warn(a.join(" "))}Nn(new _n(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const $d="firebase-heartbeat-store";let mE=null;function XV(){return mE||(mE=Xm("firebase-heartbeat-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore($d)}}).catch(n=>{throw ro.create("storage-open",{originalErrorMessage:n.message})})),mE}function gE(){return(gE=g(function*(n){try{return(yield XV()).transaction($d).objectStore($d).get(JV(n))}catch(e){throw ro.create("storage-get",{originalErrorMessage:e.message})}})).apply(this,arguments)}function ZV(n,e){return _E.apply(this,arguments)}function _E(){return(_E=g(function*(n,e){try{const r=(yield XV()).transaction($d,"readwrite");return yield r.objectStore($d).put(e,JV(n)),r.done}catch(t){throw ro.create("storage-set",{originalErrorMessage:t.message})}})).apply(this,arguments)}function JV(n){return`${n.name}!${n.options.appId}`}class Xre{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Jre(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=eB();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=eB(),{heartbeatsToSend:r,unsentEntries:i}=function Zre(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),tB(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),tB(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=$m(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function eB(){return(new Date).toISOString().substring(0,10)}class Jre{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!aa()&&Ud().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Kre(n){return gE.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return g(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return ZV(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return g(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return ZV(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function tB(n){return $m(JSON.stringify({version:2,heartbeats:n})).length}!function eie(n){Nn(new _n("platform-logger",e=>new pre(e),"PRIVATE")),Nn(new _n("heartbeat",e=>new Xre(e),"PRIVATE")),ot(dE,"0.7.25",n),ot(dE,"0.7.25","esm2017"),ot("fire-js","")}(""),ot("firebase","9.8.2","app");const nB="@firebase/installations",iB="w:0.5.9",sB="FIS_v2",Es=new Vi("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function oB(n){return n instanceof Li&&n.code.includes("request-failed")}function vE({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function aB(n){return{token:n.token,requestStatus:2,expiresIn:lie(n.expiresIn),creationTime:Date.now()}}function bE(n,e){return wE.apply(this,arguments)}function wE(){return(wE=g(function*(n,e){const r=(yield e.json()).error;return Es.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function lB({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function cB(n,{refreshToken:e}){const t=lB(n);return t.append("Authorization",function cie(n){return`${sB} ${n}`}(e)),t}function CE(n){return EE.apply(this,arguments)}function EE(){return(EE=g(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function lie(n){return Number(n.replace("s","000"))}function uie(n,e){return IE.apply(this,arguments)}function IE(){return(IE=g(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=vE(n),i=lB(n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:sB,appId:n.appId,sdkVersion:iB})},l=yield CE(()=>fetch(r,a));if(l.ok){const c=yield l.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:aB(c.authToken)}}throw yield bE("Create Installation",l)})).apply(this,arguments)}function uB(n){return new Promise(e=>{setTimeout(e,n)})}const hie=/^[cdef][\w-]{21}$/;function fie(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function pie(n){return function die(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return hie.test(t)?t:""}catch(n){return""}}function yc(n){return`${n.appName}!${n.appId}`}const vc=new Map;function dB(n,e){const t=yc(n);hB(t,e),function _ie(n,e){const t=function fB(){return!fa&&"BroadcastChannel"in self&&(fa=new BroadcastChannel("[Firebase] FID Change"),fa.onmessage=n=>{hB(n.data.key,n.data.fid)}),fa}();t&&t.postMessage({key:n,fid:e}),function pB(){0===vc.size&&fa&&(fa.close(),fa=null)}()}(t,e)}function hB(n,e){const t=vc.get(n);if(t)for(const r of t)r(e)}let fa=null;const pa="firebase-installations-store";let DE=null;function SE(){return DE||(DE=Xm("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(pa)}})),DE}function eg(n,e){return AE.apply(this,arguments)}function AE(){return(AE=g(function*(n,e){const t=yc(n),i=(yield SE()).transaction(pa,"readwrite"),s=i.objectStore(pa),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&dB(n,e.fid),e})).apply(this,arguments)}function ME(n){return xE.apply(this,arguments)}function xE(){return(xE=g(function*(n){const e=yc(n),r=(yield SE()).transaction(pa,"readwrite");yield r.objectStore(pa).delete(e),yield r.done})).apply(this,arguments)}function zd(n,e){return kE.apply(this,arguments)}function kE(){return(kE=g(function*(n,e){const t=yc(n),i=(yield SE()).transaction(pa,"readwrite"),s=i.objectStore(pa),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&dB(n,a.fid),a})).apply(this,arguments)}function RE(n){return OE.apply(this,arguments)}function OE(){return(OE=g(function*(n){let e;const t=yield zd(n.appConfig,r=>{const i=bie(r),s=wie(n,i);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function bie(n){return gB(n||{fid:fie(),registrationStatus:0})}function wie(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Es.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Cie(n,e){return PE.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Eie(n)}:{installationEntry:e}}function PE(){return(PE=g(function*(n,e){try{const t=yield uie(n,e);return eg(n.appConfig,t)}catch(t){throw oB(t)&&409===t.customData.serverCode?yield ME(n.appConfig):yield eg(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function Eie(n){return NE.apply(this,arguments)}function NE(){return(NE=g(function*(n){let e=yield mB(n.appConfig);for(;1===e.registrationStatus;)yield uB(100),e=yield mB(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield RE(n);return r||t}return e})).apply(this,arguments)}function mB(n){return zd(n,e=>{if(!e)throw Es.create("installation-not-found");return gB(e)})}function gB(n){return function Iie(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function Tie(n,e){return FE.apply(this,arguments)}function FE(){return(FE=g(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=Die(n,t),i=cB(n,t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:iB,appId:n.appId}})},l=yield CE(()=>fetch(r,a));if(l.ok)return aB(yield l.json());throw yield bE("Generate Auth Token",l)})).apply(this,arguments)}function Die(n,{fid:e}){return`${vE(n)}/${e}/authTokens:generate`}function LE(n){return VE.apply(this,arguments)}function VE(){return(VE=g(function*(n,e=!1){let t;const r=yield zd(n.appConfig,s=>{if(!yB(s))throw Es.create("not-registered");const o=s.authToken;if(!e&&Mie(o))return s;if(1===o.requestStatus)return t=Sie(n,e),s;{if(!navigator.onLine)throw Es.create("app-offline");const a=kie(s);return t=Aie(n,a),a}});return t?yield t:r.authToken})).apply(this,arguments)}function Sie(n,e){return BE.apply(this,arguments)}function BE(){return(BE=g(function*(n,e){let t=yield _B(n.appConfig);for(;1===t.authToken.requestStatus;)yield uB(100),t=yield _B(n.appConfig);const r=t.authToken;return 0===r.requestStatus?LE(n,e):r})).apply(this,arguments)}function _B(n){return zd(n,e=>{if(!yB(e))throw Es.create("not-registered");return function Rie(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Aie(n,e){return UE.apply(this,arguments)}function UE(){return(UE=g(function*(n,e){try{const t=yield Tie(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield eg(n.appConfig,r),t}catch(t){if(!oB(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield eg(n.appConfig,r)}else yield ME(n.appConfig);throw t}})).apply(this,arguments)}function yB(n){return void 0!==n&&2===n.registrationStatus}function Mie(n){return 2===n.requestStatus&&!function xie(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function kie(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function jE(){return(jE=g(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield RE(e);return r?r.catch(console.error):LE(e).catch(console.error),t.fid})).apply(this,arguments)}function HE(){return(HE=g(function*(n,e=!1){const t=n;return yield Nie(t),(yield LE(t,e)).token})).apply(this,arguments)}function Nie(n){return $E.apply(this,arguments)}function $E(){return($E=g(function*(n){const{registrationPromise:e}=yield RE(n);e&&(yield e)})).apply(this,arguments)}function qE(n){return Es.create("missing-app-config-values",{valueName:n})}const vB="installations",Uie=n=>{const e=n.getProvider("app").getImmediate(),t=function Vie(n){if(!n||!n.options)throw qE("App Configuration");if(!n.name)throw qE("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw qE(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:da(e,"heartbeat"),_delete:()=>Promise.resolve()}},jie=n=>{const t=da(n.getProvider("app").getImmediate(),vB).getImmediate();return{getId:()=>function Oie(n){return jE.apply(this,arguments)}(t),getToken:i=>function Pie(n){return HE.apply(this,arguments)}(t,i)}};(function Hie(){Nn(new _n(vB,Uie,"PUBLIC")),Nn(new _n("installations-internal",jie,"PRIVATE"))})(),ot(nB,"0.5.9"),ot(nB,"0.5.9","esm2017");const WE="@firebase/remote-config",ur=new Vi("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Jie{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return g(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function ese(n=navigator){return n.languages&&n.languages[0]||n.language}class tse{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return g(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:ese()},c={method:"POST",headers:a,body:JSON.stringify(l)},u=fetch(o,c),d=new Promise((b,y)=>{e.signal.addEventListener(()=>{const I=new Error("The operation was aborted.");I.name="AbortError",y(I)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(b){let y="fetch-client-network";throw"AbortError"===b.name&&(y="fetch-timeout"),ur.create(y,{originalErrorMessage:b.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,_;if(200===h.status){let b;try{b=yield h.json()}catch(y){throw ur.create("fetch-client-parse",{originalErrorMessage:y.message})}m=b.entries,_=b.state}if("INSTANCE_STATE_UNSPECIFIED"===_?f=500:"NO_CHANGE"===_?f=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(m={}),304!==f&&200!==f)throw ur.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class ise{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return g(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return g(function*(){yield function nse(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(ur.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function rse(n){if(!(n instanceof Li&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+nE(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class ase{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ng(n,e){const t=n.target.error||void 0;return ur.create(e,{originalErrorMessage:t&&t.message})}const ma="app_namespace_store";class dse{constructor(e,t,r,i=function use(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(ng(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ma,{keyPath:"compositeKey"})}}catch(t){e(ur.create("storage-open",{originalErrorMessage:t}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return g(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ma],"readonly").objectStore(ma),l=t.createCompositeKey(e);try{const c=a.get(l);c.onerror=u=>{s(ng(u,"storage-get"))},c.onsuccess=u=>{const d=u.target.result;i(d?d.value:void 0)}}catch(c){s(ur.create("storage-get",{originalErrorMessage:c&&c.message}))}})})()}set(e,t){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const l=i.transaction([ma],"readwrite").objectStore(ma),c=r.createCompositeKey(e);try{const u=l.put({compositeKey:c,value:t});u.onerror=d=>{o(ng(d,"storage-set"))},u.onsuccess=()=>{s()}}catch(u){o(ur.create("storage-set",{originalErrorMessage:u&&u.message}))}})})()}delete(e){var t=this;return g(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ma],"readwrite").objectStore(ma),l=t.createCompositeKey(e);try{const c=a.delete(l);c.onerror=u=>{s(ng(u,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(ur.create("storage-delete",{originalErrorMessage:c&&c.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class hse{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function pse(){return ZE.apply(this,arguments)}function ZE(){return(ZE=g(function*(){if(!aa())return!1;try{return yield Ud()}catch(n){return!1}})).apply(this,arguments)}!function fse(){Nn(new _n("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw ur.create("registration-window");if(!aa())throw ur.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw ur.create("registration-project-id");if(!o)throw ur.create("registration-api-key");if(!a)throw ur.create("registration-app-id");const l=new dse(a,r.name,t=t||"firebase"),c=new hse(l),u=new ca(WE);u.logLevel=Se.ERROR;const d=new tse(i,ha,t,s,o,a),h=new ise(d,l),f=new Jie(h,l,c,u),p=new ase(r,f,c,l,u);return function Qie(n){const e=Pn(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),ot(WE,"0.3.8"),ot(WE,"0.3.8","esm2017")}();const mse="/firebase-messaging-sw.js",gse="/firebase-cloud-messaging-push-scope",EB="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",IB="google.c.a.c_id",yse="google.c.a.c_l",vse="google.c.a.ts",bse="google.c.a.e";var bc=(()=>{return(n=bc||(bc={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",bc;var n})();function Is(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function wse(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const JE="fcm_token_details_db",TB="fcm_token_object_Store";function Ese(n){return e0.apply(this,arguments)}function e0(){return e0=g(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(JE))return null;let e=null;return(yield Xm(JE,5,{upgrade:(r=g(function*(i,s,o,a){var l;if(s<2||!i.objectStoreNames.contains(TB))return;const c=a.objectStore(TB),u=yield c.index("fcmSenderId").get(n);if(yield c.clear(),u)if(2===s){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(l=d.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Is(d.vapidKey)}}}else if(3===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Is(d.auth),p256dh:Is(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Is(d.vapidKey)}}}else if(4===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Is(d.auth),p256dh:Is(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Is(d.vapidKey)}}}}),function(s,o,a,l){return r.apply(this,arguments)})})).close(),yield cE(JE),yield cE("fcm_vapid_details_db"),yield cE("undefined"),Ise(e)?e:null;var r}),e0.apply(this,arguments)}function Ise(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const ga="firebase-messaging-store";let t0=null;function n0(){return t0||(t0=Xm("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ga)}})),t0}function DB(n){return r0.apply(this,arguments)}function r0(){return(r0=g(function*(n){const e=l0(n),r=yield(yield n0()).transaction(ga).objectStore(ga).get(e);if(r)return r;{const i=yield Ese(n.appConfig.senderId);if(i)return yield s0(n,i),i}})).apply(this,arguments)}function s0(n,e){return o0.apply(this,arguments)}function o0(){return(o0=g(function*(n,e){const t=l0(n),i=(yield n0()).transaction(ga,"readwrite");return yield i.objectStore(ga).put(e,t),yield i.done,e})).apply(this,arguments)}function Sse(n){return a0.apply(this,arguments)}function a0(){return(a0=g(function*(n){const e=l0(n),r=(yield n0()).transaction(ga,"readwrite");yield r.objectStore(ga).delete(e),yield r.done})).apply(this,arguments)}function l0({appConfig:n}){return n.appId}const yn=new Vi("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Mse(n,e){return c0.apply(this,arguments)}function c0(){return(c0=g(function*(n,e){const t=yield f0(n),r=AB(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(h0(n.appConfig),i)).json()}catch(o){throw yn.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw yn.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw yn.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function xse(n,e){return u0.apply(this,arguments)}function u0(){return(u0=g(function*(n,e){const t=yield f0(n),r=AB(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${h0(n.appConfig)}/${e.token}`,i)).json()}catch(o){throw yn.create("token-update-failed",{errorInfo:o})}if(s.error)throw yn.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw yn.create("token-update-no-token");return s.token})).apply(this,arguments)}function SB(n,e){return d0.apply(this,arguments)}function d0(){return(d0=g(function*(n,e){const r={method:"DELETE",headers:yield f0(n)};try{const s=yield(yield fetch(`${h0(n.appConfig)}/${e}`,r)).json();if(s.error)throw yn.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw yn.create("token-unsubscribe-failed",{errorInfo:i})}})).apply(this,arguments)}function h0({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function f0(n){return p0.apply(this,arguments)}function p0(){return(p0=g(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function AB({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==EB&&(i.web.applicationPubKey=r),i}function Rse(n){return m0.apply(this,arguments)}function m0(){return(m0=g(function*(n){const e=yield Pse(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Is(e.getKey("auth")),p256dh:Is(e.getKey("p256dh"))},r=yield DB(n.firebaseDependencies);if(r){if(Nse(r.subscriptionOptions,t))return Date.now()>=r.createTime+6048e5?Ose(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield SB(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return xB(n.firebaseDependencies,t)}return xB(n.firebaseDependencies,t)})).apply(this,arguments)}function MB(n){return g0.apply(this,arguments)}function g0(){return(g0=g(function*(n){const e=yield DB(n.firebaseDependencies);e&&(yield SB(n.firebaseDependencies,e.token),yield Sse(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function Ose(n,e){return _0.apply(this,arguments)}function _0(){return(_0=g(function*(n,e){try{const t=yield xse(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield s0(n.firebaseDependencies,r),t}catch(t){throw yield MB(n),t}})).apply(this,arguments)}function xB(n,e){return y0.apply(this,arguments)}function y0(){return(y0=g(function*(n,e){const r={token:yield Mse(n,e),createTime:Date.now(),subscriptionOptions:e};return yield s0(n,r),r.token})).apply(this,arguments)}function Pse(n,e){return v0.apply(this,arguments)}function v0(){return(v0=g(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:wse(e)})})).apply(this,arguments)}function Nse(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function kB(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function Fse(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i)}(e,n),function Lse(n,e){!e.data||(n.data=e.data)}(e,n),function Vse(n,e){if(!e.fcmOptions)return;n.fcmOptions={};const t=e.fcmOptions.link;t&&(n.fcmOptions.link=t);const r=e.fcmOptions.analytics_label;r&&(n.fcmOptions.analyticsLabel=r)}(e,n),e}function Bse(n){return"object"==typeof n&&!!n&&IB in n}function RB(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function b0(n){return yn.create("missing-app-config-values",{valueName:n})}RB("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),RB("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class jse{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Use(n){if(!n||!n.options)throw b0("App Configuration Object");if(!n.name)throw b0("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw b0(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function OB(n){return w0.apply(this,arguments)}function w0(){return(w0=g(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(mse,{scope:gse}),n.swRegistration.update().catch(()=>{})}catch(e){throw yn.create("failed-service-worker-registration",{browserErrorMessage:e.message})}})).apply(this,arguments)}function Hse(n,e){return C0.apply(this,arguments)}function C0(){return(C0=g(function*(n,e){if(!e&&!n.swRegistration&&(yield OB(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw yn.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function $se(n,e){return E0.apply(this,arguments)}function E0(){return(E0=g(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=EB)})).apply(this,arguments)}function I0(){return(I0=g(function*(n,e){if(!navigator)throw yn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw yn.create("permission-blocked");return yield $se(n,null==e?void 0:e.vapidKey),yield Hse(n,null==e?void 0:e.serviceWorkerRegistration),Rse(n)})).apply(this,arguments)}function zse(n,e,t){return T0.apply(this,arguments)}function T0(){return(T0=g(function*(n,e,t){const r=Gse(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[IB],message_name:t[yse],message_time:t[vse],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Gse(n){switch(n){case bc.NOTIFICATION_CLICKED:return"notification_open";case bc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function D0(){return(D0=g(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===bc.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(kB(t)):n.onMessageHandler.next(kB(t)));const r=t.data;Bse(r)&&"1"===r[bse]&&(yield zse(n,t.messageType,r))})).apply(this,arguments)}const NB="@firebase/messaging",Wse=n=>{const e=new jse(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function qse(n,e){return D0.apply(this,arguments)}(e,t)),e},Kse=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function PB(n,e){return I0.apply(this,arguments)}(e,r)}};function LB(){return S0.apply(this,arguments)}function S0(){return(S0=g(function*(){try{yield Ud()}catch(n){return!1}return"undefined"!=typeof window&&aa()&&JC()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Yse(){Nn(new _n("messaging",Wse,"PUBLIC")),Nn(new _n("messaging-internal",Kse,"PRIVATE")),ot(NB,"0.9.13"),ot(NB,"0.9.13","esm2017")}();const rg="analytics",Zse="firebase_id",toe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",VB="https://www.googletagmanager.com/gtag/js",vn=new ca("@firebase/analytics");function BB(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function noe(n,e){const t=document.createElement("script");t.src=`${VB}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function ioe(n,e,t,r,i,s){return x0.apply(this,arguments)}function x0(){return(x0=g(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const l=(yield BB(t)).find(c=>c.measurementId===i);l&&(yield e[l.appId])}}catch(a){vn.error(a)}n("config",i,s)})).apply(this,arguments)}function soe(n,e,t,r,i){return k0.apply(this,arguments)}function k0(){return(k0=g(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield BB(t);for(const l of o){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){vn.error(s)}})).apply(this,arguments)}function loe(){const n=window.document.getElementsByTagName("script");for(const e of Object.values(n))if(e.src&&e.src.includes(VB))return e;return null}const xr=new Vi("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),UB=new class hoe{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function foe(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function poe(n){return R0.apply(this,arguments)}function R0(){return(R0=g(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:foe(r)},s=toe.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const l=yield o.json();(null===(e=l.error)||void 0===e?void 0:e.message)&&(a=l.error.message)}catch(l){}throw xr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function moe(n){return O0.apply(this,arguments)}function O0(){return(O0=g(function*(n,e=UB,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw xr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw xr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new yoe;return setTimeout(g(function*(){a.abort()}),void 0!==t?t:6e4),jB({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function jB(n,e,t){return P0.apply(this,arguments)}function P0(){return(P0=g(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=UB){const{appId:s,measurementId:o}=n;try{yield goe(r,e)}catch(a){if(o)return vn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield poe(n);return i.deleteThrottleMetadata(s),a}catch(a){if(!_oe(a)){if(i.deleteThrottleMetadata(s),o)return vn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const l=503===Number(a.customData.httpStatus)?nE(t,i.intervalMillis,30):nE(t,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+l,backoffCount:t+1};return i.setThrottleMetadata(s,c),vn.debug(`Calling attemptFetch again in ${l} millis`),jB(n,c,r,i)}})).apply(this,arguments)}function goe(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(xr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function _oe(n){if(!(n instanceof Li&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class yoe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function voe(){return N0.apply(this,arguments)}function N0(){return(N0=g(function*(){if(!aa())return vn.warn(xr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Ud()}catch(n){return vn.warn(xr.create("indexeddb-unavailable",{errorInfo:n}).message),!1}return!0})).apply(this,arguments)}function F0(){return(F0=g(function*(n,e,t,r,i,s,o){var a;const l=moe(n);l.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&vn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>vn.error(f)),e.push(l);const c=voe().then(f=>{if(f)return r.getId()}),[u,d]=yield Promise.all([l,c]);loe()||noe(s,u.measurementId),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[Zse]=d),i("config",u.measurementId,h),u.measurementId})).apply(this,arguments)}class woe{constructor(e){this.app=e}_delete(){return delete Ts[this.app.options.appId],Promise.resolve()}}let Ts={},HB=[];const $B={};let GB,Gd,ig="dataLayer",L0=!1;function Eoe(n,e,t){!function Coe(){const n=[];if(Gm()&&n.push("This is a browser extension environment."),JC()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=xr.create("invalid-analytics-context",{errorInfo:e});vn.warn(t.message)}}();const r=n.options.appId;if(!r)throw xr.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw xr.create("no-api-key");vn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ts[r])throw xr.create("already-exists",{id:r});if(!L0){!function roe(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(ig);const{wrappedGtag:s,gtagCore:o}=function aoe(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function ooe(n,e,t,r){function s(){return(s=g(function*(o,a,l){try{"event"===o?yield soe(n,e,t,a,l):"config"===o?yield ioe(n,e,t,r,a,l):n("set",a)}catch(c){vn.error(c)}})).apply(this,arguments)}return function i(o,a,l){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(Ts,HB,$B,ig,"gtag");Gd=s,GB=o,L0=!0}return Ts[r]=function boe(n,e,t,r,i,s,o){return F0.apply(this,arguments)}(n,HB,$B,e,GB,ig,t),new woe(n)}function V0(){return(V0=g(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function xoe(){return $0.apply(this,arguments)}function $0(){return($0=g(function*(){if(Gm()||!JC()||!aa())return!1;try{return yield Ud()}catch(n){return!1}})).apply(this,arguments)}const qB="@firebase/analytics";!function Roe(){Nn(new _n(rg,(e,{options:t})=>Eoe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Nn(new _n("analytics-internal",function n(e){try{const t=e.getProvider(rg).getImmediate();return{logEvent:(r,i,s)=>function koe(n,e,t,r){n=Pn(n),function Ioe(n,e,t,r,i){return V0.apply(this,arguments)}(Gd,Ts[n.app.options.appId],e,t,r).catch(i=>vn.error(i))}(t,r,i,s)}}catch(t){throw xr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),ot(qB,"0.7.9"),ot(qB,"0.7.9","esm2017")}();class Ooe extends hn{constructor(e,t){super()}schedule(e,t=0){return this}}const sg={setInterval(n,e,...t){const{delegate:r}=sg;return(null==r?void 0:r.setInterval)?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=sg;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};class og extends Ooe{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return sg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;sg.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,vl(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const KB={now:()=>(KB.delegate||Date).now(),delegate:void 0};class qd{constructor(e,t=qd.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}qd.now=KB.now;class ag extends qd{constructor(e,t=qd.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Foe=new class Noe extends ag{}(class Poe extends og{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):e.flush(this)}}),lg=new ag(og),Loe=lg,Wd=new Js("7.3.0"),z0="__angularfire_symbol__analyticsIsSupportedValue",G0="__angularfire_symbol__analyticsIsSupported",q0="__angularfire_symbol__remoteConfigIsSupportedValue",W0="__angularfire_symbol__remoteConfigIsSupported",K0="__angularfire_symbol__messagingIsSupportedValue",Y0="__angularfire_symbol__messagingIsSupported";function cg(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[G0]||(globalThis[G0]=xoe().then(n=>globalThis[z0]=n).catch(()=>globalThis[z0]=!1)),globalThis[Y0]||(globalThis[Y0]=LB().then(n=>globalThis[K0]=n).catch(()=>globalThis[K0]=!1)),globalThis[W0]||(globalThis[W0]=pse().then(n=>globalThis[q0]=n).catch(()=>globalThis[q0]=!1));const ug=(n,e)=>{const t=e?[e]:QV(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function wc(){}class YB{constructor(e,t=Foe){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class Voe{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",wc,{},wc,wc)),t.pipe(pn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let dg=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new YB(Zone.current)),this.insideAngular=t.run(()=>new YB(Zone.current,lg)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(E(he))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _a(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Boe(n){return _a().ngZone.runOutsideAngular(()=>n())}function ya(n){return _a().ngZone.run(()=>n())}function Uoe(n){return _a(),function joe(n){return function(t){return(t=t.lift(new Voe(n.ngZone))).pipe(rp(n.outsideAngular),np(n.insideAngular))}}(_a())(n)}const Hoe=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ya(()=>n.apply(void 0,r))},Bi=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=ya(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",wc,{},wc,wc)))),r[s]=Hoe(r[s],t));const i=Boe(()=>n.apply(this,r));if(!e){if(i instanceof He){const s=_a();return i.pipe(rp(s.outsideAngular),np(s.insideAngular))}return ya(()=>i)}return i instanceof He?i.pipe(Uoe):i instanceof Promise?ya(()=>new Promise((s,o)=>i.then(a=>ya(()=>s(a)),a=>ya(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:ya(()=>i)};class va{constructor(e){return e}}class hg{constructor(){return QV()}}const X0=new P("angularfire2._apps"),zoe={provide:va,useFactory:function $oe(n){return n&&1===n.length?n[0]:new va(Jm())},deps:[[new Qe,X0]]},Goe={provide:hg,deps:[[new Qe,X0]]};function qoe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new va(r)}}let Woe=(()=>{class n{constructor(t){ot("angularfire",Wd.full,"core"),ot("angularfire",Wd.full,"app"),ot("angular",F1.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(E(bd))},n.\u0275mod=Ne({type:n}),n.\u0275inj=Re({providers:[zoe,Goe]}),n})();function Koe(n,...e){return{ngModule:Woe,providers:[{provide:X0,useFactory:qoe(n),multi:!0,deps:[he,ct,dg,...e]}]}}const Yoe=Bi(Gre,!0),QB=new Map,Qoe={activated:!1,tokenObservers:[]},Xoe={initialized:!1,enabled:!1};function en(n){return QB.get(n)||Qoe}function mi(n,e){QB.set(n,e)}function fg(){return Xoe}class nae{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return g(function*(){t.stop();try{t.pending=new Bd,yield function rae(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Bd,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Qn=new Vi("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ZB(n){if(!en(n).activated)throw Qn.create("use-before-activation",{appName:n.name})}function eI(n,e){return tI.apply(this,arguments)}function tI(){return(tI=g(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(n,s)}catch(d){throw Qn.create("fetch-network-error",{originalErrorMessage:d.message})}if(200!==o.status)throw Qn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Qn.create("fetch-parse-error",{originalErrorMessage:d.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Qn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(l[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+c,issuedAtTimeMillis:u}})).apply(this,arguments)}function lae(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Kd="firebase-app-check-store";let gg=null;function e2(){return gg||(gg=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Qn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Kd,{keyPath:"compositeKey"})}}catch(t){e(Qn.create("storage-open",{originalErrorMessage:t.message}))}}),gg)}function nI(){return(nI=g(function*(n,e){const r=(yield e2()).transaction(Kd,"readwrite"),s=r.objectStore(Kd).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var c;a(Qn.create("storage-set",{originalErrorMessage:null===(c=l.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const Yd=new ca("@firebase/app-check");function s2(n,e){return aa()?function hae(n,e){return function t2(n,e){return nI.apply(this,arguments)}(function r2(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Yd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function o2(){return fg().enabled}function a2(){return oI.apply(this,arguments)}function oI(){return(oI=g(function*(){const n=fg();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const yae={error:"UNKNOWN_ERROR"};function vae(n){return Hm.encodeString(JSON.stringify(n),!1)}function _g(n){return aI.apply(this,arguments)}function aI(){return(aI=g(function*(n,e=!1){const t=n.app;ZB(t);const r=en(t);let s,i=r.token;if(!i){const l=yield r.cachedTokenPromise;l&&yg(l)&&(i=l)}if(!e&&i&&yg(i))return{token:i.token};let a,o=!1;if(o2()){r.exchangeTokenPromise||(r.exchangeTokenPromise=eI(lae(t,yield a2()),n.heartbeatServiceProvider).then(c=>(r.exchangeTokenPromise=void 0,c)),o=!0);const l=yield r.exchangeTokenPromise;return yield s2(t,l),mi(t,Object.assign(Object.assign({},r),{token:l})),{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(l=>(r.exchangeTokenPromise=void 0,l)),o=!0),i=yield r.exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?Yd.warn(l.message):Yd.error(l),s=l}return i?(a={token:i.token},mi(t,Object.assign(Object.assign({},r),{token:i})),yield s2(t,i)):a=wae(s),o&&c2(t,a),a})).apply(this,arguments)}function cI(n,e){const t=en(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),mi(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function l2(n){const{app:e}=n,t=en(e);let r=t.tokenRefresher;r||(r=function bae(n){const{app:e}=n;return new nae(g(function*(){let r;if(r=en(e).token?yield _g(n,!0):yield _g(n),r.error)throw r.error}),()=>!0,()=>{const t=en(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),mi(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function c2(n,e){const t=en(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function yg(n){return n.expireTimeMillis-Date.now()>0}function wae(n){return{token:vae(yae),error:n}}class Cae{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=en(this.app);for(const t of e)cI(this.app,t.next);return Promise.resolve()}}const _2="app-check-internal";!function Fae(){Nn(new _n("app-check",n=>function Eae(n,e){return new Cae(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(_2).initialize()})),Nn(new _n(_2,n=>function Iae(n){return{getToken:e=>_g(n,e),addTokenListener:e=>function lI(n,e,t,r){const{app:i}=n,s=en(i),o={next:t,error:r,type:e};if(mi(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&yg(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),l2(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>l2(n))}(n,"INTERNAL",e),removeTokenListener:e=>cI(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),ot("@firebase/app-check","0.5.8")}();class bg{constructor(){return ug("app-check")}}"undefined"!=typeof window&&window;const jae=function v2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},b2=new Vi("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),w2=new ca("@firebase/auth");function wg(n,...e){w2.logLevel<=Se.ERROR&&w2.error(`Auth (9.8.2): ${n}`,...e)}function dr(n,...e){throw pI(n,...e)}function Ui(n,...e){return pI(n,...e)}function C2(n,e,t){const r=Object.assign(Object.assign({},jae()),{[e]:t});return new Vi("auth","Firebase",r).create(e,{appName:n.name})}function pI(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return b2.create(n,...e)}function x(n,e,...t){if(!n)throw pI(e,...t)}function ji(n){const e="INTERNAL ASSERTION FAILED: "+n;throw wg(e),new Error(e)}function io(n,e){n||ji(e)}const E2=new Map;function Ds(n){io(n instanceof Function,"Expected a class definition");let e=E2.get(n);return e?(io(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,E2.set(n,e),e)}function Qd(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function I2(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Xd{constructor(e,t){this.shortDelay=e,this.longDelay=t,io(t>e,"Short delay should be less than long delay!"),this.isMobile=zm()||ZC()}get(){return function zae(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function mI(){return"http:"===I2()||"https:"===I2()}()||Gm()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gI(n,e){io(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class T2{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Wae=new Xd(3e4,6e4);function Ht(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function tn(n,e,t,r){return _I.apply(this,arguments)}function _I(){return(_I=g(function*(n,e,t,r,i={}){return D2(n,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Hd(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),T2.fetch()(S2(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function D2(n,e,t){return yI.apply(this,arguments)}function yI(){return(yI=g(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},qae),e);try{const i=new Kae(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Zd(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Zd(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw Zd(n,"email-already-in-use",o);if("USER_DISABLED"===l)throw Zd(n,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw C2(n,u,c);dr(n,u)}}catch(i){if(i instanceof Li)throw i;dr(n,"network-request-failed")}})).apply(this,arguments)}function Ss(n,e,t,r){return vI.apply(this,arguments)}function vI(){return(vI=g(function*(n,e,t,r,i={}){const s=yield tn(n,e,t,r,i);return"mfaPendingCredential"in s&&dr(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function S2(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?gI(n.config,i):`${n.config.apiScheme}://${i}`}class Kae{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ui(this.auth,"network-request-failed")),Wae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Ui(n,e,r);return i.customData._tokenResponse=t,i}function bI(){return(bI=g(function*(n,e){return tn(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Xae(n,e){return CI.apply(this,arguments)}function CI(){return(CI=g(function*(n,e){return tn(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Jd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function EI(){return(EI=g(function*(n,e=!1){const t=Pn(n),r=yield t.getIdToken(e),i=Cg(r);x(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Jd(II(i.auth_time)),issuedAtTime:Jd(II(i.iat)),expirationTime:Jd(II(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function II(n){return 1e3*Number(n)}function Cg(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return wg("JWT malformed, contained fewer than 3 sections"),null;try{const i=XC(t);return i?JSON.parse(i):(wg("Failed to decode base64 JWT payload"),null)}catch(i){return wg("Caught error parsing JWT payload as JSON",i),null}}function As(n,e){return TI.apply(this,arguments)}function TI(){return(TI=g(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Li&&ele(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function ele({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class tle{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield t.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&e.schedule(!0))}e.schedule()})()}}class A2{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jd(this.lastLoginAt),this.creationTime=Jd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function eh(n){return DI.apply(this,arguments)}function DI(){return(DI=g(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield As(n,Xae(t,{idToken:r}));x(null==i?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?ile(s.providerUserInfo):[],a=rle(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new A2(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)})).apply(this,arguments)}function SI(){return(SI=g(function*(n){const e=Pn(n);yield eh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function rle(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ile(n){return n.map(e=>{var{providerId:t}=e,r=Zk(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function AI(){return(AI=g(function*(n,e){const t=yield D2(n,{},g(function*(){const r=Hd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=S2(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",T2.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class th{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){x(e.idToken,"internal-error"),x(void 0!==e.idToken,"internal-error"),x(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function Jae(n){const e=Cg(n);return x(e,"internal-error"),x(void 0!==e.exp,"internal-error"),x(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return g(function*(){return x(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function sle(n,e){return AI.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new th;return r&&(x("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(x("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(x("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new th,this.toJSON())}_performRefresh(){return ji("not implemented")}}function so(n,e){x("string"==typeof n||void 0===n,"internal-error",{appName:e})}class ba{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Zk(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tle(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new A2(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return g(function*(){const r=yield As(t,t.stsTokenManager.getToken(t.auth,e));return x(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function Zae(n){return EI.apply(this,arguments)}(this,e)}reload(){return function nle(n){return SI.apply(this,arguments)}(this)}_assign(e){this!==e&&(x(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ba(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){x(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield eh(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const t=yield e.getIdToken();return yield As(e,function Yae(n,e){return bI.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,u;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,_=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,b=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:I,emailVerified:M,isAnonymous:H,providerData:Q,stsTokenManager:pe}=t;x(I&&pe,e,"internal-error");const St=th.fromJSON(this.name,pe);x("string"==typeof I,e,"internal-error"),so(d,e.name),so(h,e.name),x("boolean"==typeof M,e,"internal-error"),x("boolean"==typeof H,e,"internal-error"),so(f,e.name),so(p,e.name),so(m,e.name),so(_,e.name),so(b,e.name),so(y,e.name);const Sn=new ba({uid:I,auth:e,email:h,emailVerified:M,displayName:d,isAnonymous:H,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:St,createdAt:b,lastLoginAt:y});return Q&&Array.isArray(Q)&&(Sn.providerData=Q.map(ir=>Object.assign({},ir))),_&&(Sn._redirectEventId=_),Sn}static _fromIdTokenResponse(e,t,r=!1){return g(function*(){const i=new th;i.updateFromServerResponse(t);const s=new ba({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield eh(s),s})()}}const M2=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(t,r){var i=this;return g(function*(){i.storage[t]=r})()}_get(t){var r=this;return g(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return g(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Eg(n,e,t){return`firebase:${n}:${e}:${t}`}class Ec{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Eg(this.userKey,i.apiKey,s),this.fullPersistenceKey=Eg("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?ba._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return g(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return g(function*(){if(!t.length)return new Ec(Ds(M2),e,r);const i=(yield Promise.all(t.map(function(){var c=g(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Ds(M2);const o=Eg(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=yield c._get(o);if(u){const d=ba._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch(u){}const l=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=g(function*(u){if(u!==s)try{yield u._remove(o)}catch(d){}});return function(u){return c.apply(this,arguments)}}())),new Ec(s,e,r)):new Ec(s,e,r)})()}}function x2(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(O2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(k2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(N2(e))return"Blackberry";if(F2(e))return"Webos";if(MI(e))return"Safari";if((e.includes("chrome/")||R2(e))&&!e.includes("edge/"))return"Chrome";if(P2(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function k2(n=Jt()){return/firefox\//i.test(n)}function MI(n=Jt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function R2(n=Jt()){return/crios\//i.test(n)}function O2(n=Jt()){return/iemobile/i.test(n)}function P2(n=Jt()){return/android/i.test(n)}function N2(n=Jt()){return/blackberry/i.test(n)}function F2(n=Jt()){return/webos/i.test(n)}function Ig(n=Jt()){return/iphone|ipad|ipod/i.test(n)}function L2(n=Jt()){return Ig(n)||P2(n)||F2(n)||N2(n)||/windows phone/i.test(n)||O2(n)}function V2(n,e=[]){let t;switch(n){case"Browser":t=x2(Jt());break;case"Worker":t=`${x2(Jt())}-${n}`;break;default:t=n}return`${t}/JsCore/9.8.2/${e.length?e.join(","):"FirebaseCore-web"}`}class cle{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return g(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch(o){}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i.message})}})()}}class ule{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new B2(this),this.idTokenSubscription=new B2(this),this.beforeStateQueue=new cle(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b2,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Ds(t)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Ec.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return g(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,l=null==s?void 0:s._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===l)&&(null==c?void 0:c.user)&&(s=c.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return x(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return g(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(i){yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return g(function*(){try{yield eh(e)}catch(r){if("auth/network-request-failed"!==r.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Gae(){if("undefined"==typeof navigator)return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return g(function*(){const r=e?Pn(e):null;return r&&x(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return g(function*(){if(!r._deleted)return e&&x(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(g(function*(){yield t.assertedPersistence.setPersistence(Ds(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vi("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return g(function*(){if(!t.redirectPersistenceManager){const r=e&&Ds(e)||t._popupRedirectResolver;x(r,t,"argument-error"),t.redirectPersistenceManager=yield Ec.create(t,[Ds(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return g(function*(){var r,i;return t._isInitialized&&(yield t.queue(g(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return g(function*(){if(e===t.currentUser)return t.queue(g(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return x(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return g(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return x(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=V2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function hr(n){return Pn(n)}class B2{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Hne(n,e){const t=new $ne(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return x(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ms(n,e){return HI.apply(this,arguments)}function HI(){return(HI=g(function*(n,e){return Ss(n,"POST","/v1/accounts:signInWithIdp",Ht(n,e))})).apply(this,arguments)}class oo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class xle extends oo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Kr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return g(function*(){const s=yield ba._fromIdTokenResponse(e,r,i),o=q2(r);return new Kr({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=q2(r);return new Kr({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function q2(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Ag extends Li{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ag.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Ag(e,t,r,i)}}function W2(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Ag._fromErrorAndOperation(n,s,e,r):s})}function XI(n,e){return ZI.apply(this,arguments)}function ZI(){return(ZI=g(function*(n,e,t=!1){const r=yield As(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Kr._forOperation(n,"link",r)})).apply(this,arguments)}function eT(){return(eT=g(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield As(n,W2(r,i,e,n),t);x(s.idToken,r,"internal-error");const o=Cg(s.idToken);x(o,r,"internal-error");const{sub:a}=o;return x(n.uid===a,r,"user-mismatch"),Kr._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&dr(r,"user-mismatch"),s}})).apply(this,arguments)}function tT(){return(tT=g(function*(n,e,t=!1){const r="signIn",i=yield W2(n,r,e),s=yield Kr._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}const kg="__sak";class Z2{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(kg,"1"),this.storage.removeItem(kg),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Qle=(()=>{class n extends Z2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Wle(){const n=Jt();return MI(n)||Ig(n)}()&&function lle(){try{return!(!window||window===window.top)}catch(n){return!1}}(),this.fallbackToPolling=L2(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function ale(){return jV()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),J2=(()=>{class n extends Z2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let Zle=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return g(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,l=r.handlersMap[o];if(!(null==l?void 0:l.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(l).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function Xle(n){return Promise.all(n.map(function(){var e=g(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function xT(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class Jle{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return g(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const u=xT("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function $t(){return window}function kT(){return void 0!==$t().WorkerGlobalScope&&"function"==typeof $t().importScripts}function RT(){return(RT=g(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(n){return null}})).apply(this,arguments)}const eU="firebaseLocalStorageDb",Rg="firebaseLocalStorage",tU="fbase_key";class sh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Og(n,e){return n.transaction([Rg],e?"readwrite":"readonly").objectStore(Rg)}function OT(){const n=indexedDB.open(eU,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Rg,{keyPath:tU})}catch(i){t(i)}}),n.addEventListener("success",g(function*(){const r=n.result;r.objectStoreNames.contains(Rg)?e(r):(r.close(),yield function sce(){const n=indexedDB.deleteDatabase(eU);return new sh(n).toPromise()}(),e(yield OT()))}))})}function nU(n,e,t){return PT.apply(this,arguments)}function PT(){return(PT=g(function*(n,e,t){const r=Og(n,!0).put({[tU]:e,value:t});return new sh(r).toPromise()})).apply(this,arguments)}function NT(){return(NT=g(function*(n,e){const t=Og(n,!1).get(e),r=yield new sh(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function rU(n,e){const t=Og(n,!0).delete(e);return new sh(t).toPromise()}const cce=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return g(function*(){return t.db||(t.db=yield OT()),t.db})()}_withRetries(t){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return g(function*(){return kT()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return g(function*(){t.receiver=Zle._getInstance(function rce(){return kT()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return g(function*(){var r,i;if(t.activeServiceWorker=yield function tce(){return RT.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new Jle(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function nce(){var n;return(null===(n=null==navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch(i){}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const t=yield OT();return yield nU(t,kg,"1"),yield rU(t,kg),!0}catch(t){}return!1})()}_withPendingWrite(t){var r=this;return g(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>nU(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return g(function*(){const i=yield r._withRetries(s=>function oce(n,e){return NT.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>rU(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return g(function*(){const r=yield t._withRetries(o=>{const a=Og(o,!1).getAll();return new sh(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function sU(n){return`__${n}${Math.floor(1e6*Math.random())}`}function Ca(n,e){return e?Ds(e):(x(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}sU("rcb"),new Xd(3e4,6e4);class GT extends class fle{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ji("not implemented")}_getIdTokenResponse(e){return ji("not implemented")}_linkToIdToken(e,t){return ji("not implemented")}_getReauthenticationResolver(e){return ji("not implemented")}}{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ms(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ms(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ms(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Dce(n){return function Q2(n,e){return tT.apply(this,arguments)}(n.auth,new GT(n),n.bypassAuthState)}function Sce(n){const{auth:e,user:t}=n;return x(t,e,"internal-error"),function Y2(n,e){return eT.apply(this,arguments)}(t,new GT(n),n.bypassAuthState)}function Ace(n){return qT.apply(this,arguments)}function qT(){return(qT=g(function*(n){const{auth:e,user:t}=n;return x(t,e,"internal-error"),XI(t,new GT(n),n.bypassAuthState)})).apply(this,arguments)}new Xd(2e3,1e4);const oh=new Map;class kce extends class Mce{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:l}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(l)(c))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Dce;case"linkViaPopup":case"linkViaRedirect":return Ace;case"reauthViaPopup":case"reauthViaRedirect":return Sce;default:dr(this.auth,"internal-error")}}resolve(e){io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return g(function*(){let r=oh.get(t.auth._key());if(!r){try{const s=(yield function Rce(n,e){return XT.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}oh.set(t.auth._key(),r)}return t.bypassAuthState||oh.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function XT(){return(XT=g(function*(n,e){const t=lU(e),r=aU(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function Oce(n,e){oh.set(n._key(),e)}function aU(n){return Ds(n._redirectPersistence)}function lU(n){return Eg("pendingRedirect",n.config.apiKey,n.name)}function cU(n,e){return iD.apply(this,arguments)}function iD(){return(iD=g(function*(n,e,t=!1){const r=hr(n),i=Ca(r,e),o=yield new kce(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class Vce{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Bce(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hU(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!hU(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ui(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(dU(e))}saveEventToCache(e){this.cachedEventUids.add(dU(e)),this.lastProcessedEventTime=Date.now()}}function dU(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function hU({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===(null==e?void 0:e.code)}function Uce(n){return oD.apply(this,arguments)}function oD(){return(oD=g(function*(n,e={}){return tn(n,"GET","/v1/projects",e)})).apply(this,arguments)}const jce=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hce=/^https?/;function aD(){return(aD=g(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield Uce(n);for(const t of e)try{if(zce(t))return}catch(r){}dr(n,"unauthorized-domain")})).apply(this,arguments)}function zce(n){const e=Qd(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!Hce.test(t))return!1;if(jce.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Gce=new Xd(3e4,6e4);function fU(){const n=$t().___jsl;if(null==n?void 0:n.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Ng=null;function Wce(n){return Ng=Ng||function qce(n){return new Promise((e,t)=>{var r,i,s;function o(){fU(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fU(),t(Ui(n,"network-request-failed"))},timeout:Gce.get()})}if(null===(i=null===(r=$t().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=$t().gapi)||void 0===s?void 0:s.load)){const a=sU("iframefcb");return $t()[a]=()=>{gapi.load?o():t(Ui(n,"network-request-failed"))},function iU(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Ui("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function fce(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>t(l))}o()}}).catch(e=>{throw Ng=null,e})}(n),Ng}const Kce=new Xd(5e3,15e3),Xce={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zce=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jce(n){const e=n.config;x(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?gI(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:ha},i=Zce.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Hd(r).slice(1)}`}function lD(){return lD=g(function*(n){const e=yield Wce(n),t=$t().gapi;return x(t,n,"internal-error"),e.open({where:document.body,url:Jce(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xce,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Ui(n,"network-request-failed"),l=$t().setTimeout(()=>{o(a)},Kce.get());function c(){$t().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),lD.apply(this,arguments)}const tue={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class pU{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function mU(n,e,t,r,i,s){x(n.config.authDomain,n,"auth-domain-config-required"),x(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ha,eventId:i};if(e instanceof oo){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",eE(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,c]of Object.entries(s||{}))o[l]=c}if(e instanceof xle){const l=e.getScopes().filter(c=>""!==c);l.length>0&&(o.scopes=l.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];return`${function uue({config:n}){return n.emulator?gI(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${Hd(a).slice(1)}`}const cD="webStorageSupport",hue=class due{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=J2,this._completeRedirectFn=cU,this._overrideRedirectResult=Oce}_openPopup(e,t,r,i){var s=this;return g(function*(){var o;io(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=mU(e,t,r,Qd(),i);return function oue(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},tue),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Jt().toLowerCase();t&&(a=R2(c)?"_blank":t),k2(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function ole(n=Jt()){var e;return Ig(n)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function aue(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new pU(null);const d=window.open(e||"",a,u);x(d,n,"popup-blocked");try{d.focus()}catch(h){}return new pU(d)}(e,a,xT())})()}_openRedirect(e,t,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function ece(n){$t().location.href=n}(mU(e,t,r,Qd(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(io(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return g(function*(){const r=yield function eue(n){return lD.apply(this,arguments)}(e),i=new Vce(e);return r.register("authEvent",s=>(x(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(cD,{type:cD},i=>{var s;const o=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[cD];void 0!==o&&t(!!o),dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function $ce(n){return aD.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return L2()||MI()||Ig()}};var _U="@firebase/auth";class fue{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return g(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){x(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function gue(n=Jm()){const e=da(n,"auth");return e.isInitialized()?e.getImmediate():function Hae(n,e){const t=da(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(Km(t.getOptions(),null!=e?e:{}))return i;dr(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:hue,persistence:[cce,Qle,J2]})}!function mue(n){Nn(new _n("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{x(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),x(!(null==o?void 0:o.includes(":")),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V2(n)},u=new ule(a,l,c);return function $ae(n,e){const t=(null==e?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ds);(null==e?void 0:e.errorMap)&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(u,t),u})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Nn(new _n("auth-internal",e=>{const t=hr(e.getProvider("auth").getImmediate());return new fue(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ot(_U,"0.20.2",function pue(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),ot(_U,"0.20.2","esm2017")}("Browser");class uD{constructor(e){return e}}class dD{constructor(){return ug("auth")}}const hD=new P("angularfire2.auth-instances");function yue(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new uD(r)}}const vue={provide:dD,deps:[[new Qe,hD]]},bue={provide:uD,useFactory:function _ue(n,e){const t=cg("auth",n,e);return t&&new uD(t)},deps:[[new Qe,hD],va]};let wue=(()=>{class n{constructor(){ot("angularfire",Wd.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Re({providers:[bue,vue]}),n})();function Cue(n,...e){return{ngModule:wue,providers:[{provide:hD,useFactory:yue(n),multi:!0,deps:[he,ct,dg,hg,[new Qe,bg],...e]}]}}const Eue=Bi(gue,!0);var U,Iue="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},xs={},fD=fD||{},re=Iue||self;function Fg(){}function pD(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ah(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var mD="closure_uid_"+(1e9*Math.random()>>>0),Due=0;function Sue(n,e,t){return n.call.apply(n.bind,arguments)}function Aue(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function bn(n,e,t){return(bn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Sue:Aue).apply(null,arguments)}function Lg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function wn(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ao(){this.s=this.s,this.o=this.o}var xue={};ao.prototype.s=!1,ao.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Tue(n){return Object.prototype.hasOwnProperty.call(n,mD)&&n[mD]||(n[mD]=++Due)}(this);delete xue[n]}},ao.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const bU=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},wU=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let s=0;s<r;s++)s in i&&e.call(t,i[s],s,n)};function CU(n){return Array.prototype.concat.apply([],arguments)}function gD(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Vg(n){return/^[\s\xa0]*$/.test(n)}var Zn,EU=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Xn(n,e){return-1!=n.indexOf(e)}function _D(n,e){return n<e?-1:n>e?1:0}e:{var IU=re.navigator;if(IU){var TU=IU.userAgent;if(TU){Zn=TU;break e}}Zn=""}function yD(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function DU(n){const e={};for(const t in n)e[t]=n[t];return e}var SU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function AU(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<SU.length;s++)t=SU[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function vD(n){return vD[" "](n),n}vD[" "]=Fg;var Bg,n,Oue=Xn(Zn,"Opera"),Ic=Xn(Zn,"Trident")||Xn(Zn,"MSIE"),MU=Xn(Zn,"Edge"),bD=MU||Ic,xU=Xn(Zn,"Gecko")&&!(Xn(Zn.toLowerCase(),"webkit")&&!Xn(Zn,"Edge"))&&!(Xn(Zn,"Trident")||Xn(Zn,"MSIE"))&&!Xn(Zn,"Edge"),Pue=Xn(Zn.toLowerCase(),"webkit")&&!Xn(Zn,"Edge");function kU(){var n=re.document;return n?n.documentMode:void 0}e:{var wD="",CD=(n=Zn,xU?/rv:([^\);]+)(\)|;)/.exec(n):MU?/Edge\/([\d\.]+)/.exec(n):Ic?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Pue?/WebKit\/(\S+)/.exec(n):Oue?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(CD&&(wD=CD?CD[1]:""),Ic){var ED=kU();if(null!=ED&&ED>parseFloat(wD)){Bg=String(ED);break e}}Bg=wD}var Nue={};var Lue=re.document&&Ic&&(kU()||parseInt(Bg,10))||void 0,Vue=function(){if(!re.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{re.addEventListener("test",Fg,e),re.removeEventListener("test",Fg,e)}catch(t){}return n}();function Fn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function lh(n,e){if(Fn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(xU){e:{try{vD(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Bue[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&lh.Z.h.call(this)}}Fn.prototype.h=function(){this.defaultPrevented=!0},wn(lh,Fn);var Bue={2:"touch",3:"pen",4:"mouse"};lh.prototype.h=function(){lh.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ch="closure_listenable_"+(1e6*Math.random()|0),Uue=0;function jue(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++Uue,this.ca=this.fa=!1}function Ug(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function jg(n){this.src=n,this.g={},this.h=0}function TD(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=bU(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Ug(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function DD(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==r)return i}return-1}jg.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=DD(n,e,r,i);return-1<o?(e=n[o],t||(e.fa=!1)):((e=new jue(e,this.src,s,!!r,i)).fa=t,n.push(e)),e};var SD="closure_lm_"+(1e6*Math.random()|0),AD={};function OU(n,e,t,r,i){if(r&&r.once)return NU(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)OU(n,e[s],t,r,i);return null}return t=RD(t),n&&n[ch]?n.N(e,t,ah(r)?!!r.capture:!!r,i):PU(n,e,t,!1,r,i)}function PU(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=ah(i)?!!i.capture:!!i,a=xD(n);if(a||(n[SD]=a=new jg(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function Hue(){var e=$ue;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Vue||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(LU(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function NU(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)NU(n,e[s],t,r,i);return null}return t=RD(t),n&&n[ch]?n.O(e,t,ah(r)?!!r.capture:!!r,i):PU(n,e,t,!0,r,i)}function FU(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)FU(n,e[s],t,r,i);else r=ah(r)?!!r.capture:!!r,t=RD(t),n&&n[ch]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=DD(s=n.g[e],t,r,i))&&(Ug(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=xD(n))&&(e=n.g[e.toString()],n=-1,e&&(n=DD(e,t,r,i)),(t=-1<n?e[n]:null)&&MD(t))}function MD(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[ch])TD(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(LU(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=xD(e))?(TD(t,n),0==t.h&&(t.src=null,e[SD]=null)):Ug(n)}}}function LU(n){return n in AD?AD[n]:AD[n]="on"+n}function $ue(n,e){if(n.ca)n=!0;else{e=new lh(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&MD(n),n=t.call(r,e)}return n}function xD(n){return(n=n[SD])instanceof jg?n:null}var kD="__closure_events_fn_"+(1e9*Math.random()>>>0);function RD(n){return"function"==typeof n?n:(n[kD]||(n[kD]=function(e){return n.handleEvent(e)}),n[kD])}function nn(){ao.call(this),this.i=new jg(this),this.P=this,this.I=null}function Cn(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Fn(e,n);else if(e instanceof Fn)e.target=e.target||n;else{var i=e;AU(e=new Fn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=Hg(o,r,!0,e)&&i}if(i=Hg(o=e.g=n,r,!0,e)&&i,i=Hg(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Hg(o=e.g=t[s],r,!1,e)&&i}function Hg(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==t){var a=o.listener,l=o.ia||o.src;o.fa&&TD(n.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}wn(nn,ao),nn.prototype[ch]=!0,nn.prototype.removeEventListener=function(n,e,t,r){FU(this,n,e,t,r)},nn.prototype.M=function(){if(nn.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Ug(t[r]);delete n.g[e],n.h--}}this.I=null},nn.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},nn.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var OD=re.JSON.stringify;function zue(){var n=BU;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var ND,VU=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new que,n=>n.reset());class que{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Wue(n){re.setTimeout(()=>{throw n},0)}function PD(n,e){ND||function Kue(){var n=re.Promise.resolve(void 0);ND=function(){n.then(Yue)}}(),FD||(ND(),FD=!0),BU.add(n,e)}var FD=!1,BU=new class Gue{constructor(){this.h=this.g=null}add(e,t){const r=VU.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Yue(){for(var n;n=zue();){try{n.h.call(n.g)}catch(t){Wue(t)}var e=VU;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}FD=!1}function $g(n,e){nn.call(this),this.h=n||1,this.g=e||re,this.j=bn(this.kb,this),this.l=Date.now()}function LD(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function VD(n,e,t){if("function"==typeof n)t&&(n=bn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=bn(n.handleEvent,n)}return 2147483647<Number(e)?-1:re.setTimeout(n,e||0)}function UU(n){n.g=VD(()=>{n.g=null,n.i&&(n.i=!1,UU(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}wn($g,nn),(U=$g.prototype).da=!1,U.S=null,U.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Cn(this,"tick"),this.da&&(LD(this),this.start()))}},U.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},U.M=function(){$g.Z.M.call(this),LD(this),delete this.g};class Que extends ao{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:UU(this)}M(){super.M(),this.g&&(re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function uh(n){ao.call(this),this.h=n,this.g={}}wn(uh,ao);var jU=[];function HU(n,e,t,r){Array.isArray(t)||(t&&(jU[0]=t.toString()),t=jU);for(var i=0;i<t.length;i++){var s=OU(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function $U(n){yD(n.g,function(e,t){this.g.hasOwnProperty(t)&&MD(e)},n),n.g={}}function zg(){this.g=!0}function Tc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ede(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return OD(t)}catch(a){return e}}(n,t)+(r?" "+r:"")})}uh.prototype.M=function(){uh.Z.M.call(this),$U(this)},uh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},zg.prototype.Aa=function(){this.g=!1},zg.prototype.info=function(){};var Ea={},zU=null;function Gg(){return zU=zU||new nn}function GU(n){Fn.call(this,Ea.Ma,n)}function dh(n){const e=Gg();Cn(e,new GU(e,n))}function qU(n,e){Fn.call(this,Ea.STAT_EVENT,n),this.stat=e}function Jn(n){const e=Gg();Cn(e,new qU(e,n))}function WU(n,e){Fn.call(this,Ea.Na,n),this.size=e}function hh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return re.setTimeout(function(){n()},e)}Ea.Ma="serverreachability",wn(GU,Fn),Ea.STAT_EVENT="statevent",wn(qU,Fn),Ea.Na="timingevent",wn(WU,Fn);var qg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},KU={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function BD(){}function QU(){}BD.prototype.h=null;var HD,fh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function UD(){Fn.call(this,"d")}function jD(){Fn.call(this,"c")}function Wg(){}function ph(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new uh(this),this.P=tde,this.W=new $g(n=bD?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new XU}function XU(){this.i=null,this.g="",this.h=!1}wn(UD,Fn),wn(jD,Fn),wn(Wg,BD),Wg.prototype.g=function(){return new XMLHttpRequest},Wg.prototype.i=function(){return{}},HD=new Wg;var tde=45e3,$D={},Kg={};function zD(n,e,t){n.K=1,n.v=Jg(ks(e)),n.s=t,n.U=!0,ZU(n,null)}function ZU(n,e){n.F=Date.now(),mh(n),n.A=ks(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),aj(t.h,"t",r),n.C=0,t=n.l.H,n.h=new XU,n.g=xj(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Que(bn(n.Ia,n,n.g),n.O)),HU(n.V,n.g,"readystatechange",n.gb),e=n.H?DU(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),dh(1),function Xue(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.X,n.s)}function JU(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function ej(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=nde(n,t),i==Kg){4==e&&(n.o=4,Jn(14),r=!1),Tc(n.j,n.m,null,"[Incomplete Response]");break}if(i==$D){n.o=4,Jn(15),Tc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Tc(n.j,n.m,i,null),GD(n,i)}JU(n)&&i!=Kg&&i!=$D&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Jn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),nS(e),e.L=!0,Jn(11))):(Tc(n.j,n.m,t,"[Invalid Chunked Response]"),Ia(n),gh(n))}function nde(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Kg:(t=Number(e.substring(t,r)),isNaN(t)?$D:(r+=1)+t>e.length?Kg:(e=e.substr(r,t),n.C=r+t,e))}function mh(n){n.Y=Date.now()+n.P,tj(n,n.P)}function tj(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=hh(bn(n.eb,n),e)}function Yg(n){n.B&&(re.clearTimeout(n.B),n.B=null)}function gh(n){0==n.l.G||n.I||Dj(n.l,n)}function Ia(n){Yg(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,LD(n.W),$U(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function GD(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||KD(t.i,n)))if(t.I=n.N,!n.J&&KD(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=hh(bn(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;s_(t),r_(t)}tS(t),Jn(18)}if(1>=uj(t.i)&&t.ka){try{t.ka()}catch(c){}t.ka=void 0}}else Sa(t,11)}else if((n.J||t.g==n)&&s_(t),!Vg(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.U=c[0],c=c[1],2==t.G)if("c"==c[0]){t.J=c[1],t.la=c[2];const u=c[3];null!=u&&(t.ma=u,t.h.info("VER="+t.ma));const d=c[4];null!=d&&(t.za=d,t.h.info("SVER="+t.za));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.K=r=1.5*h,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(Xn(p,"spdy")||Xn(p,"quic")||Xn(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(YD(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,ut(r.F,r.D,m))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var o=n;if((r=t).oa=Mj(r,r.H?r.la:null,r.W),o.J){dj(r.i,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(Yg(a),mh(a)),r.g=o}else Ij(r);0<t.l.length&&i_(t)}else"stop"!=c[0]&&"close"!=c[0]||Sa(t,7);else 3==t.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Sa(t,7):JD(t):"noop"!=c[0]&&t.j&&t.j.wa(c),t.A=0)}dh(4)}catch(c){}}function qD(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(pD(n)||"string"==typeof n)wU(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(pD(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function rde(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(pD(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}}function Dc(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Dc)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function WD(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Ta(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Ta(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Ta(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(U=ph.prototype).setTimeout=function(n){this.P=n},U.gb=function(n){n=n.target;const e=this.L;e&&3==Rs(n)?e.l():this.Ia(n)},U.Ia=function(n){try{if(n==this.g)e:{const u=Rs(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>u)&&(3!=u||bD||this.g&&(this.h.h||this.g.ga()||vj(this.g)))){this.I||4!=u||7==e||dh(8==e||0>=d?3:2),Yg(this);var t=this.g.ba();this.N=t;t:if(JU(this)){var r=vj(this.g);n="";var i=r.length,s=4==Rs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ia(this),gh(this);var o="";break t}this.h.i=new re.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==t,function Zue(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,u,t),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vg(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,Jn(12),Ia(this),gh(this);break e}Tc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,GD(this,t)}this.U?(ej(this,u,o),bD&&this.i&&3==u&&(HU(this.V,this.W,"tick",this.fb),this.W.start())):(Tc(this.j,this.m,o,null),GD(this,o)),4==u&&Ia(this),this.i&&!this.I&&(4==u?Dj(this.l,this):(this.i=!1,mh(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,Jn(12)):(this.o=0,Jn(13)),Ia(this),gh(this)}}}catch(u){}},U.fb=function(){if(this.g){var n=Rs(this.g),e=this.g.ga();this.C<e.length&&(Yg(this),ej(this,n,e),this.i&&4!=n&&mh(this))}},U.cancel=function(){this.I=!0,Ia(this)},U.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Jue(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(dh(3),Jn(17)),Ia(this),this.o=2,gh(this)):tj(this,this.Y-n)},(U=Dc.prototype).R=function(){WD(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},U.T=function(){return WD(this),this.g.concat()},U.get=function(n,e){return Ta(this.h,n)?this.h[n]:e},U.set=function(n,e){Ta(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},U.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],s=this.get(i);n.call(e,s,i,this)}};var nj=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Da(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Da){this.g=void 0!==e?e:n.g,Qg(this,n.j),this.s=n.s,Xg(this,n.i),Zg(this,n.m),this.l=n.l,e=n.h;var t=new vh;t.i=e.i,e.g&&(t.g=new Dc(e.g),t.h=e.h),rj(this,t),this.o=n.o}else n&&(t=String(n).match(nj))?(this.g=!!e,Qg(this,t[1]||"",!0),this.s=_h(t[2]||""),Xg(this,t[3]||"",!0),Zg(this,t[4]),this.l=_h(t[5]||"",!0),rj(this,t[6]||"",!0),this.o=_h(t[7]||"")):(this.g=!!e,this.h=new vh(null,this.g))}function ks(n){return new Da(n)}function Qg(n,e,t){n.j=t?_h(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Xg(n,e,t){n.i=t?_h(e,!0):e}function Zg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function rj(n,e,t){e instanceof vh?(n.h=e,function hde(n,e){e&&!n.j&&(lo(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(sj(this,r),aj(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=yh(e,ude)),n.h=new vh(e,n.g))}function ut(n,e,t){n.h.set(e,t)}function Jg(n){return ut(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function _h(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function yh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,ade),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function ade(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Da.prototype.toString=function(){var n=[],e=this.j;e&&n.push(yh(e,ij,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(yh(e,ij,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(yh(t,"/"==t.charAt(0)?cde:lde,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",yh(t,dde)),n.join("")};var ij=/[#\/\?@]/g,lde=/[#\?:]/g,cde=/[#\?]/g,ude=/[#\?@]/g,dde=/#/g;function vh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function lo(n){n.g||(n.g=new Dc,n.h=0,n.i&&function ide(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function sj(n,e){lo(n),e=Sc(n,e),Ta(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Ta((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&WD(n)))}function oj(n,e){return lo(n),e=Sc(n,e),Ta(n.g.h,e)}function aj(n,e,t){sj(n,e),0<t.length&&(n.i=null,n.g.set(Sc(n,e),gD(t)),n.h+=t.length)}function Sc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function lj(n){this.l=n||pde,n=re.PerformanceNavigationTiming?0<(n=re.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(re.g&&re.g.Ea&&re.g.Ea()&&re.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(U=vh.prototype).add=function(n,e){lo(this),this.i=null,n=Sc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},U.forEach=function(n,e){lo(this),this.g.forEach(function(t,r){wU(t,function(i){n.call(e,i,r,this)},this)},this)},U.T=function(){lo(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],s=0;s<i.length;s++)t.push(e[r]);return t},U.R=function(n){lo(this);var e=[];if("string"==typeof n)oj(this,n)&&(e=CU(e,this.g.get(Sc(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=CU(e,n[t])}return e},U.set=function(n,e){return lo(this),this.i=null,oj(this,n=Sc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},U.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},U.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),n.push(o)}}return this.i=n.join("&")};var pde=10;function cj(n){return!!n.h||!!n.g&&n.g.size>=n.j}function uj(n){return n.h?1:n.g?n.g.size:0}function KD(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function YD(n,e){n.g?n.g.add(e):n.h=e}function dj(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function hj(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return gD(n.i)}function QD(){}function mde(){this.g=new QD}function gde(n,e,t){const r=t||"";try{qD(n,function(i,s){let o=i;ah(i)&&(o=OD(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function e_(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function bh(n){this.l=n.$b||null,this.j=n.ib||!1}function t_(n,e){nn.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=XD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}lj.prototype.cancel=function(){if(this.i=hj(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},QD.prototype.stringify=function(n){return re.JSON.stringify(n,void 0)},QD.prototype.parse=function(n){return re.JSON.parse(n,void 0)},wn(bh,BD),bh.prototype.g=function(){return new t_(this.l,this.j)},bh.prototype.i=function(n){return function(){return n}}({}),wn(t_,nn);var XD=0;function fj(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function wh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ch(n)}function Ch(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(U=t_.prototype).open=function(n,e){if(this.readyState!=XD)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ch(this)},U.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||re).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},U.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wh(this)),this.readyState=XD},U.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ch(this)),this.g&&(this.readyState=3,Ch(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==re.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fj(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},U.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?wh(this):Ch(this),3==this.readyState&&fj(this)}},U.Ua=function(n){this.g&&(this.response=this.responseText=n,wh(this))},U.Ta=function(n){this.g&&(this.response=n,wh(this))},U.ha=function(){this.g&&wh(this)},U.setRequestHeader=function(n,e){this.v.append(n,e)},U.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},U.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(t_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var yde=re.JSON.parse;function kt(n){nn.call(this),this.headers=new Dc,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=pj,this.K=this.L=!1}wn(kt,nn);var pj="",vde=/^https?$/i,bde=["POST","PUT"];function Cde(n){return"content-type"==n.toLowerCase()}function mj(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,gj(n),n_(n)}function gj(n){n.D||(n.D=!0,Cn(n,"complete"),Cn(n,"error"))}function _j(n){if(n.h&&void 0!==fD&&(!n.C[1]||4!=Rs(n)||2!=n.ba()))if(n.v&&4==Rs(n))VD(n.Fa,0,n);else if(Cn(n,"readystatechange"),4==Rs(n)){n.h=!1;try{const a=n.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.H).match(nj)[1]||null;if(!i&&re.self&&re.self.location){var s=re.self.location.protocol;i=s.substr(0,s.length-1)}r=!vde.test(i?i.toLowerCase():"")}t=r}if(t)Cn(n,"complete"),Cn(n,"success");else{n.m=6;try{var o=2<Rs(n)?n.g.statusText:""}catch(l){o=""}n.j=o+" ["+n.ba()+"]",gj(n)}}finally{n_(n)}}}function n_(n,e){if(n.g){yj(n);const t=n.g,r=n.C[0]?Fg:null;n.g=null,n.C=null,e||Cn(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function yj(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(re.clearTimeout(n.A),n.A=null)}function Rs(n){return n.g?n.g.readyState:0}function vj(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case pj:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ZD(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function Ede(n){let e="";return yD(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ut(n,e,t))}function Eh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function bj(n){this.za=0,this.l=[],this.h=new zg,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Eh("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Eh("baseRetryDelayMs",5e3,n),this.$a=Eh("retryDelaySeedMs",1e4,n),this.Ya=Eh("forwardChannelMaxRetries",2,n),this.ra=Eh("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new lj(n&&n.concurrentRequestLimit),this.Ca=new mde,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function JD(n){if(wj(n),3==n.G){var e=n.V++,t=ks(n.F);ut(t,"SID",n.J),ut(t,"RID",e),ut(t,"TYPE","terminate"),Ih(n,t),(e=new ph(n,n.h,e,void 0)).K=2,e.v=Jg(ks(t)),t=!1,re.navigator&&re.navigator.sendBeacon&&(t=re.navigator.sendBeacon(e.v.toString(),"")),!t&&re.Image&&((new Image).src=e.v,t=!0),t||(e.g=xj(e.l,null),e.g.ea(e.v)),e.F=Date.now(),mh(e)}Aj(n)}function r_(n){n.g&&(nS(n),n.g.cancel(),n.g=null)}function wj(n){r_(n),n.u&&(re.clearTimeout(n.u),n.u=null),s_(n),n.i.cancel(),n.m&&("number"==typeof n.m&&re.clearTimeout(n.m),n.m=null)}function eS(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&i_(n)}function i_(n){cj(n.i)||n.m||(n.m=!0,PD(n.Ha,n),n.C=0)}function Cj(n,e){var t;t=e?e.m:n.V++;const r=ks(n.F);ut(r,"SID",n.J),ut(r,"RID",t),ut(r,"AID",n.U),Ih(n,r),n.o&&n.s&&ZD(r,n.o,n.s),t=new ph(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Ej(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),YD(n.i,t),zD(t,r,e)}function Ih(n,e){n.j&&qD({},function(t,r){ut(e,r,t)})}function Ej(n,e,t){t=Math.min(n.l.length,t);var r=n.j?bn(n.j.Oa,n.j,n):null;e:{var i=n.l;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<t;l++){let c=i[l].h;const u=i[l].g;if(c-=s,0>c)s=Math.max(0,i[l].h-100),a=!1;else try{gde(u,o,"req"+c+"_")}catch(d){r&&r(u)}}if(a){r=o.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Ij(n){n.g||n.u||(n.Y=1,PD(n.Ga,n),n.A=0)}function tS(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=hh(bn(n.Ga,n),Sj(n,n.A)),n.A++,0))}function nS(n){null!=n.B&&(re.clearTimeout(n.B),n.B=null)}function Tj(n){n.g=new ph(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=ks(n.oa);ut(e,"RID","rpc"),ut(e,"SID",n.J),ut(e,"CI",n.N?"0":"1"),ut(e,"AID",n.U),Ih(n,e),ut(e,"TYPE","xmlhttp"),n.o&&n.s&&ZD(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Jg(ks(e)),t.s=null,t.U=!0,ZU(t,n)}function s_(n){null!=n.v&&(re.clearTimeout(n.v),n.v=null)}function Dj(n,e){var t=null;if(n.g==e){s_(n),nS(n),n.g=null;var r=2}else{if(!KD(n.i,e))return;t=e.D,dj(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Cn(r=Gg(),new WU(r,t,e,i)),i_(n)}else Ij(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function Ide(n,e){return!(uj(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=hh(bn(n.Ha,n,e),Sj(n,n.C)),n.C++,0)))}(n,e)||2==r&&tS(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Sa(n,5);break;case 4:Sa(n,10);break;case 3:Sa(n,6);break;default:Sa(n,2)}}function Sj(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Sa(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=bn(n.jb,n);t||(t=new Da("//www.google.com/images/cleardot.gif"),re.location&&"http"==re.location.protocol||Qg(t,"https"),Jg(t)),function _de(n,e){const t=new zg;if(re.Image){const r=new Image;r.onload=Lg(e_,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Lg(e_,t,r,"TestLoadImage: error",!1,e),r.onabort=Lg(e_,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Lg(e_,t,r,"TestLoadImage: timeout",!1,e),re.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Jn(2);n.G=0,n.j&&n.j.va(e),Aj(n),wj(n)}function Aj(n){n.G=0,n.I=-1,n.j&&((0!=hj(n.i).length||0!=n.l.length)&&(n.i.i.length=0,gD(n.l),n.l.length=0),n.j.ua())}function Mj(n,e,t){let r=function sde(n){return n instanceof Da?ks(n):new Da(n,void 0)}(t);if(""!=r.i)e&&Xg(r,e+"."+r.i),Zg(r,r.m);else{const i=re.location;r=function ode(n,e,t,r){var i=new Da(null,void 0);return n&&Qg(i,n),e&&Xg(i,e),t&&Zg(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&yD(n.aa,function(i,s){ut(r,s,i)}),t=n.sa,(e=n.D)&&t&&ut(r,e,t),ut(r,"VER",n.ma),Ih(n,r),r}function xj(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new kt(t&&n.Ba&&!n.qa?new bh({ib:!0}):n.qa)).L=n.H,e}function kj(){}function o_(){if(Ic&&!(10<=Number(Lue)))throw Error("Environmental error: no available transport.")}function kr(n,e){nn.call(this),this.g=new bj(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Vg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Vg(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ac(this)}function Rj(n){UD.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Oj(){jD.call(this),this.status=1}function Ac(n){this.g=n}(U=kt.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():HD.g(),this.C=function YU(n){return n.h||(n.h=n.i())}(this.u?this.u:HD),this.g.onreadystatechange=bn(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void mj(this,s)}n=t||"";const i=new Dc(this.headers);r&&qD(r,function(s,o){i.set(o,s)}),r=function kue(n){e:{var e=Cde;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=re.FormData&&n instanceof re.FormData,!(0<=bU(bde,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{yj(this),0<this.B&&((this.K=function wde(n){return Ic&&function Fue(){return function Rue(n){var e=Nue;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=EU(String(Bg)).split("."),t=EU("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=_D(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||_D(0==i[2].length,0==s[2].length)||_D(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bn(this.pa,this)):this.A=VD(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){mj(this,s)}},U.pa=function(){void 0!==fD&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Cn(this,"timeout"),this.abort(8))},U.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Cn(this,"complete"),Cn(this,"abort"),n_(this))},U.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),n_(this,!0)),kt.Z.M.call(this)},U.Fa=function(){this.s||(this.F||this.v||this.l?_j(this):this.cb())},U.cb=function(){_j(this)},U.ba=function(){try{return 2<Rs(this)?this.g.status:-1}catch(n){return-1}},U.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},U.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),yde(e)}},U.Da=function(){return this.m},U.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(U=bj.prototype).ma=8,U.G=1,U.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},U.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new ph(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=DU(s),AU(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Ej(this,i,e),ut(t=ks(this.F),"RID",n),ut(t,"CVER",22),this.D&&ut(t,"X-HTTP-Session-Id",this.D),Ih(this,t),this.o&&s&&ZD(t,this.o,s),YD(this.i,i),this.Ra&&ut(t,"TYPE","init"),this.ja?(ut(t,"$req",e),ut(t,"SID","null"),i.$=!0,zD(i,t,null)):zD(i,t,e),this.G=2}}else 3==this.G&&(n?Cj(this,n):0==this.l.length||cj(this.i)||Cj(this))},U.Ga=function(){if(this.u=null,Tj(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=hh(bn(this.bb,this),n)}},U.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Jn(10),r_(this),Tj(this))},U.ab=function(){null!=this.v&&(this.v=null,r_(this),tS(this),Jn(19))},U.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Jn(2)):(this.h.info("Failed to ping google.com"),Jn(1))},(U=kj.prototype).xa=function(){},U.wa=function(){},U.va=function(){},U.ua=function(){},U.Oa=function(){},o_.prototype.g=function(n,e){return new kr(n,e)},wn(kr,nn),kr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),PD(bn(n.hb,n,e))),Jn(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Mj(n,null,n.W),i_(n)},kr.prototype.close=function(){JD(this.g)},kr.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,eS(this.g,e)}else this.v?((e={}).__data__=OD(n),eS(this.g,e)):eS(this.g,n)},kr.prototype.M=function(){this.g.j=null,delete this.j,JD(this.g),delete this.g,kr.Z.M.call(this)},wn(Rj,UD),wn(Oj,jD),wn(Ac,kj),Ac.prototype.xa=function(){Cn(this.g,"a")},Ac.prototype.wa=function(n){Cn(this.g,new Rj(n))},Ac.prototype.va=function(n){Cn(this.g,new Oj(n))},Ac.prototype.ua=function(){Cn(this.g,"b")},o_.prototype.createWebChannel=o_.prototype.g,kr.prototype.send=kr.prototype.u,kr.prototype.open=kr.prototype.m,kr.prototype.close=kr.prototype.close,qg.NO_ERROR=0,qg.TIMEOUT=8,qg.HTTP_ERROR=6,KU.COMPLETE="complete",QU.EventType=fh,fh.OPEN="a",fh.CLOSE="b",fh.ERROR="c",fh.MESSAGE="d",nn.prototype.listen=nn.prototype.N,kt.prototype.listenOnce=kt.prototype.O,kt.prototype.getLastError=kt.prototype.La,kt.prototype.getLastErrorCode=kt.prototype.Da,kt.prototype.getStatus=kt.prototype.ba,kt.prototype.getResponseJson=kt.prototype.Qa,kt.prototype.getResponseText=kt.prototype.ga,kt.prototype.send=kt.prototype.ea;var Tde=xs.createWebChannelTransport=function(){return new o_},Dde=xs.getStatEventTarget=function(){return Gg()},rS=xs.ErrorCode=qg,Sde=xs.EventType=KU,Ade=xs.Event=Ea,Pj=xs.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Mde=xs.FetchXmlHttpFactory=bh,a_=xs.WebChannel=QU,xde=xs.XhrIo=kt;const Nj="@firebase/firestore";class En{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");let Mc="9.8.0";const co=new ca("@firebase/firestore");function iS(){return co.logLevel}function S(n,...e){if(co.logLevel<=Se.DEBUG){const t=e.map(sS);co.debug(`Firestore (${Mc}): ${n}`,...t)}}function Rt(n,...e){if(co.logLevel<=Se.ERROR){const t=e.map(sS);co.error(`Firestore (${Mc}): ${n}`,...t)}}function l_(n,...e){if(co.logLevel<=Se.WARN){const t=e.map(sS);co.warn(`Firestore (${Mc}): ${n}`,...t)}}function sS(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function $(n="Unexpected state"){const e=`FIRESTORE (${Mc}) INTERNAL ASSERTION FAILED: `+n;throw Rt(e),new Error(e)}function ee(n,e){n||$()}function O(n,e){return n}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends Li{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class rn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Fj{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kde{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(En.UNAUTHENTICATED))}shutdown(){}}class Ode{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new rn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new rn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},l=c=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new rn)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ee("string"==typeof r.accessToken),new Fj(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ee(null===e||"string"==typeof e),new En(e)}}class Pde{constructor(e,t,r){this.type="FirstParty",this.user=En.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class Nde{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Pde(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(En.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Lj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Fde{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=s=>{null!=s.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,S("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ee("string"==typeof t.token),this.p=t.token,new Lj(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Rr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Lde(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Rr.A=-1;class Vj{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Lde(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function le(n,e){return n<e?-1:n>e?1:0}function xc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Ot{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new D(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new D(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new D(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ot(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Y{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Y(e)}static min(){return new Y(new Ot(0,0))}static max(){return new Y(new Ot(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Uj(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Aa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function jj(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Th{constructor(e,t,r){void 0===t?t=0:t>e.length&&$(),void 0===r?r=e.length-t:r>e.length-t&&$(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Th.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Th?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Me extends Th{construct(e,t,r){return new Me(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new D(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Me(t)}static emptyPath(){return new Me([])}}const Vde=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Th{construct(e,t,r){return new sn(e,t,r)}static isValidIdentifier(e){return Vde.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new sn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new D(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new D(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new D(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new D(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(t)}static emptyPath(){return new sn([])}}class kc{constructor(e){this.fields=e,e.sort(sn.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new zt(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const Bde=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uo(n){if(ee(!!n),"string"==typeof n){let e=0;const t=Bde.exec(n);if(ee(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(n.seconds),nanos:wt(n.nanos)}}function wt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ma(n){return"string"==typeof n?zt.fromBase64String(n):zt.fromUint8Array(n)}function oS(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Hj(n){const e=n.mapValue.fields.__previous_value__;return oS(e)?Hj(e):e}function Dh(n){const e=uo(n.mapValue.fields.__local_write_time__.timestampValue);return new Ot(e.seconds,e.nanos)}class Ude{constructor(e,t,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class ho{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ho("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ho&&e.projectId===this.projectId&&e.database===this.database}}function Sh(n){return null==n}function Ah(n){return 0===n&&1/n==-1/0}class k{constructor(e){this.path=e}static fromPath(e){return new k(Me.fromString(e))}static fromName(e){return new k(Me.fromString(e).popFirst(5))}static empty(){return new k(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Me.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Me.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new k(new Me(e.slice()))}}const fo_mapValue={fields:{__type__:{stringValue:"__max__"}}};function xa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?oS(n)?4:Wj(n)?9007199254740991:10:$()}function Hi(n,e){if(n===e)return!0;const t=xa(n);if(t!==xa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Dh(n).isEqual(Dh(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=uo(r.timestampValue),o=uo(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Ma(n.bytesValue).isEqual(Ma(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return wt(r.geoPointValue.latitude)===wt(i.geoPointValue.latitude)&&wt(r.geoPointValue.longitude)===wt(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return wt(r.integerValue)===wt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=wt(r.doubleValue),o=wt(i.doubleValue);return s===o?Ah(s)===Ah(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return xc(n.arrayValue.values||[],e.arrayValue.values||[],Hi);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(Uj(s)!==Uj(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Hi(s[a],o[a])))return!1;return!0}(n,e);default:return $()}var i}function Mh(n,e){return void 0!==(n.values||[]).find(t=>Hi(t,e))}function po(n,e){if(n===e)return 0;const t=xa(n),r=xa(e);if(t!==r)return le(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return le(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=wt(i.integerValue||i.doubleValue),a=wt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return zj(n.timestampValue,e.timestampValue);case 4:return zj(Dh(n),Dh(e));case 5:return le(n.stringValue,e.stringValue);case 6:return function(i,s){const o=Ma(i),a=Ma(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=le(o[l],a[l]);if(0!==c)return c}return le(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=le(wt(i.latitude),wt(s.latitude));return 0!==o?o:le(wt(i.longitude),wt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=po(o[l],a[l]);if(c)return c}return le(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===fo_mapValue&&s===fo_mapValue)return 0;if(i===fo_mapValue)return 1;if(s===fo_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=le(a[u],c[u]);if(0!==d)return d;const h=po(o[a[u]],l[c[u]]);if(0!==h)return h}return le(a.length,c.length)}(n.mapValue,e.mapValue);default:throw $()}}function zj(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return le(n,e);const t=uo(n),r=uo(e),i=le(t.seconds,r.seconds);return 0!==i?i:le(t.nanos,r.nanos)}function Rc(n){return aS(n)}function aS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=uo(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ma(n.bytesValue).toBase64():"referenceValue"in n?k.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=aS(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${aS(r.fields[a])}`;return s+"}"}(n.mapValue):$();var e}function lS(n){return!!n&&"integerValue"in n}function xh(n){return!!n&&"arrayValue"in n}function Gj(n){return!!n&&"nullValue"in n}function qj(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function u_(n){return!!n&&"mapValue"in n}function kh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Aa(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=kh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=kh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Wj(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!u_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kh(t)}setAll(e){let t=sn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=kh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());u_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];u_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Aa(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ln(kh(this.value))}}function Qj(n){const e=[];return Aa(n.fields,(t,r)=>{const i=new sn([t]);if(u_(r)){const s=Qj(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new kc(e)}class at{constructor(e,t,r,i,s,o){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new at(e,0,Y.min(),Y.min(),Ln.empty(),0)}static newFoundDocument(e,t,r){return new at(e,1,t,Y.min(),r,0)}static newNoDocument(e,t){return new at(e,2,t,Y.min(),Ln.empty(),0)}static newUnknownDocument(e,t){return new at(e,3,t,Y.min(),Ln.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof at&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new at(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}function $de(n){return new gi(n.readTime,n.key,-1)}class gi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new gi(Y.min(),k.empty(),-1)}static max(){return new gi(Y.max(),k.empty(),-1)}}function Zj(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=k.comparator(n.documentKey,e.documentKey),0!==t?t:le(n.largestBatchId,e.largestBatchId))}class Tt{constructor(e,t){this.comparator=e,this.root=t||In.EMPTY}insert(e,t){return new Tt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new f_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new f_(this.root,e,this.comparator,!1)}getReverseIterator(){return new f_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new f_(this.root,e,this.comparator,!0)}}class f_{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class In{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=null!=r?r:In.RED,this.left=null!=i?i:In.EMPTY,this.right=null!=s?s:In.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new In(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return In.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $();const e=this.left.check();if(e!==this.right.check())throw $();return e+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1,In.EMPTY=new class{constructor(){this.size=0}get key(){throw $()}get value(){throw $()}get color(){throw $()}get left(){throw $()}get right(){throw $()}copy(n,e,t,r,i){return this}insert(n,e,t){return new In(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class tt{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Jj(this.data.getIterator())}getIteratorFrom(e){return new Jj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof tt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new tt(this.comparator);return t.data=e,t}}class Jj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class zde{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.P=null}}function eH(n,e=null,t=[],r=[],i=null,s=null,o=null){return new zde(n,e,t,r,i,s,o)}function Oa(n){const e=O(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Rc(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Sh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Rc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Rc(r)).join(",")),e.P=t}return e.P}function Oh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!Jde(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Hi(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!sH(n.startAt,e.startAt)&&sH(n.endAt,e.endAt)}function p_(n){return k.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Tn extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new qde(e,t,r):"array-contains"===t?new Yde(e,r):"in"===t?new Qde(e,r):"not-in"===t?new Xde(e,r):"array-contains-any"===t?new Zde(e,r):new Tn(e,t,r)}static V(e,t,r){return"in"===t?new Wde(e,r):new Kde(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(po(t,this.value)):null!==t&&xa(this.value)===xa(t)&&this.v(po(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class qde extends Tn{constructor(e,t,r){super(e,t,r),this.key=k.fromName(r.referenceValue)}matches(e){const t=k.comparator(e.key,this.key);return this.v(t)}}class Wde extends Tn{constructor(e,t){super(e,"in",t),this.keys=rH(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Kde extends Tn{constructor(e,t){super(e,"not-in",t),this.keys=rH(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rH(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>k.fromName(r.referenceValue))}class Yde extends Tn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return xh(t)&&Mh(t.arrayValue,this.value)}}class Qde extends Tn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Mh(this.value.arrayValue,t)}}class Xde extends Tn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Mh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Mh(this.value.arrayValue,t)}}class Zde extends Tn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!xh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Mh(this.value.arrayValue,r))}}class mo{constructor(e,t){this.position=e,this.inclusive=t}}class Pc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Jde(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function iH(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?k.comparator(k.fromName(o.referenceValue),t.key):po(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function sH(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Hi(n.position[t],e.position[t]))return!1;return!0}class Os{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.D=null,this.C=null}}function Nc(n){return new Os(n)}function Fc(n){const e=O(n);if(null===e.D){e.D=[];const t=function dS(n){for(const e of n.filters)if(e.S())return e.field;return null}(e),r=function uS(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new Pc(t)),e.D.push(new Pc(sn.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Pc(sn.keyField(),s))}}}return e.D}function Yr(n){const e=O(n);if(!e.C)if("F"===e.limitType)e.C=eH(e.path,e.collectionGroup,Fc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Fc(e))t.push(new Pc(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new mo(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new mo(e.startAt.position,e.startAt.inclusive):null;e.C=eH(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function Ph(n,e){return Oh(Yr(n),Yr(e))&&n.limitType===e.limitType}function lH(n){return`${Oa(Yr(n))}|lt:${n.limitType}`}function fS(n){return`Query(target=${function Gde(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Rc(r.value)}`;var r}).join(", ")}]`),Sh(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Rc(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Rc(t)).join(",")),`Target(${e})`}(Yr(n))}; limitType=${n.limitType})`}function pS(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):k.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=iH(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,Fc(t),r)||t.endAt&&!function(i,s,o){const a=iH(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,Fc(t),r)));var t,r}function uH(n){return(e,t)=>{let r=!1;for(const i of Fc(n)){const s=the(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function the(n,e,t){const r=n.field.isKeyField()?k.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return null!==a&&null!==l?po(a,l):$()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return $()}}function dH(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ah(e)?"-0":e}}function hH(n){return{integerValue:""+n}}function fH(n,e){return function $j(n){return"number"==typeof n&&Number.isInteger(n)&&!Ah(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?hH(e):dH(n,e)}class g_{constructor(){this._=void 0}}function nhe(n,e,t){return n instanceof Lc?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Pa?mH(n,e):n instanceof Na?gH(n,e):function(r,i){const s=pH(r,i),o=_H(s)+_H(r.k);return lS(s)&&lS(r.k)?hH(o):dH(r.M,o)}(n,e)}function rhe(n,e,t){return n instanceof Pa?mH(n,e):n instanceof Na?gH(n,e):t}function pH(n,e){return n instanceof Vc?lS(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Lc extends g_{}class Pa extends g_{constructor(e){super(),this.elements=e}}function mH(n,e){const t=yH(e);for(const r of n.elements)t.some(i=>Hi(i,r))||t.push(r);return{arrayValue:{values:t}}}class Na extends g_{constructor(e){super(),this.elements=e}}function gH(n,e){let t=yH(e);for(const r of n.elements)t=t.filter(i=>!Hi(i,r));return{arrayValue:{values:t}}}class Vc extends g_{constructor(e,t){super(),this.M=e,this.k=t}}function _H(n){return wt(n.integerValue||n.doubleValue)}function yH(n){return xh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class she{constructor(e,t){this.version=e,this.transformResults=t}}class Pt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Pt}static exists(e){return new Pt(void 0,e)}static updateTime(e){return new Pt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function __(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class y_{}function ohe(n,e,t){n instanceof Fh?function(r,i,s){const o=r.value.clone(),a=CH(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Fa?function(r,i,s){if(!__(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=CH(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(wH(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function mS(n,e,t){var i;n instanceof Fh?function(r,i,s){if(!__(r.precondition,i))return;const o=r.value.clone(),a=EH(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(bH(i),o).setHasLocalMutations()}(n,e,t):n instanceof Fa?function(r,i,s){if(!__(r.precondition,i))return;const o=EH(r.fieldTransforms,s,i),a=i.data;a.setAll(wH(r)),a.setAll(o),i.convertToFoundDocument(bH(i),a).setHasLocalMutations()}(n,e,t):__(n.precondition,i=e)&&i.convertToNoDocument(Y.min())}function ahe(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=pH(r.transform,i||null);null!=s&&(null==t&&(t=Ln.empty()),t.set(r.field,s))}return t||null}function vH(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&xc(t,r,(i,s)=>function ihe(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Pa&&r instanceof Pa||t instanceof Na&&r instanceof Na?xc(t.elements,r.elements,Hi):t instanceof Vc&&r instanceof Vc?Hi(t.k,r.k):t instanceof Lc&&r instanceof Lc);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function bH(n){return n.isFoundDocument()?n.version:Y.min()}class Fh extends y_{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Fa extends y_{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function wH(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function CH(n,e,t){const r=new Map;ee(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,rhe(o,a,t[i]))}return r}function EH(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,nhe(s,o,e))}return r}class Lh extends y_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class gS extends y_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class lhe{constructor(e){this.count=e}}var Nt,xe;function IH(n){switch(n){default:return $();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}function TH(n){if(void 0===n)return Rt("GRPC error has no .code"),w.UNKNOWN;switch(n){case Nt.OK:return w.OK;case Nt.CANCELLED:return w.CANCELLED;case Nt.UNKNOWN:return w.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return w.INTERNAL;case Nt.UNAVAILABLE:return w.UNAVAILABLE;case Nt.UNAUTHENTICATED:return w.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case Nt.NOT_FOUND:return w.NOT_FOUND;case Nt.ALREADY_EXISTS:return w.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return w.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case Nt.ABORTED:return w.ABORTED;case Nt.OUT_OF_RANGE:return w.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return w.UNIMPLEMENTED;case Nt.DATA_LOSS:return w.DATA_LOSS;default:return $()}}(xe=Nt||(Nt={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";class go{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Aa(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return jj(this.inner)}size(){return this.innerSize}}const che=new Tt(k.comparator);function Qr(){return che}const uhe=new Tt(k.comparator);function _S(...n){let e=uhe;for(const t of n)e=e.insert(t.key,t);return e}function Vh(){return new go(n=>n.toString(),(n,e)=>n.isEqual(e))}const dhe=new Tt(k.comparator),hhe=new tt(k.comparator);function Be(...n){let e=hhe;for(const t of n)e=e.add(t);return e}const fhe=new tt(le);function v_(){return fhe}class Bh{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Uh.createSynthesizedTargetChangeForCurrentChange(e,t)),new Bh(Y.min(),r,v_(),Qr(),Be())}}class Uh{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Uh(zt.EMPTY_BYTE_STRING,t,Be(),Be(),Be())}}class b_{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class DH{constructor(e,t){this.targetId=e,this.$=t}}class SH{constructor(e,t,r=zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class AH{constructor(){this.B=0,this.L=xH(),this.U=zt.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Be(),t=Be(),r=Be();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:$()}}),new Uh(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=xH()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class phe{constructor(e){this.nt=e,this.st=new Map,this.it=Qr(),this.rt=MH(),this.ot=new tt(le)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:$()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const s=i.target;if(p_(s))if(0===r){const o=new k(s.path);this.ct(t,o,at.newNoDocument(o,Y.min()))}else ee(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((s,o)=>{const a=this.wt(o);if(a){if(s.current&&p_(a.target)){const l=new k(a.target.path);null!==this.it.get(l)||this.It(o,l)||this.ct(o,l,at.newNoDocument(l,e))}s.j&&(t.set(o,s.H()),s.J())}});let r=Be();this.rt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.wt(l);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.it.forEach((s,o)=>o.setReadTime(e));const i=new Bh(e,t,this.ot,this.it,r);return this.it=Qr(),this.rt=MH(),this.ot=new tt(le),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new AH,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new tt(le),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||S("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new AH),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function MH(){return new Tt(k.comparator)}function xH(){return new Tt(k.comparator)}const mhe={asc:"ASCENDING",desc:"DESCENDING"},ghe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class _he{constructor(e,t){this.databaseId=e,this.N=t}}function jh(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kH(n,e){return n.N?e.toBase64():e.toUint8Array()}function yhe(n,e){return jh(n,e.toTimestamp())}function on(n){return ee(!!n),Y.fromTimestamp(function(e){const t=uo(e);return new Ot(t.seconds,t.nanos)}(n))}function yS(n,e){return(t=n,new Me(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function RH(n){const e=Me.fromString(n);return ee(jH(e)),e}function Hh(n,e){return yS(n.databaseId,e.path)}function $i(n,e){const t=RH(e);if(t.get(1)!==n.databaseId.projectId)throw new D(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new D(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new k(PH(t))}function vS(n,e){return yS(n.databaseId,e)}function $h(n){return new Me(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function PH(n){return ee(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function NH(n,e,t){return{name:Hh(n,e),fields:t.value.mapValue.fields}}function LH(n,e){return{documents:[vS(n,e.path)]}}function VH(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=vS(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=vS(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(0===l.length)return;const c=l.map(u=>function(d){if("=="===d.op){if(qj(d.value))return{unaryFilter:{field:Bc(d.field),op:"IS_NAN"}};if(Gj(d.value))return{unaryFilter:{field:Bc(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(qj(d.value))return{unaryFilter:{field:Bc(d.field),op:"IS_NOT_NAN"}};if(Gj(d.value))return{unaryFilter:{field:Bc(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bc(d.field),op:Ihe(d.op),value:d.value}}}(u));return 1===c.length?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);i&&(t.structuredQuery.where=i);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:Bc((u=c).field),direction:Ehe(u.dir)};var u})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(c=e.limit,n.N||Sh(c)?c:{value:c});var c,a,l;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(l=e.endAt).inclusive,values:l.position}),t}function BH(n){let e=function OH(n){const e=RH(n);return 4===e.length?Me.emptyPath():PH(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ee(1===r);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=UH(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(u=>{return new Pc(Uc((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,Sh(d)?null:d}(t.limit));let l=null;var u;t.startAt&&(l=new mo((u=t.startAt).values||[],!!u.before));let c=null;return t.endAt&&(c=function(u){return new mo(u.values||[],!u.before)}(t.endAt)),function oH(n,e,t,r,i,s,o,a){return new Os(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",l,c)}function UH(n){return n?void 0!==n.unaryFilter?[Dhe(n)]:void 0!==n.fieldFilter?[The(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>UH(e)).reduce((e,t)=>e.concat(t)):$():[]}function Ehe(n){return mhe[n]}function Ihe(n){return ghe[n]}function Bc(n){return{fieldPath:n.canonicalString()}}function Uc(n){return sn.fromServerFormat(n.fieldPath)}function The(n){return Tn.create(Uc(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $()}}(n.fieldFilter.op),n.fieldFilter.value)}function Dhe(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Uc(n.unaryFilter.field);return Tn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Uc(n.unaryFilter.field);return Tn.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Uc(n.unaryFilter.field);return Tn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Uc(n.unaryFilter.field);return Tn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return $()}}function She(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function jH(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}const WH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new C((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof C?t:C.resolve(t)}catch(t){return C.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):C.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):C.reject(t)}static resolve(e){return new C((t,r)=>{t(e)})}static reject(e){return new C((t,r)=>{r(e)})}static waitFor(e){return new C((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=C.resolve(!1);for(const r of e)t=t.next(i=>i?C.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}}function La(n){return"IndexedDbTransactionError"===n.name}class CS{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&ohe(s,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&mS(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&mS(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Y.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Be())}isEqual(e){return this.batchId===e.batchId&&xc(this.mutations,e.mutations,(t,r)=>vH(t,r))&&xc(this.baseMutations,e.baseMutations,(t,r)=>vH(t,r))}}class ES{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ee(e.mutations.length===r.length);let i=dhe;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ES(e,t,r,i)}}class IS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _o{constructor(e,t,r,i,s=Y.min(),o=Y.min(),a=zt.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new _o(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class QH{constructor(e){this.Jt=e}}function TS(n){const e=BH({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?function aH(n,e,t){return new Os(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}(e,e.limit,"L"):e}class ja{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(wt(e.integerValue));else if("doubleValue"in e){const r=wt(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),Ah(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Ma(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?Wj(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):$()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),k.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}ja.fe=new ja;class nfe{constructor(){this.qe=new AS}addToCollectionParentIndex(e,t){return this.qe.add(t),C.resolve()}getCollectionParents(e,t){return C.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return C.resolve()}deleteFieldIndex(e,t){return C.resolve()}getDocumentsMatchingTarget(e,t){return C.resolve(null)}getIndexType(e,t){return C.resolve(0)}getFieldIndexes(e,t){return C.resolve([])}getNextCollectionGroupToUpdate(e){return C.resolve(null)}getMinOffset(e,t){return C.resolve(gi.min())}updateCollectionGroup(e,t,r){return C.resolve()}updateIndexEntries(e,t){return C.resolve()}}class AS{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new tt(Me.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tt(Me.comparator)).toArray()}}new Uint8Array(0);class fr{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new fr(e,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}fr.DEFAULT_COLLECTION_PERCENTILE=10,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fr.DEFAULT=new fr(41943040,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fr.DISABLED=new fr(-1,0,0);class za{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new za(0)}static yn(){return new za(-1)}}function Ga(n){return xS.apply(this,arguments)}function xS(){return xS=g(function*(n){if(n.code!==w.FAILED_PRECONDITION||n.message!==WH)throw n;S("LocalStore","Unexpectedly lost primary lease")}),xS.apply(this,arguments)}class ffe{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}qs(e,t){e.forEach((r,i)=>{for(const s of t)s.applyToLocalView(i)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return k.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,t.path):function hS(n){return null!==n.collectionGroup}(t)?this.Ws(e,t,r):this.zs(e,t,r);var i}js(e,t){return this.Ls(e,new k(t)).next(r=>{let i=_S();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,t,r){const i=t.collectionGroup;let s=_S();return this.indexManager.getCollectionParents(e,i).next(o=>C.forEach(o,a=>{const l=(c=t,u=a.child(i),new Os(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,u;return this.zs(e,l,r).next(c=>{c.forEach((u,d)=>{s=s.insert(u,d)})})}).next(()=>s))}zs(e,t,r){let i;return this.ds.getAllFromCollection(e,t.path,r).next(s=>(i=s,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(s=>{for(const o of s)for(const a of o.mutations){const l=a.key;let c=i.get(l);null==c&&(c=at.newInvalidDocument(l),i=i.insert(l,c)),mS(a,c,o.localWriteTime),c.isFoundDocument()||(i=i.remove(l))}}).next(()=>(i.forEach((s,o)=>{pS(t,o)||(i=i.remove(s))}),i))}}class PS{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=i}static Ys(e,t){let r=Be(),i=Be();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new PS(e,t.fromCache,r,i)}}class m${constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,r,i){return this.ti(e,t).next(s=>s||this.ei(e,t,i,r)).next(s=>s||this.ni(e,t))}ti(e,t){return C.resolve(null)}ei(e,t,r,i){return function ehe(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||i.isEqual(Y.min())?this.ni(e,t):this.Zs.Ks(e,r).next(s=>{const o=this.si(t,s);return this.ii(t,o,r,i)?this.ni(e,t):(iS()<=Se.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fS(t)),this.ri(e,o,t,function Xj(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Y.fromTimestamp(1e9===r?new Ot(t+1,0):new Ot(t,r));return new gi(i,k.empty(),e)}(i,-1)))})}si(e,t){let r=new tt(uH(e));return t.forEach((i,s)=>{pS(e,s)&&(r=r.add(s))}),r}ii(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ni(e,t){return iS()<=Se.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",fS(t)),this.Zs.Qs(e,t,gi.min())}ri(e,t,r,i){return this.Zs.Qs(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class pfe{constructor(e,t,r,i){this.persistence=e,this.oi=t,this.M=i,this.ui=new Tt(le),this.ai=new go(s=>Oa(s),Oh),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new ffe(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function _$(n,e){return NS.apply(this,arguments)}function NS(){return NS=g(function*(n,e){const t=O(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.Bs.getAllMutationBatches(r).next(s=>(i=s,t.li(e),t.Bs.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Be();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.fi.Ks(r,l).next(c=>({di:c,removedBatchIds:o,addedBatchIds:a}))})})}),NS.apply(this,arguments)}function mfe(n,e){const t=O(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.hi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,d=u.keys();let h=C.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=l.docVersions.get(f);ee(null!==m),p.version.compareTo(m)<0&&(u.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),c.addEntry(p)))})}),h.next(()=>o.Bs.removeMutationBatch(a,u))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.fi.Ks(r,i))})}function y$(n){const e=O(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function gfe(n,e){const t=O(n),r=e.snapshotVersion;let i=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.hi.newChangeBuffer({trackRemovals:!0});i=t.ui;const a=[];e.targetChanges.forEach((c,u)=>{const d=i.get(u);if(!d)return;a.push(t.fs.removeMatchingKeys(s,c.removedDocuments,u).next(()=>t.fs.addMatchingKeys(s,c.addedDocuments,u)));let h=d.withSequenceNumber(s.currentSequenceNumber);var f,p,m;e.targetMismatches.has(u)?h=h.withResumeToken(zt.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(u,h),p=h,m=c,(0===(f=d).resumeToken.approximateByteSize()||p.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(t.fs.updateTargetData(s,h))});let l=Qr();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function v$(n,e,t){let r=Be();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let s=Qr();return t.forEach((o,a)=>{const l=i.get(o);a.isNoDocument()&&a.version.isEqual(Y.min())?(e.removeEntry(o,a.readTime),s=s.insert(o,a)):!l.isValidDocument()||a.version.compareTo(l.version)>0||0===a.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(a),s=s.insert(o,a)):S("LocalStore","Ignoring outdated watch update for ",o,". Current version:",l.version," Watch version:",a.version)}),s})}(s,o,e.documentUpdates).next(c=>{l=c})),!r.isEqual(Y.min())){const c=t.fs.getLastRemoteSnapshotVersion(s).next(u=>t.fs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return C.waitFor(a).next(()=>o.apply(s)).next(()=>t.fi.Gs(s,l)).next(()=>l)}).then(s=>(t.ui=i,s))}function _fe(n,e){const t=O(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function zc(n,e){const t=O(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.fs.getTargetData(r,e).next(s=>s?(i=s,C.resolve(i)):t.fs.allocateTargetId(r).next(o=>(i=new _o(e,o,0,r.currentSequenceNumber),t.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ui=t.ui.insert(r.targetId,r),t.ai.set(e,r.targetId)),r})}function Gc(n,e,t){return FS.apply(this,arguments)}function FS(){return FS=g(function*(n,e,t){const r=O(n),i=r.ui.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!La(o))throw o;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ui=r.ui.remove(e),r.ai.delete(i.target)}),FS.apply(this,arguments)}function x_(n,e,t){const r=O(n);let i=Y.min(),s=Be();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=O(a),d=u.ai.get(c);return void 0!==d?C.resolve(u.ui.get(d)):u.fs.getTargetData(l,c)}(r,o,Yr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.oi.Qs(o,e,t?i:Y.min(),t?s:Be())).next(a=>(function C$(n,e,t){let r=Y.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.ci.set(e,r)}(r,function cH(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,_i:s})))}class bfe{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return C.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var r;return this.yi.set(t.id,{id:(r=t).id,version:r.version,createTime:on(r.createTime)}),C.resolve()}getNamedQuery(e,t){return C.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(r=t).name,query:TS(r.bundledQuery),readTime:on(r.readTime)}),C.resolve();var r}}class wfe{constructor(){this.overlays=new Tt(k.comparator),this.Ii=new Map}getOverlay(e,t){return C.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.Xt(e,t,s)}),C.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ii.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ii.delete(r)),C.resolve()}getOverlaysForCollection(e,t,r){const i=Vh(),s=t.length+1,o=new k(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return C.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Tt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=s.get(c.largestBatchId);null===u&&(u=Vh(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Vh(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return C.resolve(a)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const o=this.Ii.get(i.largestBatchId).delete(r.key);this.Ii.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new IS(t,r));let s=this.Ii.get(t);void 0===s&&(s=Be(),this.Ii.set(t,s)),this.Ii.set(t,s.add(r.key))}}class BS{constructor(){this.Ti=new tt(ln.Ei),this.Ai=new tt(ln.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const r=new ln(e,t);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Pi(new ln(e,t))}Vi(e,t){e.forEach(r=>this.removeReference(r,t))}vi(e){const t=new k(new Me([])),r=new ln(t,e),i=new ln(t,e+1),s=[];return this.Ai.forEachInRange([r,i],o=>{this.Pi(o),s.push(o.key)}),s}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new k(new Me([])),r=new ln(t,e),i=new ln(t,e+1);let s=Be();return this.Ai.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new ln(e,0),r=this.Ti.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ln{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return k.comparator(e.key,t.key)||le(e.Ci,t.Ci)}static Ri(e,t){return le(e.Ci,t.Ci)||k.comparator(e.key,t.key)}}class Cfe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new tt(ln.Ei)}checkEmpty(e){return C.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,i){const s=this.xi;this.xi++;const o=new CS(s,t,r,i);this.Bs.push(o);for(const a of i)this.Ni=this.Ni.add(new ln(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return C.resolve(o)}lookupMutationBatch(e,t){return C.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Mi(t+1),s=i<0?0:i;return C.resolve(this.Bs.length>s?this.Bs[s]:null)}getHighestUnacknowledgedBatchId(){return C.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return C.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ln(t,0),i=new ln(t,Number.POSITIVE_INFINITY),s=[];return this.Ni.forEachInRange([r,i],o=>{const a=this.ki(o.Ci);s.push(a)}),C.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new tt(le);return t.forEach(i=>{const s=new ln(i,0),o=new ln(i,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([s,o],a=>{r=r.add(a.Ci)})}),C.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;k.isDocumentKey(s)||(s=s.child(""));const o=new ln(new k(s),0);let a=new tt(le);return this.Ni.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Ci)),!0)},o),C.resolve(this.Oi(a))}Oi(e){const t=[];return e.forEach(r=>{const i=this.ki(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){ee(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let r=this.Ni;return C.forEach(t.mutations,i=>{const s=new ln(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,t){const r=new ln(t,0),i=this.Ni.firstAfterOrEqual(r);return C.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return C.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class Efe{constructor(e){this.$i=e,this.docs=new Tt(k.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.$i(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return C.resolve(r?r.document.mutableCopy():at.newInvalidDocument(t))}getEntries(e,t){let r=Qr();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():at.newInvalidDocument(i))}),C.resolve(r)}getAllFromCollection(e,t,r){let i=Qr();const s=new k(t.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!t.isPrefixOf(a.path))break;a.path.length>t.length+1||Zj($de(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return C.resolve(i)}getAllFromCollectionGroup(e,t,r,i){$()}Bi(e,t){return C.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Ife(this)}getSize(e){return C.resolve(this.size)}}class Ife extends class cfe{constructor(){this.changes=new go(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,at.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?C.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),C.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class Tfe{constructor(e){this.persistence=e,this.Li=new go(t=>Oa(t),Oh),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.Ui=0,this.qi=new BS,this.targetCount=0,this.Ki=za.gn()}forEachTarget(e,t){return this.Li.forEach((r,i)=>t(i)),C.resolve()}getLastRemoteSnapshotVersion(e){return C.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return C.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),C.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ui&&(this.Ui=t),C.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new za(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,C.resolve()}updateTargetData(e,t){return this.Tn(t),C.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,C.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Li.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Li.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),C.waitFor(s).next(()=>i)}getTargetCount(e){return C.resolve(this.targetCount)}getTargetData(e,t){const r=this.Li.get(t)||null;return C.resolve(r)}addMatchingKeys(e,t,r){return this.qi.bi(t,r),C.resolve()}removeMatchingKeys(e,t,r){this.qi.Vi(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),C.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),C.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qi.Di(t);return C.resolve(r)}containsKey(e,t){return C.resolve(this.qi.containsKey(t))}}class Dfe{constructor(e,t){this.Gi={},this.overlays={},this.es=new Rr(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new Tfe(this),this.indexManager=new nfe,this.ds=new Efe(r=>this.referenceDelegate.Qi(r)),this.M=new QH(t),this._s=new bfe(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wfe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Gi[e.toKey()];return r||(r=new Cfe(t,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){S("MemoryPersistence","Starting transaction:",e);const i=new Sfe(this.es.next());return this.referenceDelegate.ji(),r(i).next(s=>this.referenceDelegate.Wi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}zi(e,t){return C.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,t)))}}class Sfe extends class qhe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class US{constructor(e){this.persistence=e,this.Hi=new BS,this.Ji=null}static Yi(e){return new US(e)}get Xi(){if(this.Ji)return this.Ji;throw $()}addReference(e,t,r){return this.Hi.addReference(r,t),this.Xi.delete(r.toString()),C.resolve()}removeReference(e,t,r){return this.Hi.removeReference(r,t),this.Xi.add(r.toString()),C.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),C.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(i=>this.Xi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xi.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.Xi,r=>{const i=k.fromPath(r);return this.Zi(e,i).next(s=>{s||t.removeEntry(i,Y.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(r=>{r?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return C.or([()=>C.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}class $S{constructor(){this.activeTargetIds=v_()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class T${constructor(){this.Ur=new $S,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new $S,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Afe{Kr(e){}shutdown(){}}class D${constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Mfe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class xfe{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class kfe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,i,s){const o=this.ho(e,t);S("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(l=>(S("RestConnection","Received: ",l),l),l=>{throw l_("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}_o(e,t,r,i,s){return this.co(e,t,r,i,s)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Mc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,t){return`${this.uo}/v1/${t}:${Mfe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((s,o)=>{const a=new xde;a.listenOnce(Sde.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case rS.NO_ERROR:const c=a.getResponseJson();S("Connection","XHR received:",JSON.stringify(c)),s(c);break;case rS.TIMEOUT:S("Connection",'RPC "'+e+'" timed out'),o(new D(w.DEADLINE_EXCEEDED,"Request time out"));break;case rS.HTTP_ERROR:const u=a.getStatus();if(S("Connection",'RPC "'+e+'" failed with status:',u,"response text:",a.getResponseText()),u>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(p)>=0?p:w.UNKNOWN}(d.status);o(new D(h,d.message))}else o(new D(w.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new D(w.UNAVAILABLE,"Connection failed."));break;default:$()}}finally{S("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(t,"POST",l,r,15)})}wo(e,t,r){const i=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Tde(),o=Dde(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Mde({})),this.lo(a.initMessageHeaders,t,r),zm()||ZC()||function Pne(){return Jt().indexOf("Electron/")>=0}()||jV()||function Nne(){return Jt().indexOf("MSAppHost/")>=0}()||Gm()||(a.httpHeadersOverwriteParam="$httpHeaders");const l=i.join("");S("Connection","Creating WebChannel: "+l,a);const c=s.createWebChannel(l,a);let u=!1,d=!1;const h=new xfe({Jr:p=>{d?S("Connection","Not sending because WebChannel is closed:",p):(u||(S("Connection","Opening WebChannel transport."),c.open(),u=!0),S("Connection","WebChannel sending:",p),c.send(p))},Yr:()=>c.close()}),f=(p,m,_)=>{p.listen(m,b=>{try{_(b)}catch(y){setTimeout(()=>{throw y},0)}})};return f(c,a_.EventType.OPEN,()=>{d||S("Connection","WebChannel transport opened.")}),f(c,a_.EventType.CLOSE,()=>{d||(d=!0,S("Connection","WebChannel transport closed"),h.ro())}),f(c,a_.EventType.ERROR,p=>{d||(d=!0,l_("Connection","WebChannel transport errored:",p),h.ro(new D(w.UNAVAILABLE,"The operation could not be completed")))}),f(c,a_.EventType.MESSAGE,p=>{var m;if(!d){const _=p.data[0];ee(!!_);const b=_,y=b.error||(null===(m=b[0])||void 0===m?void 0:m.error);if(y){S("Connection","WebChannel received error:",y);const I=y.status;let M=function(Q){const pe=Nt[Q];if(void 0!==pe)return TH(pe)}(I),H=y.message;void 0===M&&(M=w.INTERNAL,H="Unknown error status: "+I+" with message "+y.message),d=!0,h.ro(new D(M,H)),c.close()}else S("Connection","WebChannel received:",_),h.oo(_)}}),f(o,Ade.STAT_EVENT,p=>{p.stat===Pj.PROXY?S("Connection","Detected buffering proxy"):p.stat===Pj.NOPROXY&&S("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.io()},0),h}}function O_(){return"undefined"!=typeof document?document:null}function Jh(n){return new _he(n,!0)}class GS{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Yn=e,this.timerId=t,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class A${constructor(e,t,r,i,s,o,a,l){this.Yn=e,this.Vo=r,this.vo=i,this.So=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new GS(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return g(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return g(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return g(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===w.RESOURCE_EXHAUSTED?(Rt(t.toString()),Rt("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===t&&this.Qo(r,i)},r=>{e(()=>{const i=new D(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.No.Ro(g(function*(){e.state=0,e.start()}))}jo(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Rfe extends A${constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.M=s}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function bhe(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:$(),i=e.targetChange.targetIds||[],s=function(l,c){return l.N?(ee(void 0===c||"string"==typeof c),zt.fromBase64String(c||"")):(ee(void 0===c||c instanceof Uint8Array),zt.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=void 0===l.code?w.UNKNOWN:TH(l.code);return new D(c,l.message||"")}(o);t=new SH(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=$i(n,r.document.name),s=on(r.document.updateTime),o=new Ln({mapValue:{fields:r.document.fields}}),a=at.newFoundDocument(i,s,o);t=new b_(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=$i(n,r.document),s=r.readTime?on(r.readTime):Y.min(),o=at.newNoDocument(i,s);t=new b_([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=$i(n,r.document);t=new b_([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return $();{const r=e.filter,s=new lhe(r.count||0);t=new DH(r.targetId,s)}}var l;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return Y.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Y.min():s.readTime?on(s.readTime):Y.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=$h(this.M),t.addTarget=function(i,s){let o;const a=s.target;return o=p_(a)?{documents:LH(i,a)}:{query:VH(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=kH(i,s.resumeToken):s.snapshotVersion.compareTo(Y.min())>0&&(o.readTime=jh(i,s.snapshotVersion.toTimestamp())),o}(this.M,e);const r=function Che(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return $()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=$h(this.M),t.removeTarget=e,this.Lo(t)}}class Ofe extends A${constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.M=s,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(ee(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function whe(n,e){return n&&n.length>0?(ee(void 0!==e),n.map(t=>function(r,i){let s=on(r.updateTime?r.updateTime:i);return s.isEqual(Y.min())&&(s=on(i)),new she(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=on(e.commitTime);return this.listener.tu(r,t)}return ee(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=$h(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function zh(n,e){let t;if(e instanceof Fh)t={update:NH(n,e.key,e.value)};else if(e instanceof Lh)t={delete:Hh(n,e.key)};else if(e instanceof Fa)t={update:NH(n,e.key,e.data),updateMask:She(e.fieldMask)};else{if(!(e instanceof gS))return $();t={verify:Hh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Lc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Pa)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Na)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Vc)return{fieldPath:s.field.canonicalString(),increment:o.k};throw $()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:yhe(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:$()),t;var i}(this.M,r))};this.Lo(t)}}class Pfe extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.M=i,this.su=!1}iu(){if(this.su)throw new D(w.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.So.co(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(w.UNKNOWN,i.toString())})}_o(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.So._o(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(w.UNKNOWN,i.toString())})}terminate(){this.su=!0}}class Nfe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Rt(t),this.uu=!1):S("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class Ffe{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=s,this.gu.Kr(a=>{r.enqueueAndForget(g(function*(){var l;bo(o)&&(S("RemoteStore","Restarting streams for network reachability change."),yield(l=g(function*(c){const u=O(c);u.wu.add(4),yield qc(u),u.yu.set("Unknown"),u.wu.delete(4),yield ef(u)}),function(c){return l.apply(this,arguments)})(o))}))}),this.yu=new Nfe(r,i)}}function ef(n){return qS.apply(this,arguments)}function qS(){return qS=g(function*(n){if(bo(n))for(const e of n.mu)yield e(!0)}),qS.apply(this,arguments)}function qc(n){return WS.apply(this,arguments)}function WS(){return WS=g(function*(n){for(const e of n.mu)yield e(!1)}),WS.apply(this,arguments)}function P_(n,e){const t=O(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),QS(t)?YS(t):Kc(t).Mo()&&KS(t,e))}function tf(n,e){const t=O(n),r=Kc(t);t._u.delete(e),r.Mo()&&M$(t,e),0===t._u.size&&(r.Mo()?r.$o():bo(t)&&t.yu.set("Unknown"))}function KS(n,e){n.pu.Z(e.targetId),Kc(n).Ho(e)}function M$(n,e){n.pu.Z(e),Kc(n).Jo(e)}function YS(n){n.pu=new phe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n._u.get(e)||null}),Kc(n).start(),n.yu.au()}function QS(n){return bo(n)&&!Kc(n).ko()&&n._u.size>0}function bo(n){return 0===O(n).wu.size}function x$(n){n.pu=void 0}function Lfe(n){return XS.apply(this,arguments)}function XS(){return XS=g(function*(n){n._u.forEach((e,t)=>{KS(n,e)})}),XS.apply(this,arguments)}function Vfe(n,e){return ZS.apply(this,arguments)}function ZS(){return ZS=g(function*(n,e){x$(n),QS(n)?(n.yu.lu(e),YS(n)):n.yu.set("Unknown")}),ZS.apply(this,arguments)}function Bfe(n,e,t){return JS.apply(this,arguments)}function JS(){return JS=g(function*(n,e,t){if(n.yu.set("Online"),e instanceof SH&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i._u.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i._u.delete(a),i.pu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield N_(n,r)}else if(e instanceof b_?n.pu.ut(e):e instanceof DH?n.pu._t(e):n.pu.ht(e),!t.isEqual(Y.min()))try{const r=yield y$(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.pu.yt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=i._u.get(l);c&&i._u.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i._u.get(a);if(!l)return;i._u.set(a,l.withResumeToken(zt.EMPTY_BYTE_STRING,l.snapshotVersion)),M$(i,a);const c=new _o(l.target,a,1,l.sequenceNumber);KS(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){S("RemoteStore","Failed to raise snapshot:",r),yield N_(n,r)}var r}),JS.apply(this,arguments)}function N_(n,e,t){return eA.apply(this,arguments)}function eA(){return eA=g(function*(n,e,t){if(!La(e))throw e;n.wu.add(1),yield qc(n),n.yu.set("Offline"),t||(t=()=>y$(n.localStore)),n.asyncQueue.enqueueRetryable(g(function*(){S("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield ef(n)}))}),eA.apply(this,arguments)}function k$(n,e){return e().catch(t=>N_(n,t,e))}function Wc(n){return tA.apply(this,arguments)}function tA(){return tA=g(function*(n){const e=O(n),t=wo(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;Ufe(e);)try{const i=yield _fe(e.localStore,r);if(null===i){0===e.du.length&&t.$o();break}r=i.batchId,jfe(e,i)}catch(i){yield N_(e,i)}R$(e)&&O$(e)}),tA.apply(this,arguments)}function Ufe(n){return bo(n)&&n.du.length<10}function jfe(n,e){n.du.push(e);const t=wo(n);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function R$(n){return bo(n)&&!wo(n).ko()&&n.du.length>0}function O$(n){wo(n).start()}function Hfe(n){return nA.apply(this,arguments)}function nA(){return nA=g(function*(n){wo(n).nu()}),nA.apply(this,arguments)}function $fe(n){return rA.apply(this,arguments)}function rA(){return rA=g(function*(n){const e=wo(n);for(const t of n.du)e.Zo(t.mutations)}),rA.apply(this,arguments)}function zfe(n,e,t){return iA.apply(this,arguments)}function iA(){return iA=g(function*(n,e,t){const r=n.du.shift(),i=ES.from(r,e,t);yield k$(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Wc(n)}),iA.apply(this,arguments)}function Gfe(n,e){return sA.apply(this,arguments)}function sA(){return sA=g(function*(n,e){var t;e&&wo(n).Xo&&(yield(t=g(function*(r,i){if(IH(s=i.code)&&s!==w.ABORTED){const o=r.du.shift();wo(r).Fo(),yield k$(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Wc(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),R$(n)&&O$(n)}),sA.apply(this,arguments)}function P$(n,e){return oA.apply(this,arguments)}function oA(){return oA=g(function*(n,e){const t=O(n);t.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");const r=bo(t);t.wu.add(3),yield qc(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield ef(t)}),oA.apply(this,arguments)}function lA(){return lA=g(function*(n,e){const t=O(n);e?(t.wu.delete(2),yield ef(t)):e||(t.wu.add(2),yield qc(t),t.yu.set("Unknown"))}),lA.apply(this,arguments)}function Kc(n){return n.Iu||(n.Iu=function(e,t,r){const i=O(e);return i.iu(),new Rfe(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:Lfe.bind(null,n),eo:Vfe.bind(null,n),zo:Bfe.bind(null,n)}),n.mu.push(function(){var e=g(function*(t){t?(n.Iu.Fo(),QS(n)?YS(n):n.yu.set("Unknown")):(yield n.Iu.stop(),x$(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function wo(n){return n.Tu||(n.Tu=function(e,t,r){const i=O(e);return i.iu(),new Ofe(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:Hfe.bind(null,n),eo:Gfe.bind(null,n),eu:$fe.bind(null,n),tu:zfe.bind(null,n)}),n.mu.push(function(){var e=g(function*(t){t?(n.Tu.Fo(),yield Wc(n)):(yield n.Tu.stop(),n.du.length>0&&(S("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class cA{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new cA(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yc(n,e){if(Rt("AsyncQueue",`${e}: ${n}`),La(n))return new D(w.UNAVAILABLE,`${e}: ${n}`);throw n}class Qc{constructor(e){this.comparator=e?(t,r)=>e(t,r)||k.comparator(t.key,r.key):(t,r)=>k.comparator(t.key,r.key),this.keyedMap=_S(),this.sortedSet=new Tt(this.comparator)}static emptySet(e){return new Qc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Qc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class N${constructor(){this.Eu=new Tt(k.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):$():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Xc{constructor(e,t,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l}static fromInitialDocuments(e,t,r,i){const s=[];return t.forEach(o=>{s.push({type:0,doc:o})}),new Xc(e,t,Qc.emptySet(t),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class qfe{constructor(){this.Ru=void 0,this.listeners=[]}}class Wfe{constructor(){this.queries=new go(e=>lH(e),Ph),this.onlineState="Unknown",this.bu=new Set}}function dA(){return dA=g(function*(n,e){const t=O(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new qfe),i)try{s.Ru=yield t.onListen(r)}catch(o){const a=Yc(o,`Initialization of query '${fS(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Pu(t.onlineState),s.Ru&&e.Vu(s.Ru)&&pA(t)}),dA.apply(this,arguments)}function fA(){return fA=g(function*(n,e){const t=O(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),fA.apply(this,arguments)}function Kfe(n,e){const t=O(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.Vu(i)&&(r=!0);o.Ru=i}}r&&pA(t)}function Yfe(n,e,t){const r=O(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function pA(n){n.bu.forEach(e=>{e.next()})}class mA{constructor(e,t,r){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Xc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Xc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class V${constructor(e){this.key=e}}class B${constructor(e){this.key=e}}class U${constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=Be(),this.mutatedKeys=Be(),this.Gu=uH(e),this.Qu=new Qc(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new N$,i=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),f=pS(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),_=!0):this.Hu(h,f)||(r.track({type:2,doc:f}),_=!0,(l&&this.Gu(f,l)>0||c&&this.Gu(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(l||c)&&(a=!0)),_&&(f?(o=o.add(f),s=m?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Qu:o,zu:r,ii:a,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Au();s.sort((c,u)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $()}};return f(d)-f(h)}(c.type,u.type)||this.Gu(c.doc,u.doc)),this.Ju(r);const o=t?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,l=a!==this.qu;return this.qu=a,0!==s.length||l?{snapshot:new Xc(this.query,e.Qu,i,s,e.mutatedKeys,0===a,l,!1),Xu:o}:{Xu:o}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new N$,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Be(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new B$(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new V$(r))}),t}ta(e){this.Uu=e._i,this.Ku=Be();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return Xc.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class Zfe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Jfe{constructor(e){this.key=e,this.na=!1}}class epe{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sa={},this.ia=new go(a=>lH(a),Ph),this.ra=new Map,this.oa=new Set,this.ua=new Tt(k.comparator),this.aa=new Map,this.ca=new BS,this.ha={},this.la=new Map,this.fa=za.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function tpe(n,e){return gA.apply(this,arguments)}function gA(){return gA=g(function*(n,e){const t=BA(n);let r,i;const s=t.ia.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.ea();else{const o=yield zc(t.localStore,Yr(e));t.isPrimaryClient&&P_(t.remoteStore,o);const a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield _A(t,e,r,"current"===a)}return i}),gA.apply(this,arguments)}function _A(n,e,t,r){return yA.apply(this,arguments)}function yA(){return yA=g(function*(n,e,t,r){n._a=(u,d,h)=>{return(f=g(function*(p,m,_,b){let y=m.view.Wu(_);y.ii&&(y=yield x_(p.localStore,m.query,!1).then(({documents:H})=>m.view.Wu(H,y)));const I=b&&b.targetChanges.get(m.targetId),M=m.view.applyChanges(y,p.isPrimaryClient,I);return AA(p,m.targetId,M.Xu),M.snapshot}),function(p,m,_,b){return f.apply(this,arguments)})(n,u,d,h);var f};const i=yield x_(n.localStore,e,!0),s=new U$(e,i._i),o=s.Wu(i.documents),a=Uh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),l=s.applyChanges(o,n.isPrimaryClient,a);AA(n,t,l.Xu);const c=new Zfe(e,t,s);return n.ia.set(e,c),n.ra.has(t)?n.ra.get(t).push(e):n.ra.set(t,[e]),l.snapshot}),yA.apply(this,arguments)}function npe(n,e){return vA.apply(this,arguments)}function vA(){return vA=g(function*(n,e){const t=O(n),r=t.ia.get(e),i=t.ra.get(r.targetId);if(i.length>1)return t.ra.set(r.targetId,i.filter(s=>!Ph(s,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Gc(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),tf(t.remoteStore,r.targetId),Zc(t,r.targetId)}).catch(Ga))):(Zc(t,r.targetId),yield Gc(t.localStore,r.targetId,!0))}),vA.apply(this,arguments)}function bA(){return bA=g(function*(n,e,t){const r=UA(n);try{const i=yield function(s,o){const a=O(s),l=Ot.now(),c=o.reduce((d,h)=>d.add(h.key),Be());let u;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>a.fi.Ks(d,c).next(h=>{u=h;const f=[];for(const p of o){const m=ahe(p,u.get(p.key));null!=m&&f.push(new Fa(p.key,m,Qj(m.value.mapValue),Pt.exists(!0)))}return a.Bs.addMutationBatch(d,l,f,o)})).then(d=>(d.applyToLocalDocumentSet(u),{batchId:d.batchId,changes:u}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.ha[s.currentUser.toKey()];l||(l=new Tt(le)),l=l.insert(o,a),s.ha[s.currentUser.toKey()]=l}(r,i.batchId,t),yield Ps(r,i.changes),yield Wc(r.remoteStore)}catch(i){const s=Yc(i,"Failed to persist write");t.reject(s)}}),bA.apply(this,arguments)}function j$(n,e){return wA.apply(this,arguments)}function wA(){return wA=g(function*(n,e){const t=O(n);try{const r=yield gfe(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.aa.get(s);o&&(ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.na=!0:i.modifiedDocuments.size>0?ee(o.na):i.removedDocuments.size>0&&(ee(o.na),o.na=!1))}),yield Ps(t,r,e)}catch(r){yield Ga(r)}}),wA.apply(this,arguments)}function H$(n,e,t){const r=O(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ia.forEach((s,o)=>{const a=o.view.Pu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=O(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.Pu(o)&&(l=!0)}),l&&pA(a)}(r.eventManager,e),i.length&&r.sa.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ipe(n,e,t){return CA.apply(this,arguments)}function CA(){return CA=g(function*(n,e,t){const r=O(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.aa.get(e),s=i&&i.key;if(s){let o=new Tt(k.comparator);o=o.insert(s,at.newNoDocument(s,Y.min()));const a=Be().add(s),l=new Bh(Y.min(),new Map,new tt(le),o,a);yield j$(r,l),r.ua=r.ua.remove(s),r.aa.delete(e),MA(r)}else yield Gc(r.localStore,e,!1).then(()=>Zc(r,e,t)).catch(Ga)}),CA.apply(this,arguments)}function spe(n,e){return EA.apply(this,arguments)}function EA(){return EA=g(function*(n,e){const t=O(n),r=e.batch.batchId;try{const i=yield mfe(t.localStore,e);SA(t,r,null),DA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ps(t,i)}catch(i){yield Ga(i)}}),EA.apply(this,arguments)}function ope(n,e,t){return IA.apply(this,arguments)}function IA(){return IA=g(function*(n,e,t){const r=O(n);try{const i=yield function(s,o){const a=O(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.Bs.lookupMutationBatch(l,o).next(u=>(ee(null!==u),c=u.keys(),a.Bs.removeMutationBatch(l,u))).next(()=>a.Bs.performConsistencyCheck(l)).next(()=>a.fi.Ks(l,c))})}(r.localStore,e);SA(r,e,t),DA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ps(r,i)}catch(i){yield Ga(i)}}),IA.apply(this,arguments)}function DA(n,e){(n.la.get(e)||[]).forEach(t=>{t.resolve()}),n.la.delete(e)}function SA(n,e,t){const r=O(n);let i=r.ha[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.ha[r.currentUser.toKey()]=i}}function Zc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ra.get(e))n.ia.delete(r),t&&n.sa.wa(r,t);n.ra.delete(e),n.isPrimaryClient&&n.ca.vi(e).forEach(r=>{n.ca.containsKey(r)||$$(n,r)})}function $$(n,e){n.oa.delete(e.path.canonicalString());const t=n.ua.get(e);null!==t&&(tf(n.remoteStore,t),n.ua=n.ua.remove(e),n.aa.delete(t),MA(n))}function AA(n,e,t){for(const r of t)r instanceof V$?(n.ca.addReference(r.key,e),lpe(n,r)):r instanceof B$?(S("SyncEngine","Document no longer in limbo: "+r.key),n.ca.removeReference(r.key,e),n.ca.containsKey(r.key)||$$(n,r.key)):$()}function lpe(n,e){const t=e.key,r=t.path.canonicalString();n.ua.get(t)||n.oa.has(r)||(S("SyncEngine","New document in limbo: "+t),n.oa.add(r),MA(n))}function MA(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const e=n.oa.values().next().value;n.oa.delete(e);const t=new k(Me.fromString(e)),r=n.fa.next();n.aa.set(r,new Jfe(t)),n.ua=n.ua.insert(t,r),P_(n.remoteStore,new _o(Yr(Nc(t.path)),r,2,Rr.A))}}function Ps(n,e,t){return xA.apply(this,arguments)}function xA(){return xA=g(function*(n,e,t){const r=O(n),i=[],s=[],o=[];var a;r.ia.isEmpty()||(r.ia.forEach((a,l)=>{o.push(r._a(l,e,t).then(c=>{if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c.fromCache?"not-current":"current"),i.push(c);const u=PS.Ys(l.targetId,c);s.push(u)}}))}),yield Promise.all(o),r.sa.zo(i),yield(a=g(function*(l,c){const u=O(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>C.forEach(c,h=>C.forEach(h.Hs,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>C.forEach(h.Js,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!La(d))throw d;S("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=u.ui.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);u.ui=u.ui.insert(h,m)}}}),function(l,c){return a.apply(this,arguments)})(r.localStore,s))}),xA.apply(this,arguments)}function cpe(n,e){return kA.apply(this,arguments)}function kA(){return kA=g(function*(n,e){const t=O(n);if(!t.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());const r=yield _$(t.localStore,e);t.currentUser=e,(i=t).la.forEach(o=>{o.forEach(a=>{a.reject(new D(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.la.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ps(t,r.di)}var i}),kA.apply(this,arguments)}function upe(n,e){const t=O(n),r=t.aa.get(e);if(r&&r.na)return Be().add(r.key);{let i=Be();const s=t.ra.get(e);if(!s)return i;for(const o of s){const a=t.ia.get(o);i=i.unionWith(a.view.ju)}return i}}function BA(n){const e=O(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=j$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=upe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ipe.bind(null,e),e.sa.zo=Kfe.bind(null,e.eventManager),e.sa.wa=Yfe.bind(null,e.eventManager),e}function UA(n){const e=O(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=spe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ope.bind(null,e),e}class vpe{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return g(function*(){t.M=Jh(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return function g$(n,e,t,r){return new pfe(n,e,t,r)}(this.persistence,new m$,e.initialUser,this.M)}ya(e){return new Dfe(US.Yi,this.M)}ga(e){return new T$}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class jA{initialize(e,t){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>H$(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=cpe.bind(null,r.syncEngine),yield function aA(n,e){return lA.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Wfe}createDatastore(e){const t=Jh(e.databaseInfo.databaseId),r=new kfe(e.databaseInfo);return new Pfe(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>H$(this.syncEngine,a,0),o=D$.vt()?new D$:new Afe,new Ffe(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,l,c){const u=new epe(r,i,s,o,a,l);return c&&(u.da=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=g(function*(t){const r=O(t);S("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield qc(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class F_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Tpe{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=En.UNAUTHENTICATED,this.clientId=Vj.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){S("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(S("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Yc(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function W$(n,e){return HA.apply(this,arguments)}function HA(){return HA=g(function*(n,e){n.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield _$(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),HA.apply(this,arguments)}function K$(n,e){return $A.apply(this,arguments)}function $A(){return $A=g(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield zA(n);S("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>P$(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>P$(e.remoteStore,s)),n.onlineComponents=e}),$A.apply(this,arguments)}function zA(n){return GA.apply(this,arguments)}function GA(){return GA=g(function*(n){return n.offlineComponents||(S("FirestoreClient","Using default OfflineComponentProvider"),yield W$(n,new vpe)),n.offlineComponents}),GA.apply(this,arguments)}function L_(n){return qA.apply(this,arguments)}function qA(){return qA=g(function*(n){return n.onlineComponents||(S("FirestoreClient","Using default OnlineComponentProvider"),yield K$(n,new jA)),n.onlineComponents}),qA.apply(this,arguments)}function Jc(n){return YA.apply(this,arguments)}function YA(){return YA=g(function*(n){const e=yield L_(n),t=e.eventManager;return t.onListen=tpe.bind(null,e.syncEngine),t.onUnlisten=npe.bind(null,e.syncEngine),t}),YA.apply(this,arguments)}const J$=new Map;function QA(n,e,t){if(!t)throw new D(w.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ez(n){if(!k.isDocumentKey(n))throw new D(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function tz(n){if(k.isDocumentKey(n))throw new D(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function V_(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":$()}function ke(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new D(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=V_(n);throw new D(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class rz{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new D(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new D(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Ppe(n,e,t,r){if(!0===e&&!0===r)throw new D(w.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nf{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rz({}),this._settingsFrozen=!1,e instanceof ho?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new D(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ho(i.options.projectId)}(e))}get app(){if(!this._app)throw new D(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rz(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new kde;switch(t.type){case"gapi":const r=t.client;return ee(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Nde(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new D(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=J$.get(e);t&&(S("ComponentProvider","Removing Datastore"),J$.delete(e),t.terminate())}(this),Promise.resolve()}}class Dt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}}class Vn{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vn(this.firestore,e,this._query)}}class Gi extends Vn{constructor(e,t,r){super(e,t,Nc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new k(e))}withConverter(e){return new Gi(this.firestore,e,this._path)}}function Npe(n,e,...t){if(n=Pn(n),QA("collection","path",e),n instanceof nf){const r=Me.fromString(e,...t);return tz(r),new Gi(n,null,r)}{if(!(n instanceof Dt||n instanceof Gi))throw new D(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Me.fromString(e,...t));return tz(r),new Gi(n.firestore,null,r)}}function iz(n,e,...t){if(n=Pn(n),1===arguments.length&&(e=Vj.R()),QA("doc","path",e),n instanceof nf){const r=Me.fromString(e,...t);return ez(r),new Dt(n,null,new k(r))}{if(!(n instanceof Dt||n instanceof Gi))throw new D(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Me.fromString(e,...t));return ez(r),new Dt(n.firestore,n instanceof Gi?n.converter:null,new k(r))}}class Lpe{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new GS(this,"async_queue_retry"),this.Qa=()=>{const t=O_();t&&S("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=O_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=O_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new rn;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return g(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!La(t))throw t;S("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{throw this.Ua=r,this.qa=!1,Rt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.qa=!1,r))));return this.Fa=t,t}enqueueAfterDelay(e,t,r){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const i=cA.createAndSchedule(this,e,t,r,s=>this.Ha(s));return this.La.push(i),i}ja(){this.Ua&&$()}verifyOperationInProgress(){}Ja(){var e=this;return g(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function XA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class dt extends nf{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new Lpe,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||sz(this),this._firestoreClient.terminate()}}function Bpe(n=Jm()){return da(n,"firestore").getImmediate()}function Gt(n){return n._firestoreClient||sz(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function sz(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Ude(n._databaseId,s,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;n._firestoreClient=new Tpe(n._authCredentials,n._appCheckCredentials,n._queue,r)}class eu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new D(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wa(zt.fromBase64String(e))}catch(t){throw new D(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Wa(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ZA{constructor(e){this._methodName=e}}class JA{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new D(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new D(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}}const Upe=/^__.*__$/;class jpe{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Fa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fh(e,this.data,t,this.fieldTransforms)}}class lz{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Fa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function cz(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $()}}class B_{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===s&&this.tc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new B_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.rc(e),i}oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.tc(),i}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return j_(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(cz(this.ec)&&Upe.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class Hpe{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Jh(e)}lc(e,t,r,i=!1){return new B_({ec:e,methodName:t,hc:r,path:sn.emptyPath(),ic:!1,cc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function tu(n){const e=n._freezeSettings(),t=Jh(n._databaseId);return new Hpe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function eM(n,e,t,r,i,s={}){const o=n.lc(s.merge||s.mergeFields?2:0,e,t,i);nM("Data must be an object, but it was:",o,r);const a=pz(r,o);let l,c;if(s.merge)l=new kc(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=rM(e,d,t);if(!o.contains(h))throw new D(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);gz(u,h)||u.push(h)}l=new kc(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new jpe(new Ln(a),l,c)}class rf extends ZA{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rf}}function Ka(n,e){if(mz(n=Pn(n)))return nM("Unsupported field value:",e,n),pz(n,e);if(n instanceof ZA)return function(t,r){if(!cz(r.ec))throw r.ac(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=Ka(o,r.uc(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=Pn(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return fH(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Ot.fromDate(t);return{timestampValue:jh(r.M,i)}}if(t instanceof Ot){const i=new Ot(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:jh(r.M,i)}}if(t instanceof JA)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Wa)return{bytesValue:kH(r.M,t._byteString)};if(t instanceof Dt){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.ac(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:yS(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ac(`Unsupported field value: ${V_(t)}`)}(n,e)}function pz(n,e){const t={};return jj(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Aa(n,(r,i)=>{const s=Ka(i,e.sc(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function mz(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ot||n instanceof JA||n instanceof Wa||n instanceof Dt||n instanceof ZA)}function nM(n,e,t){if(!mz(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=V_(t);throw e.ac("an object"===r?n+" a custom object":n+" "+r)}var r}function rM(n,e,t){if((e=Pn(e))instanceof eu)return e._internalPath;if("string"==typeof e)return U_(n,e);throw j_("Field path arguments must be of type string or ",n,!1,void 0,t)}const qpe=new RegExp("[~\\*/\\[\\]]");function U_(n,e,t){if(e.search(qpe)>=0)throw j_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new eu(...e.split("."))._internalPath}catch(r){throw j_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function j_(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new D(w.INVALID_ARGUMENT,a+n+l)}function gz(n,e){return n.some(t=>t.isEqual(e))}class iM{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Wpe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(H_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Wpe extends iM{data(){return super.data()}}function H_(n,e){return"string"==typeof e?U_(n,e):e instanceof eu?e._internalPath:e._delegate._internalPath}class Ya{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nu extends iM{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new $_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(H_("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class $_ extends nu{data(e={}){return super.data(e)}}class ru{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ya(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new $_(this._firestore,this._userDataWriter,r.key,r,new Ya(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new D(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new $_(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ya(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new $_(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ya(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return 0!==o.type&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Kpe(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Kpe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $()}}class Qa extends class Zpe{convertValue(e,t="none"){switch(xa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw $()}}convertObject(e,t){const r={};return Aa(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new JA(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Hj(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Dh(e));default:return null}}convertTimestamp(e){const t=uo(e);return new Ot(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Me.fromString(e);ee(jH(r));const i=new ho(r.get(1),r.get(3)),s=new k(r.popFirst(5));return i.isEqual(t)||Rt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,t)}}function eme(n,e,t,...r){n=ke(n,Dt);const i=ke(n.firestore,dt),s=tu(i);let o;return o="string"==typeof(e=Pn(e))||e instanceof eu?function hz(n,e,t,r,i,s){const o=n.lc(1,e,t),a=[rM(e,r,t)],l=[i];if(s.length%2!=0)throw new D(w.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(rM(e,s[h])),l.push(s[h+1]);const c=[],u=Ln.empty();for(let h=a.length-1;h>=0;--h)if(!gz(c,a[h])){const f=a[h];let p=l[h];p=Pn(p);const m=o.oc(f);if(p instanceof rf)c.push(f);else{const _=Ka(p,m);null!=_&&(c.push(f),u.set(f,_))}}const d=new kc(c);return new lz(u,d,o.fieldTransforms)}(s,"updateDoc",n._key,e,t,r):function dz(n,e,t,r){const i=n.lc(1,e,t);nM("Data must be an object, but it was:",i,r);const s=[],o=Ln.empty();Aa(r,(l,c)=>{const u=U_(e,l,t);c=Pn(c);const d=i.oc(u);if(c instanceof rf)s.push(u);else{const h=Ka(c,d);null!=h&&(s.push(u),o.set(u,h))}});const a=new kc(s);return new lz(o,a,i.fieldTransforms)}(s,"updateDoc",n._key,e),sf(i,[o.toMutation(n._key,Pt.exists(!0))])}function tme(n,e){const t=ke(n.firestore,dt),r=iz(n),i=function sM(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return sf(t,[eM(tu(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Pt.exists(!1))]).then(()=>r)}function sf(n,e){return function(t,r){const i=new rn;return t.asyncQueue.enqueueAndForget(g(function*(){return function rpe(n,e,t){return bA.apply(this,arguments)}(yield function KA(n){return L_(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(Gt(n),e)}!function(n,e=!0){Mc="9.8.2",Nn(new _n("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),s=new dt(i,new Ode(t.getProvider("auth-internal")),new Fde(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),ot(Nj,"3.4.9",n),ot(Nj,"3.4.9","esm2017")}();var ime={includeMetadataChanges:!1};function aM(n,e){return void 0===e&&(e=ime),new He(function(t){var r=function nme(n,...e){var t,r,i;n=Pn(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||XA(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(XA(e[o])){const d=e[o];e[o]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let l,c,u;if(n instanceof Dt)c=ke(n.firestore,dt),u=Nc(n._key.path),l={next:d=>{e[o]&&e[o](function oM(n,e,t){const r=t.docs.get(e._key),i=new Qa(n);return new nu(n,i,e._key,r,new Ya(t.hasPendingWrites,t.fromCache),e.converter)}(c,n,d))},error:e[o+1],complete:e[o+2]};else{const d=ke(n,Vn);c=ke(d.firestore,dt),u=d._query;const h=new Qa(c);l={next:f=>{e[o]&&e[o](new ru(c,h,d,f))},error:e[o+1],complete:e[o+2]},function _z(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new D(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(d,h,f,p){const m=new F_(p),_=new mA(h,m,f);return d.asyncQueue.enqueueAndForget(g(function*(){return function uA(n,e){return dA.apply(this,arguments)}(yield Jc(d),_)})),()=>{m.Aa(),d.asyncQueue.enqueueAndForget(g(function*(){return function hA(n,e){return fA.apply(this,arguments)}(yield Jc(d),_)}))}}(Gt(c),u,a,l)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function ome(n,e){return void 0===e&&(e={}),function sme(n){return aM(n,{includeMetadataChanges:!0})}(n).pipe(me(function(t){return Dz(t,e)}))}function Dz(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}function hme(n,e){return void 0===e&&(e={}),function dme(n){return aM(n,{includeMetadataChanges:!0}).pipe(me(function(e){return e.docs}))}(n).pipe(me(function(t){return t.map(function(r){return Dz(r,e)})}))}class af{constructor(e){return e}}const xz="firestore",uM=new P("angularfire2.firestore-instances");function mme(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new af(r)}}const gme={provide:class fme{constructor(){return ug(xz)}},deps:[[new Qe,uM]]},_me={provide:af,useFactory:function pme(n,e){const t=cg(xz,n,e);return t&&new af(t)},deps:[[new Qe,uM],va]};let yme=(()=>{class n{constructor(){ot("angularfire",Wd.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Re({providers:[_me,gme]}),n})();function vme(n,...e){return{ngModule:yme,providers:[{provide:uM,useFactory:mme(n),multi:!0,deps:[he,ct,dg,hg,[new Qe,dD],[new Qe,bg],...e]}]}}const bme=Bi(hme,!0),wme=Bi(ome,!0),Cme=Bi(tme,!0),kz=Bi(Npe,!0),Rz=Bi(iz,!0),Eme=Bi(Bpe,!0),Ime=Bi(eme,!0);class Oz{constructor(){this.players=[],this.player_images=[],this.stack=[],this.playedCards=[],this.currentPlayer=0,this.pickCardAnimation=!1,this.currentCard="";for(let e=1;e<14;e++)this.stack.push("ace_"+e),this.stack.push("clubs_"+e),this.stack.push("diamonds_"+e),this.stack.push("hearts_"+e);!function Tme(n){let t,e=n.length;for(;0!=e;)t=Math.floor(Math.random()*e),e--,[n[e],n[t]]=[n[t],n[e]]}(this.stack)}toJson(){return{player_images:this.player_images,players:this.players,stack:this.stack,playedCards:this.playedCards,currentPlayer:this.currentPlayer,pickCardAnimation:this.pickCardAnimation,currentCard:this.currentCard}}}function Ns(n){return null!=n&&"false"!=`${n}`}function dM(n,e=0){return function Dme(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function G_(n){return Array.isArray(n)?n:[n]}function Ft(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Fs(n){return n instanceof Ze?n.nativeElement:n}const Sme=["addListener","removeListener"],Ame=["addEventListener","removeEventListener"],Mme=["on","off"];function q_(n,e,t,r){if(oe(t)&&(r=t,t=void 0),r)return q_(n,e,t).pipe(SC(r));const[i,s]=function Rme(n){return oe(n.addEventListener)&&oe(n.removeEventListener)}(n)?Ame.map(o=>a=>n[o](e,a,t)):function xme(n){return oe(n.addListener)&&oe(n.removeListener)}(n)?Sme.map(Pz(n,e)):function kme(n){return oe(n.on)&&oe(n.off)}(n)?Mme.map(Pz(n,e)):[];if(!i&&Iv(n))return Lt(o=>q_(o,e,t))(_r(n));if(!i)throw new TypeError("Invalid event target");return new He(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function Pz(n,e){return t=>r=>n[t](e,r)}const lf={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=lf;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new hn(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=lf;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=lf;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};new class Pme extends ag{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Ome extends og{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=lf.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(lf.cancelAnimationFrame(t),e._scheduled=void 0)}});let hM,Fme=1;const W_={};function Nz(n){return n in W_&&(delete W_[n],!0)}const Lme={setImmediate(n){const e=Fme++;return W_[e]=!0,hM||(hM=Promise.resolve()),hM.then(()=>Nz(e)&&n()),e},clearImmediate(n){Nz(n)}},{setImmediate:Vme,clearImmediate:Bme}=Lme,K_={setImmediate(...n){const{delegate:e}=K_;return((null==e?void 0:e.setImmediate)||Vme)(...n)},clearImmediate(n){const{delegate:e}=K_;return((null==e?void 0:e.clearImmediate)||Bme)(n)},delegate:void 0};new class jme extends ag{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Ume extends og{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=K_.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(K_.clearImmediate(t),e._scheduled=void 0)}});function Fz(n,e=lg){return function $me(n){return Ct((e,t)=>{let r=!1,i=null,s=null,o=!1;const a=()=>{if(null==s||s.unsubscribe(),s=null,r){r=!1;const c=i;i=null,t.next(c)}o&&t.complete()},l=()=>{s=null,o&&t.complete()};e.subscribe(ft(t,c=>{r=!0,i=c,s||_r(n(c)).subscribe(s=ft(t,a,l))},()=>{o=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>function Gme(n=0,e,t=Loe){let r=-1;return null!=e&&(uR(e)?t=e:r=e),new He(i=>{let s=function zme(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e))}let fM;try{fM="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){fM=!1}let iu,Bn=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function AJ(n){return n===dL}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!fM)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(E(bd))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Lz=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Vz(){if(iu)return iu;if("object"!=typeof document||!document)return iu=new Set(Lz),iu;let n=document.createElement("input");return iu=new Set(Lz.filter(e=>(n.setAttribute("type",e),n.type===e))),iu}let cf,Xa,pM;function uf(n){return function qme(){if(null==cf&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>cf=!0}))}finally{cf=cf||!1}return cf}()?n:!!n.capture}function Wme(){if(null==Xa){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Xa=!1,Xa;if("scrollBehavior"in document.documentElement.style)Xa=!0;else{const n=Element.prototype.scrollTo;Xa=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Xa}function mM(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Za(n){return n.composedPath?n.composedPath()[0]:n.target}function gM(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const Qme=new P("cdk-dir-doc",{providedIn:"root",factory:function Xme(){return Mp(_e)}}),Zme=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let df=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new Je,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function Jme(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?Zme.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(E(Qme,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Re({}),n})(),Bz=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Pe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new He(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(Fz(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):K()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Mr(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=Fs(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>q_(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(E(he),E(Bn),E(_e,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Uz=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Pe,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Fz(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(E(Bn),E(he),E(_e,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Re({}),n})(),jz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Re({imports:[[hf,_M],hf,_M]}),n})();class yM{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Q_ extends yM{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class Hz extends yM{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class nge extends yM{constructor(e){super(),this.element=e instanceof Ze?e.nativeElement:e}}class vM{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Q_?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Hz?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof nge?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class rge extends vM{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||ct.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let $z=(()=>{class n extends vM{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Je,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=r.createComponent(s,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(v(Xo),v(Ar),v(_e))},n.\u0275dir=B({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[we]}),n})(),zz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Re({}),n})();function pr(n){return Ct((e,t)=>{_r(n).subscribe(ft(t,()=>t.complete(),_v)),!t.closed&&e.subscribe(t)})}const Gz=Wme();class ige{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Ft(-this._previousScrollPosition.left),e.style.top=Ft(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Gz&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Gz&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class sge{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class qz{enable(){}disable(){}attach(){}}function bM(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function Wz(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class oge{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();bM(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let age=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new qz,this.close=o=>new sge(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new ige(this._viewportRuler,this._document),this.reposition=o=>new oge(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(E(Bz),E(Uz),E(he),E(_e))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Kz{constructor(e){if(this.scrollStrategy=new qz,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class lge{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class cge{constructor(e,t,r,i,s,o,a,l,c){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new Pe,this._attachments=new Pe,this._detachments=new Pe,this._locationChanges=hn.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new Pe,this._outsidePointerEvents=new Pe,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(yr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Ft(this._config.width),e.height=Ft(this._config.height),e.minWidth=Ft(this._config.minWidth),e.minHeight=Ft(this._config.minHeight),e.maxWidth=Ft(this._config.maxWidth),e.maxHeight=Ft(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,r){const i=G_(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(pr(Dv(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let wM=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||gM()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),gM()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(E(_e),E(Bn))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yz="cdk-overlay-connected-position-bounding-box",uge=/([A-Za-z%]+)$/;class dge{constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Pe,this._resizeSubscription=hn.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(Yz),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,i,a),c=this._getOverlayPoint(l,t,a),u=this._getOverlayFit(c,t,r,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,r)?s.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(s.length){let a=null,l=-1;for(const c of s){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ja(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Yz),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,s;if("center"==r.originX)i=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==r.originX?o:a}return t.left<0&&(i-=t.left),s="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:i,y:s}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=Xz(t);let{x:o,y:a}=e,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(o+=l),c&&(a+=c);let h=0-a,f=a+s.height-r.height,p=this._subtractOverflows(s.width,0-o,o+s.width-r.width),m=this._subtractOverflows(s.height,h,f),_=p*m;return{visibleArea:_,isCompletelyWithinViewport:s.width*s.height===_,fitsInViewportVertically:m===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,o=Qz(this._overlayRef.getConfig().minHeight),a=Qz(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportHorizontally||null!=a&&a<=s;return(e.fitsInViewportVertically||null!=o&&o<=i)&&c}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=Xz(t),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),l=Math.max(s.top-r.top-e.y,0),c=Math.max(s.left-r.left-e.x,0);let u=0,d=0;return u=i.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-r.left-e.x:0,d=i.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new lge(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,o,a,u,d,h;if("top"===t.overlayY)o=e.y,s=r.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,s=r.height-a+this._viewportMargin;else{const f=Math.min(r.bottom-e.y+r.top,e.y),p=this._lastBoundingBoxSize.height;s=2*f,o=e.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)h=r.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)d=e.x,u=r.right-e.x;else{const f=Math.min(r.right-e.x+r.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=Ft(r.height),i.top=Ft(r.top),i.bottom=Ft(r.bottom),i.width=Ft(r.width),i.left=Ft(r.left),i.right=Ft(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=Ft(s)),o&&(i.maxWidth=Ft(o))}this._lastBoundingBoxSize=r,Ja(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Ja(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ja(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();Ja(r,this._getExactOverlayY(t,e,u)),Ja(r,this._getExactOverlayX(t,e,u))}else r.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=Ft(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=Ft(o.maxWidth):s&&(r.maxWidth="")),Ja(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=Ft(s.y),i}_getExactOverlayX(e,t,r){let o,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Ft(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Wz(e,r),isOriginOutsideView:bM(e,r),isOverlayClipped:Wz(t,r),isOverlayOutsideView:bM(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&G_(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Ze)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function Ja(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Qz(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(uge);return t&&"px"!==t?null:parseFloat(e)}return n||null}function Xz(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Zz="cdk-global-overlay-wrapper";class hge{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Zz),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,l=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a);e.position=this._cssPosition,e.marginLeft=l?"0":this._leftOffset,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,l?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(Zz),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let fge=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new hge}flexibleConnectedTo(t){return new dge(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(E(Uz),E(_e),E(Bn),E(wM))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Jz=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(E(_e))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pge=(()=>{class n extends Jz{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(E(_e),E(he,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mge=(()=>{class n extends Jz{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Za(s)},this._clickListener=s=>{const o=Za(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(o)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(s)):d.next(s)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(E(_e),E(Bn),E(he,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gge=0,su=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u,d,h){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),o=new Kz(t);return o.direction=o.direction||this._directionality.value,new cge(s,r,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+gge++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(sm)),new rge(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(E(age),E(wM),E(Xo),E(fge),E(pge),E(ct),E(he),E(_e),E(df),E(Cd),E(mge))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();const vge={provide:new P("cdk-connected-overlay-scroll-strategy"),deps:[su],useFactory:function yge(n){return()=>n.scrollStrategies.reposition()}};let eG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Re({providers:[su,vge],imports:[[hf,zz,jz],jz]}),n})();function rG(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function iG(n){return Mr((e,t)=>n<=t)}function Dge(n,e){return n===e}function sG(n,e=lg){return Ct((t,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=s;s=null,r.next(c)}};function l(){const c=o+n,u=e.now();if(u<c)return i=this.schedule(void 0,c-u),void r.add(i);a()}t.subscribe(ft(r,c=>{s=c,o=e.now(),i||(i=e.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}let oG=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sge=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=Fs(t);return new He(i=>{const o=this._observeElement(r).subscribe(i);return()=>{o.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new Pe,i=this._mutationObserverFactory.create(s=>r.next(s));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(E(oG))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Age=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new Je,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Ns(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=dM(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(sG(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(v(Sge),v(Ze),v(he))},n.\u0275dir=B({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),aG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Re({providers:[oG]}),n})();function X_(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}const cG="cdk-describedby-message",Z_="cdk-describedby-host";let uG=0,kge=(()=>{class n{constructor(t,r){this._platform=r,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+uG++,this._document=t}describe(t,r,i){if(!this._canBeDescribed(t,r))return;const s=CM(r,i);"string"!=typeof r?(dG(r),this._messageRegistry.set(s,{messageElement:r,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(r,i),this._isElementDescribedByMessage(t,s)||this._addMessageReference(t,s)}removeDescription(t,r,i){var s;if(!r||!this._isElementNode(t))return;const o=CM(r,i);if(this._isElementDescribedByMessage(t,o)&&this._removeMessageReference(t,o),"string"==typeof r){const a=this._messageRegistry.get(o);a&&0===a.referenceCount&&this._deleteMessageElement(o)}0===(null===(s=this._messagesContainer)||void 0===s?void 0:s.childNodes.length)&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){var t;const r=this._document.querySelectorAll(`[${Z_}="${this._id}"]`);for(let i=0;i<r.length;i++)this._removeCdkDescribedByReferenceIds(r[i]),r[i].removeAttribute(Z_);null===(t=this._messagesContainer)||void 0===t||t.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,r){const i=this._document.createElement("div");dG(i),i.textContent=t,r&&i.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(CM(t,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(t){var r,i;null===(i=null===(r=this._messageRegistry.get(t))||void 0===r?void 0:r.messageElement)||void 0===i||i.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let s=0;s<r.length;s++)r[s].remove();const i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(t),i.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(t){const r=X_(t,"aria-describedby").filter(i=>0!=i.indexOf(cG));t.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(t,r){const i=this._messageRegistry.get(r);(function Mge(n,e,t){const r=X_(n,e);r.some(i=>i.trim()==t.trim())||(r.push(t.trim()),n.setAttribute(e,r.join(" ")))})(t,"aria-describedby",i.messageElement.id),t.setAttribute(Z_,this._id),i.referenceCount++}_removeMessageReference(t,r){const i=this._messageRegistry.get(r);i.referenceCount--,function xge(n,e,t){const i=X_(n,e).filter(s=>s!=t.trim());i.length?n.setAttribute(e,i.join(" ")):n.removeAttribute(e)}(t,"aria-describedby",i.messageElement.id),t.removeAttribute(Z_)}_isElementDescribedByMessage(t,r){const i=X_(t,"aria-describedby"),s=this._messageRegistry.get(r),o=s&&s.messageElement.id;return!!o&&-1!=i.indexOf(o)}_canBeDescribed(t,r){if(!this._isElementNode(t))return!1;if(r&&"object"==typeof r)return!0;const i=null==r?"":`${r}`.trim(),s=t.getAttribute("aria-label");return!(!i||s&&s.trim()===i)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(t){return new(t||n)(E(_e),E(Bn))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function CM(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function dG(n){n.id||(n.id=`${cG}-${uG++}`)}let hG=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Oge(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function Rge(n){try{return n.frameElement}catch(e){return null}}(function jge(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===pG(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),s=pG(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function Bge(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==s:"video"===i?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function Uge(n){return!function Nge(n){return function Lge(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Pge(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function Fge(n){return function Vge(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||fG(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(E(Bn))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fG(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function pG(n){if(!fG(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Hge{constructor(e,t,r,i,s=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return null==r||r.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(yr(1)).subscribe(e)}}let $ge=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new Hge(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(E(hG),E(he),E(_e))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mG(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function gG(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const zge=new P("cdk-input-modality-detector-options"),Gge={ignoreKeys:[18,17,224,91,16]},ou=uf({passive:!0,capture:!0});let qge=(()=>{class n{constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new qr(null),this._lastTouchMs=0,this._onKeydown=o=>{var a,l;(null===(l=null===(a=this._options)||void 0===a?void 0:a.ignoreKeys)||void 0===l?void 0:l.some(c=>c===o.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Za(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(mG(o)?"keyboard":"mouse"),this._mostRecentTarget=Za(o))},this._onTouchstart=o=>{gG(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Za(o))},this._options=Object.assign(Object.assign({},Gge),s),this.modalityDetected=this._modality.pipe(iG(1)),this.modalityChanged=this.modalityDetected.pipe(function Tge(n,e=$s){return n=null!=n?n:Dge,Ct((t,r)=>{let i,s=!0;t.subscribe(ft(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,ou),i.addEventListener("mousedown",this._onMousedown,ou),i.addEventListener("touchstart",this._onTouchstart,ou)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ou),document.removeEventListener("mousedown",this._onMousedown,ou),document.removeEventListener("touchstart",this._onTouchstart,ou))}}return n.\u0275fac=function(t){return new(t||n)(E(Bn),E(he),E(_e),E(zge,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Kge=new P("cdk-focus-monitor-default-options"),J_=uf({passive:!0,capture:!0});let EM=(()=>{class n{constructor(t,r,i,s,o){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Pe,this._rootNodeFocusAndBlurListener=a=>{const l=Za(a),c="focus"===a.type?this._onFocus:this._onBlur;for(let u=l;u;u=u.parentElement)c.call(this,a,u)},this._document=s,this._detectionMode=(null==o?void 0:o.detectionMode)||0}monitor(t,r=!1){const i=Fs(t);if(!this._platform.isBrowser||1!==i.nodeType)return K(null);const s=function Yme(n){if(function Kme(){if(null==pM){const n="undefined"!=typeof document?document.head:null;pM=!(!n||!n.createShadowRoot&&!n.attachShadow)}return pM}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),o=this._elementInfo.get(i);if(o)return r&&(o.checkChildren=!0),o.subject;const a={checkChildren:r,subject:new Pe,rootNode:s};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=Fs(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=Fs(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,r,l)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=Za(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,J_),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,J_)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(pr(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,J_),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,J_),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(E(he),E(Bn),E(qge),E(_e,8),E(Kge,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yG="cdk-high-contrast-black-on-white",vG="cdk-high-contrast-white-on-black",IM="cdk-high-contrast-active";let bG=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(IM),t.remove(yG),t.remove(vG),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(IM),t.add(yG)):2===r&&(t.add(IM),t.add(vG))}}}return n.\u0275fac=function(t){return new(t||n)(E(Bn),E(_e))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yge=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(E(bG))},n.\u0275mod=Ne({type:n}),n.\u0275inj=Re({imports:[[aG]]}),n})();class wG{}const Ls="*";function TM(n,e){return{type:7,name:n,definitions:e,options:{}}}function ff(n,e=null){return{type:4,styles:e,timings:n}}function CG(n,e=null){return{type:3,steps:n,options:e}}function EG(n,e=null){return{type:2,steps:n,options:e}}function mr(n){return{type:6,styles:n,offset:null}}function pf(n,e,t){return{type:0,name:n,styles:e,options:t}}function mf(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function IG(n=null){return{type:9,options:n}}function TG(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function DG(n){Promise.resolve(null).then(n)}class gf{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){DG(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class SG{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?DG(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const De=!1;function AG(n){return new V(3e3,De)}function k_e(){return"undefined"!=typeof window&&void 0!==window.document}function SM(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Co(n){switch(n.length){case 0:return new gf;case 1:return n[0];default:return new SG(n)}}function MG(n,e,t,r,i={},s={}){const o=[],a=[];let l=-1,c=null;if(r.forEach(u=>{const d=u.offset,h=d==l,f=h&&c||{};Object.keys(u).forEach(p=>{let m=p,_=u[p];if("offset"!==p)switch(m=e.normalizePropertyName(m,o),_){case"!":_=i[p];break;case Ls:_=s[p];break;default:_=e.normalizeStyleValue(p,m,_,o)}f[m]=_}),h||a.push(f),c=f,l=d}),o.length)throw function b_e(n){return new V(3502,De)}();return a}function AM(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&MM(t,"start",n)));break;case"done":n.onDone(()=>r(t&&MM(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&MM(t,"destroy",n)))}}function MM(n,e,t){const r=t.totalTime,s=xM(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function xM(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Or(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function xG(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let kM=(n,e)=>!1,kG=(n,e,t)=>[],RG=null;function RM(n){const e=n.parentNode||n.host;return e===RG?null:e}(SM()||"undefined"!=typeof Element)&&(k_e()?(RG=(()=>document.documentElement)(),kM=(n,e)=>{for(;e;){if(e===n)return!0;e=RM(e)}return!1}):kM=(n,e)=>n.contains(e),kG=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let el=null,OG=!1;function PG(n){el||(el=function O_e(){return"undefined"!=typeof document?document.body:null}()||{},OG=!!el.style&&"WebkitAppearance"in el.style);let e=!0;return el.style&&!function R_e(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in el.style,!e&&OG&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in el.style)),e}const NG=kM,FG=kG;let LG=(()=>{class n{validateStyleProperty(t){return PG(t)}matchesElement(t,r){return!1}containsElement(t,r){return NG(t,r)}getParentElement(t){return RM(t)}query(t,r,i){return FG(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new gf(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})(),OM=(()=>{class n{}return n.NOOP=new LG,n})();const PM="ng-enter",ty="ng-leave",ny="ng-trigger",ry=".ng-trigger",BG="ng-animating",NM=".ng-animating";function tl(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:FM(parseFloat(e[1]),e[2])}function FM(n,e){return"s"===e?1e3*n:n}function iy(n,e,t){return n.hasOwnProperty("duration")?n:function F_e(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(AG()),{duration:0,delay:0,easing:""};i=FM(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=FM(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(function Zge(){return new V(3100,De)}()),a=!0),s<0&&(e.push(function Jge(){return new V(3101,De)}()),a=!0),a&&e.splice(l,0,AG())}return{duration:i,delay:s,easing:o}}(n,e,t)}function au(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Eo(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else au(n,t);return t}function jG(n,e,t){return t?e+":"+t+";":""}function HG(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=jG(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=jG(0,B_e(t),n.style[t]));n.setAttribute("style",e)}function qi(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=VM(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),SM()&&HG(n))}function nl(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=VM(t);n.style[r]=""}),SM()&&HG(n))}function _f(n){return Array.isArray(n)?1==n.length?n[0]:EG(n):n}const LM=new RegExp("{{\\s*(.+?)\\s*}}","g");function $G(n){let e=[];if("string"==typeof n){let t;for(;t=LM.exec(n);)e.push(t[1]);LM.lastIndex=0}return e}function sy(n,e,t){const r=n.toString(),i=r.replace(LM,(s,o)=>{let a=e[o];return e.hasOwnProperty(o)||(t.push(function t_e(n){return new V(3003,De)}()),a=""),a.toString()});return i==r?n:i}function oy(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const V_e=/-+([a-z0-9])/g;function VM(n){return n.replace(V_e,(...e)=>e[1].toUpperCase())}function B_e(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Pr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function n_e(n){return new V(3004,De)}()}}function zG(n,e){return window.getComputedStyle(n)[e]}function G_e(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function q_e(n,e,t){if(":"==n[0]){const l=function W_e(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function g_e(n){return new V(3016,De)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function m_e(n){return new V(3015,De)}()),e;const i=r[1],s=r[2],o=r[3];e.push(GG(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&e.push(GG(o,i))}(r,t,e)):t.push(n),t}const uy=new Set(["true","1"]),dy=new Set(["false","0"]);function GG(n,e){const t=uy.has(n)||dy.has(n),r=uy.has(e)||dy.has(e);return(i,s)=>{let o="*"==n||n==i,a="*"==e||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?uy.has(n):dy.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?uy.has(e):dy.has(e)),o&&a}}const K_e=new RegExp("s*:selfs*,?","g");function BM(n,e,t,r){return new Y_e(n).build(e,t,r)}class Y_e{constructor(e){this._driver=e}build(e,t,r){const i=new Z_e(t);this._resetContextStyleTimingState(i);const s=Pr(this,_f(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function i_e(){return new V(3006,De)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(function s_e(){return new V(3007,De)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{if(hy(a)){const l=a;Object.keys(l).forEach(c=>{$G(l[c]).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}}),s.size&&(oy(s.values()),t.errors.push(function o_e(n,e){return new V(3008,De)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Pr(this,_f(e.animation),t);return{type:1,matchers:G_e(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:rl(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Pr(this,r,t)),options:rl(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=Pr(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:rl(e.options)}}visitAnimate(e,t){const r=function eye(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return UM(iy(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=UM(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=iy(t,e);return UM(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:mr({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=mr(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(o=>{"string"==typeof o?o==Ls?r.push(o):t.errors.push(function a_e(n){return new V(3002,De)}()):r.push(o)}):r.push(e.styles);let i=!1,s=null;return r.forEach(o=>{if(hy(o)){const a=o,l=a.easing;if(l&&(s=l,delete a.easing),!i)for(let c in a)if(a[c].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return delete o[a],void t.unsupportedCSSPropertiesFound.add(a);const l=t.collectedStyles[t.currentQuerySelector],c=l[a];let u=!0;c&&(s!=i&&s>=c.startTime&&i<=c.endTime&&(t.errors.push(function l_e(n,e,t,r,i){return new V(3010,De)}()),u=!1),s=c.startTime),u&&(l[a]={startTime:s,endTime:i}),t.options&&function L_e(n,e,t){const r=e.params||{},i=$G(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function e_e(n){return new V(3001,De)}())})}(o[a],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function c_e(){return new V(3011,De)}()),r;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(b=>{const y=this._makeStyleAst(b,t);let I=null!=y.offset?y.offset:function J_e(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(hy(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(hy(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(y.styles),M=0;return null!=I&&(s++,M=y.offset=I),l=l||M<0||M>1,a=a||M<c,c=M,o.push(M),y});l&&t.errors.push(function u_e(){return new V(3012,De)}()),a&&t.errors.push(function d_e(){return new V(3200,De)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function h_e(){return new V(3202,De)}()):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,m=t.currentAnimateTimings,_=m.duration;return u.forEach((b,y)=>{const I=h>0?y==f?1:h*y:o[y],M=I*_;t.currentTime=p+m.delay+M,m.duration=M,this._validateStyleAst(b,t),b.offset=I,r.styles.push(b)}),r}visitReference(e,t){return{type:8,animation:Pr(this,_f(e.animation),t),options:rl(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:rl(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:rl(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function Q_e(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(K_e,"")),n=n.replace(/@\*/g,ry).replace(/@\w+/g,t=>ry+"-"+t.substr(1)).replace(/:animating/g,NM),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Or(t.collectedStyles,t.currentQuerySelector,{});const a=Pr(this,_f(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:rl(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function f_e(){return new V(3013,De)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:iy(e.timings,t.errors,!0);return{type:12,animation:Pr(this,_f(e.animation),t),timings:r,options:null}}}class Z_e{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function hy(n){return!Array.isArray(n)&&"object"==typeof n}function rl(n){return n?(n=au(n)).params&&(n.params=function X_e(n){return n?au(n):null}(n.params)):n={},n}function UM(n,e,t){return{duration:n,delay:e,easing:t}}function jM(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class fy{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const rye=new RegExp(":enter","g"),sye=new RegExp(":leave","g");function HM(n,e,t,r,i,s={},o={},a,l,c=[]){return(new oye).buildKeyframes(n,e,t,r,i,s,o,a,l,c)}class oye{buildKeyframes(e,t,r,i,s,o,a,l,c,u=[]){c=c||new fy;const d=new $M(e,t,c,i,s,u,[]);d.options=l,d.currentTimeline.setStyles([o],null,d.errors,l),Pr(this,r,d);const h=d.timelines.filter(f=>f.containsAnimation());if(Object.keys(a).length){let f;for(let p=h.length-1;p>=0;p--){const m=h[p];if(m.element===t){f=m;break}}f&&!f.allowOnlyTimelineStyles()&&f.setStyles([a],null,d.errors,l)}return h.length?h.map(f=>f.buildKeyframes()):[jM(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?tl(r.duration):null,a=null!=r.delay?tl(r.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Pr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=py);const o=tl(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Pr(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?tl(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),Pr(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return iy(t.params?sy(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?tl(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=py);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),Pr(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;Pr(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const py={};class $M{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=py,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new my(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=tl(r.duration)),null!=r.delay&&(i.delay=tl(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=sy(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new $M(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=py,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},s=new aye(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(rye,"."+this._enterClassName)).replace(sye,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function p_e(n){return new V(3014,De)}()),a}}class my{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new my(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Ls,this._currentKeyframe[t]=Ls}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const s=i&&i.params||{},o=function lye(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(s=>{t[s]=Ls})):Eo(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const l=sy(o[a],s,r);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:Ls),this._updateStyle(a,l)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=Eo(a,!0);Object.keys(c).forEach(u=>{const d=c[u];"!"==d?e.add(u):d==Ls&&t.add(u)}),r||(c.offset=l/this.duration),i.push(c)});const s=e.size?oy(e.values()):[],o=t.size?oy(t.values()):[];if(r){const a=i[0],l=au(a);a.offset=0,l.offset=1,i=[a,l]}return jM(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class aye extends my{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=Eo(e[0],!1);l.offset=0,s.push(l);const c=Eo(e[0],!1);c.offset=KG(a),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=Eo(e[d],!1);h.offset=KG((t+h.offset*r)/o),s.push(h)}r=o,t=0,i="",e=s}return jM(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function KG(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class zM{}class cye extends zM{normalizePropertyName(e,t){return VM(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(uye[t]&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function r_e(n,e){return new V(3005,De)}())}return o+s}}const uye=(()=>function dye(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function YG(n,e,t,r,i,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const GM={};class QG{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function hye(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],s=this._stateStyles[e],o=i?i.buildStyles(t,r):{};return s?s.buildStyles(t,r):o}build(e,t,r,i,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||GM,p=this.buildStyles(r,a&&a.params||GM,d),m=l&&l.params||GM,_=this.buildStyles(i,m,d),b=new Set,y=new Map,I=new Map,M="void"===i,H={params:Object.assign(Object.assign({},h),m)},Q=u?[]:HM(e,t,this.ast.animation,s,o,p,_,H,c,d);let pe=0;if(Q.forEach(Sn=>{pe=Math.max(Sn.duration+Sn.delay,pe)}),d.length)return YG(t,this._triggerName,r,i,M,p,_,[],[],y,I,pe,d);Q.forEach(Sn=>{const ir=Sn.element,Tu=Or(y,ir,{});Sn.preStyleProps.forEach(wi=>Tu[wi]=!0);const Hs=Or(I,ir,{});Sn.postStyleProps.forEach(wi=>Hs[wi]=!0),ir!==t&&b.add(ir)});const St=oy(b.values());return YG(t,this._triggerName,r,i,M,p,_,Q,St,y,I,pe)}}class fye{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=au(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!=o&&(i[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(a=>{let l=o[a];l.length>1&&(l=sy(l,i,t));const c=this.normalizer.normalizePropertyName(a,t);l=this.normalizer.normalizeStyleValue(a,c,l,t),r[c]=l})}}),r}}class mye{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new fye(i.style,i.options&&i.options.params||{},r)}),XG(this.states,"true","1"),XG(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new QG(e,i,this.states))}),this.fallbackTransition=function gye(n,e,t){return new QG(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function XG(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const _ye=new fy;class yye{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],s=BM(this._driver,t,r,[]);if(r.length)throw function w_e(n){return new V(3503,De)}();this._animations[e]=s}_buildPlayer(e,t,r){const i=e.element,s=MG(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations[e];let o;const a=new Map;if(s?(o=HM(this._driver,t,s,PM,ty,{},{},r,_ye,i),o.forEach(u=>{const d=Or(a,u.element,{});u.postStyleProps.forEach(h=>d[h]=null)})):(i.push(function C_e(){return new V(3300,De)}()),o=[]),i.length)throw function E_e(n){return new V(3504,De)}();a.forEach((u,d)=>{Object.keys(u).forEach(h=>{u[h]=this._driver.computeStyle(d,h,Ls)})});const c=Co(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,{},d)}));return this._playersById[e]=c,c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function I_e(n){return new V(3301,De)}();return t}listen(e,t,r,i){const s=xM(t,"","","");return AM(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const ZG="ng-animate-queued",qM="ng-animate-disabled",Eye=[],JG={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Iye={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Xr="__ng_removed";class WM{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Aye(n){return null!=n?n:null}(r?e.value:e),r){const s=au(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const yf="void",KM=new WM(yf);class Tye{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Zr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function T_e(n,e){return new V(3302,De)}();if(null==r||0==r.length)throw function D_e(n){return new V(3303,De)}();if(!function Mye(n){return"start"==n||"done"==n}(r))throw function S_e(n,e){return new V(3400,De)}();const s=Or(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=Or(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(Zr(e,ny),Zr(e,ny+"-"+t),a[t]=KM),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function A_e(n){return new V(3401,De)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new YM(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Zr(e,ny),Zr(e,ny+"-"+t),this._engine.statesByElement.set(e,a={}));let l=a[t];const c=new WM(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[t]=c,l||(l=KM),c.value!==yf&&l.value===c.value){if(!function Rye(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const m=[],_=s.matchStyles(l.value,l.params,m),b=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{nl(e,_),qi(e,b)})}return}const h=Or(this._engine.playersByElement,e,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==t&&m.queued&&m.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(Zr(e,ZG),o.onStart(()=>{lu(e,ZG)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);const _=this._engine.playersByElement.get(e);if(_){let b=_.indexOf(o);b>=0&&_.splice(b,1)}}),this.players.push(o),h.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,ry,!0);r.forEach(i=>{if(i[Xr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(Object.keys(s).forEach(l=>{if(o.set(l,s[l].value),this._triggers[l]){const c=this.trigger(e,l,yf,i);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&Co(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers[o].fallbackTransition,c=r[o]||KM,u=new WM(yf),d=new YM(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Xr];(!s||s===JG)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Zr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=xM(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,AM(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Dye{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Tye(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,s=r.length-1;if(s>=0){let o=!1;if(void 0!==this.driver.getParentElement){let a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}}else for(let a=s;a>=0;a--)if(this.driver.containsElement(r[a].hostElement,t)){r.splice(a+1,0,e),o=!0;break}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let s=0;s<i.length;s++){const o=r[i[s]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&t.add(a)}}}return t}trigger(e,t,r,i){if(gy(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!gy(t))return;const s=t[Xr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Zr(e,qM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),lu(e,qM))}removeNode(e,t,r,i){if(gy(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Xr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return gy(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,ry,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,NM,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Co(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Xr];if(r&&r.setForRemoval){if(e[Xr]=JG,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(qM))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Zr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Co(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function M_e(n){return new V(3402,De)}()}_flushAnimations(e,t){const r=new fy,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(j=>{u.add(j);const G=this.driver.query(j,".ng-animate-queued",!0);for(let J=0;J<G.length;J++)u.add(G[J])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=nq(h,this.collectedEnterElements),p=new Map;let m=0;f.forEach((j,G)=>{const J=PM+m++;p.set(G,J),j.forEach(Oe=>Zr(Oe,J))});const _=[],b=new Set,y=new Set;for(let j=0;j<this.collectedLeaveElements.length;j++){const G=this.collectedLeaveElements[j],J=G[Xr];J&&J.setForRemoval&&(_.push(G),b.add(G),J.hasAnimation?this.driver.query(G,".ng-star-inserted",!0).forEach(Oe=>b.add(Oe)):y.add(G))}const I=new Map,M=nq(h,Array.from(b));M.forEach((j,G)=>{const J=ty+m++;I.set(G,J),j.forEach(Oe=>Zr(Oe,J))}),e.push(()=>{f.forEach((j,G)=>{const J=p.get(G);j.forEach(Oe=>lu(Oe,J))}),M.forEach((j,G)=>{const J=I.get(G);j.forEach(Oe=>lu(Oe,J))}),_.forEach(j=>{this.processLeaveNode(j)})});const H=[],Q=[];for(let j=this._namespaceList.length-1;j>=0;j--)this._namespaceList[j].drainQueuedTransitions(t).forEach(J=>{const Oe=J.player,dn=J.element;if(H.push(Oe),this.collectedEnterElements.length){const sr=dn[Xr];if(sr&&sr.setForMove){if(sr.previousTriggersValues&&sr.previousTriggersValues.has(J.triggerName)){const _l=sr.previousTriggersValues.get(J.triggerName),Vo=this.statesByElement.get(J.element);Vo&&Vo[J.triggerName]&&(Vo[J.triggerName].value=_l)}return void Oe.destroy()}}const Ji=!d||!this.driver.containsElement(d,dn),Fr=I.get(dn),Lo=p.get(dn),gt=this._buildInstruction(J,r,Lo,Fr,Ji);if(gt.errors&&gt.errors.length)return void Q.push(gt);if(Ji)return Oe.onStart(()=>nl(dn,gt.fromStyles)),Oe.onDestroy(()=>qi(dn,gt.toStyles)),void i.push(Oe);if(J.isFallbackTransition)return Oe.onStart(()=>nl(dn,gt.fromStyles)),Oe.onDestroy(()=>qi(dn,gt.toStyles)),void i.push(Oe);const e4=[];gt.timelines.forEach(sr=>{sr.stretchStartingKeyframe=!0,this.disabledNodes.has(sr.element)||e4.push(sr)}),gt.timelines=e4,r.append(dn,gt.timelines),o.push({instruction:gt,player:Oe,element:dn}),gt.queriedElements.forEach(sr=>Or(a,sr,[]).push(Oe)),gt.preStyleProps.forEach((sr,_l)=>{const Vo=Object.keys(sr);if(Vo.length){let yl=l.get(_l);yl||l.set(_l,yl=new Set),Vo.forEach(Hk=>yl.add(Hk))}}),gt.postStyleProps.forEach((sr,_l)=>{const Vo=Object.keys(sr);let yl=c.get(_l);yl||c.set(_l,yl=new Set),Vo.forEach(Hk=>yl.add(Hk))})});if(Q.length){const j=[];Q.forEach(G=>{j.push(function x_e(n,e){return new V(3505,De)}())}),H.forEach(G=>G.destroy()),this.reportError(j)}const pe=new Map,St=new Map;o.forEach(j=>{const G=j.element;r.has(G)&&(St.set(G,G),this._beforeAnimationBuild(j.player.namespaceId,j.instruction,pe))}),i.forEach(j=>{const G=j.element;this._getPreviousPlayers(G,!1,j.namespaceId,j.triggerName,null).forEach(Oe=>{Or(pe,G,[]).push(Oe),Oe.destroy()})});const Sn=_.filter(j=>iq(j,l,c)),ir=new Map;tq(ir,this.driver,y,c,Ls).forEach(j=>{iq(j,l,c)&&Sn.push(j)});const Hs=new Map;f.forEach((j,G)=>{tq(Hs,this.driver,new Set(j),l,"!")}),Sn.forEach(j=>{const G=ir.get(j),J=Hs.get(j);ir.set(j,Object.assign(Object.assign({},G),J))});const wi=[],Du=[],Su={};o.forEach(j=>{const{element:G,player:J,instruction:Oe}=j;if(r.has(G)){if(u.has(G))return J.onDestroy(()=>qi(G,Oe.toStyles)),J.disabled=!0,J.overrideTotalTime(Oe.totalTime),void i.push(J);let dn=Su;if(St.size>1){let Fr=G;const Lo=[];for(;Fr=Fr.parentNode;){const gt=St.get(Fr);if(gt){dn=gt;break}Lo.push(Fr)}Lo.forEach(gt=>St.set(gt,dn))}const Ji=this._buildAnimation(J.namespaceId,Oe,pe,s,Hs,ir);if(J.setRealPlayer(Ji),dn===Su)wi.push(J);else{const Fr=this.playersByElement.get(dn);Fr&&Fr.length&&(J.parentPlayer=Co(Fr)),i.push(J)}}else nl(G,Oe.fromStyles),J.onDestroy(()=>qi(G,Oe.toStyles)),Du.push(J),u.has(G)&&i.push(J)}),Du.forEach(j=>{const G=s.get(j.element);if(G&&G.length){const J=Co(G);j.setRealPlayer(J)}}),i.forEach(j=>{j.parentPlayer?j.syncPlayerEvents(j.parentPlayer):j.destroy()});for(let j=0;j<_.length;j++){const G=_[j],J=G[Xr];if(lu(G,ty),J&&J.hasAnimation)continue;let Oe=[];if(a.size){let Ji=a.get(G);Ji&&Ji.length&&Oe.push(...Ji);let Fr=this.driver.query(G,NM,!0);for(let Lo=0;Lo<Fr.length;Lo++){let gt=a.get(Fr[Lo]);gt&&gt.length&&Oe.push(...gt)}}const dn=Oe.filter(Ji=>!Ji.destroyed);dn.length?xye(this,G,dn):this.processLeaveNode(G)}return _.length=0,wi.forEach(j=>{this.players.push(j),j.onDone(()=>{j.destroy();const G=this.players.indexOf(j);this.players.splice(G,1)}),j.play()}),wi}elementContainsData(e,t){let r=!1;const i=t[Xr];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==yf;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,d=Or(r,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}nl(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const m=p.element;u.add(m);const _=m[Xr];if(_&&_.removedBeforeQueried)return new gf(p.duration,p.delay);const b=m!==l,y=function kye(n){const e=[];return rq(n,e),e}((r.get(m)||Eye).map(pe=>pe.getRealPlayer())).filter(pe=>!!pe.element&&pe.element===m),I=s.get(m),M=o.get(m),H=MG(0,this._normalizer,0,p.keyframes,I,M),Q=this._buildPlayer(p,H,y);if(p.subTimeline&&i&&d.add(m),b){const pe=new YM(e,a,m);pe.setRealPlayer(Q),c.push(pe)}return Q});c.forEach(p=>{Or(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function Sye(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Zr(p,BG));const f=Co(h);return f.onDestroy(()=>{u.forEach(p=>lu(p,BG)),qi(l,t.toStyles)}),d.forEach(p=>{Or(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new gf(e.duration,e.delay)}}class YM{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new gf,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>AM(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Or(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function gy(n){return n&&1===n.nodeType}function eq(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function tq(n,e,t,r,i){const s=[];t.forEach(l=>s.push(eq(l)));const o=[];r.forEach((l,c)=>{const u={};l.forEach(d=>{const h=u[d]=e.computeStyle(c,d,i);(!h||0==h.length)&&(c[Xr]=Iye,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>eq(l,s[a++])),o}function nq(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function Zr(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function lu(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function xye(n,e,t){Co(t).onDone(()=>n.processLeaveNode(e))}function rq(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof SG?rq(r.players,e):e.push(r)}}function iq(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class _y{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Dye(e,t,r),this._timelineEngine=new yye(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],u=BM(this._driver,s,l,[]);if(l.length)throw function v_e(n,e){return new V(3404,De)}();a=function pye(n,e,t){return new mye(n,e,t)}(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=xG(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=xG(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Pye=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&qi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(qi(this._element,this._initialStyles),this._endStyles&&(qi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(nl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(nl(this._element,this._endStyles),this._endStyles=null),qi(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function QM(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];Nye(i)&&(e=e||{},e[i]=n[i])}return e}function Nye(n){return"display"===n||"position"===n}class sq{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:zG(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Fye{validateStyleProperty(e){return PG(e)}matchesElement(e,t){return!1}containsElement(e,t){return NG(e,t)}getParentElement(e){return RM(e)}query(e,t,r){return FG(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const c={},u=o.filter(h=>h instanceof sq);(function U_e(n,e){return 0===n||0===e})(r,i)&&u.forEach(h=>{let f=h.currentSnapshot;Object.keys(f).forEach(p=>c[p]=f[p])}),t=function j_e(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(a=>{s.hasOwnProperty(a)||o.push(a),s[a]=t[a]}),o.length)for(var i=1;i<e.length;i++){let a=e[i];o.forEach(function(l){a[l]=zG(n,l)})}}return e}(e,t=t.map(h=>Eo(h,!1)),c);const d=function Oye(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=QM(e[0]),e.length>1&&(r=QM(e[e.length-1]))):e&&(t=QM(e)),t||r?new Pye(n,t,r):null}(e,t);return new sq(e,t,l,d)}}let Lye=(()=>{class n extends wG{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:ri.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?EG(t):t;return oq(this._renderer,null,r,"register",[i]),new Vye(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(E(pd),E(_e))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();class Vye extends class Qge{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Bye(this._id,e,t||{},this._renderer)}}class Bye{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return oq(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function oq(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const aq="@.disabled";let Uye=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=null==o?void 0:o.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(s);return u||(u=new lq("",s,this.engine),this._rendererCache.set(s,u)),u}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return r.data.animation.forEach(l),new jye(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(E(pd),E(_y),E(he))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();class lq{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==aq?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class jye extends lq{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==aq?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Hye(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function $ye(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let zye=(()=>{class n extends _y{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(E(_e),E(OM),E(zM))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();const Vs=new P("AnimationModuleType"),cq=[{provide:wG,useClass:Lye},{provide:zM,useFactory:function Gye(){return new cye}},{provide:_y,useClass:zye},{provide:pd,useFactory:function qye(n,e,t){return new Uye(n,e,t)},deps:[Im,_y,he]}],uq=[{provide:OM,useFactory:()=>new Fye},{provide:Vs,useValue:"BrowserAnimations"},...cq],Wye=[{provide:OM,useClass:LG},{provide:Vs,useValue:"NoopAnimations"},...cq];let Kye=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Wye:uq}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Re({providers:uq,imports:[EL]}),n})();const Qye=new P("mat-sanity-checks",{providedIn:"root",factory:function Yye(){return!0}});let tr=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!gM()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(E(bG),E(Qye,8),E(_e))},n.\u0275mod=Ne({type:n}),n.\u0275inj=Re({imports:[[hf],hf]}),n})();function Xye(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Ns(e)}}}function XM(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function Zye(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Ns(e)}}}function Jye(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new Pe,this.errorState=!1}updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}}}let hq=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class tve{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const fq={enterDuration:225,exitDuration:150},ZM=uf({passive:!0}),pq=["mousedown","touchstart"],mq=["mouseup","mouseleave","touchend","touchcancel"];class rve{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Fs(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},fq),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const o=r.radius||function sve(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),a=e-i.left,l=t-i.top,c=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=l-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=r.color&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u),function ive(n){window.getComputedStyle(n).getPropertyValue("opacity")}(u),u.style.transform="scale(1)";const d=new tve(this,u,r);return d.state=0,this._activeRipples.add(d),r.persistent||(this._mostRecentTransientRipple=d),this._runTimeoutOutsideZone(()=>{const h=d===this._mostRecentTransientRipple;d.state=1,!r.persistent&&(!h||!this._isPointerDown)&&d.fadeOut()},c),d}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,i=Object.assign(Object.assign({},fq),e.config.animation);r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Fs(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(pq))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(mq),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=mG(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!gG(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,ZM)})})}_removeTriggerEvents(){this._triggerElement&&(pq.forEach(e=>{this._triggerElement.removeEventListener(e,this,ZM)}),this._pointerUpEventsRegistered&&mq.forEach(e=>{this._triggerElement.removeEventListener(e,this,ZM)}))}}const ove=new P("mat-ripple-global-options");let gq=(()=>{class n{constructor(t,r,i,s,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new rve(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(v(Ze),v(he),v(Bn),v(ove,8),v(Vs,8))},n.\u0275dir=B({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&On("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),ave=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Re({imports:[[tr],tr]}),n})();function lve(n,e){}class JM{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const cve={dialogContainer:TM("dialogContainer",[pf("void, exit",mr({opacity:0,transform:"scale(0.7)"})),pf("enter",mr({transform:"none"})),mf("* => enter",CG([ff("150ms cubic-bezier(0, 0, 0.2, 1)",mr({transform:"none",opacity:1})),TG("@*",IG(),{optional:!0})])),mf("* => void, * => exit",CG([ff("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",mr({opacity:0})),TG("@*",IG(),{optional:!0})]))])};let uve=(()=>{class n extends vM{constructor(t,r,i,s,o,a,l,c){super(),this._elementRef=t,this._focusTrapFactory=r,this._changeDetectorRef=i,this._config=o,this._interactivityChecker=a,this._ngZone=l,this._focusMonitor=c,this._animationStateChanged=new Je,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=u=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(u)),this._ariaLabelledBy=o.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=mM())}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const r=mM(),i=this._elementRef.nativeElement;(!r||r===this._document.body||r===i||i.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=mM();return t===r||t.contains(r)}}return n.\u0275fac=function(t){return new(t||n)(v(Ze),v($ge),v(eo),v(_e,8),v(JM),v(hG),v(he),v(EM))},n.\u0275dir=B({type:n,viewQuery:function(t,r){if(1&t&&Zo($z,7),2&t){let i;Xt(i=Zt())&&(r._portalOutlet=i.first)}},features:[we]}),n})(),dve=(()=>{class n extends uve{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:r}){"enter"===t?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:t,totalTime:r}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=fn(n)))(r||n)}}(),n.\u0275cmp=Kt({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,r){1&t&&gw("@dialogContainer.start",function(s){return r._onAnimationStart(s)})("@dialogContainer.done",function(s){return r._onAnimationDone(s)}),2&t&&(cd("id",r._id),Rn("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),bw("@dialogContainer",r._state))},features:[we],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&st(0,lve,0,0,"ng-template",0)},directives:[$z],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[cve.dialogContainer]}}),n})(),hve=0;class bf{constructor(e,t,r="mat-dialog-"+hve++){this._overlayRef=e,this._containerInstance=t,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Pe,this._afterClosed=new Pe,this._beforeClosed=new Pe,this._state=0,t._id=r,t._animationStateChanged.pipe(Mr(i=>"opened"===i.state),yr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Mr(i=>"closed"===i.state),yr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(Mr(i=>27===i.keyCode&&!this.disableClose&&!rG(i))).subscribe(i=>{i.preventDefault(),ex(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():ex(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Mr(t=>"closing"===t.state),yr(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function ex(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const fve=new P("MatDialogData"),pve=new P("mat-dialog-default-options"),_q=new P("mat-dialog-scroll-strategy"),gve={provide:_q,deps:[su],useFactory:function mve(n){return()=>n.scrollStrategies.block()}};let _ve=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u,d){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=s,this._overlayContainer=o,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Pe,this._afterOpenedAtThisLevel=new Pe,this._ariaHiddenElements=new Map,this.afterAllClosed=AC(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(uc(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,r){r=function yve(n,e){return Object.assign(Object.assign({},e),n)}(r,this._defaultOptions||new JM),r.id&&this.getDialogById(r.id);const i=this._createOverlay(r),s=this._attachDialogContainer(i,r),o=this._attachDialogContent(t,s,i,r);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe(()=>this._removeOpenDialog(o)),this.afterOpened.next(o),s._initializeWithAttachedContent(),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const r=this._getOverlayConfig(t);return this._overlay.create(r)}_getOverlayConfig(t){const r=new Kz({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachDialogContainer(t,r){const s=ct.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:JM,useValue:r}]}),o=new Q_(this._dialogContainerType,r.viewContainerRef,s,r.componentFactoryResolver);return t.attach(o).instance}_attachDialogContent(t,r,i,s){const o=new this._dialogRefConstructor(i,r,s.id);if(t instanceof Oi)r.attachTemplatePortal(new Hz(t,null,{$implicit:s.data,dialogRef:o}));else{const a=this._createInjector(s,o,r),l=r.attachComponentPortal(new Q_(t,s.viewContainerRef,a,s.componentFactoryResolver));o.componentInstance=l.instance}return o.updateSize(s.width,s.height).updatePosition(s.position),o}_createInjector(t,r,i){const s=t&&t.viewContainerRef&&t.viewContainerRef.injector,o=[{provide:this._dialogContainerType,useValue:i},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:r}];return t.direction&&(!s||!s.get(df,null,te.Optional))&&o.push({provide:df,useValue:{value:t.direction,change:K()}}),ct.create({parent:s||this._injector,providers:o})}_removeOpenDialog(t){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((i,s)=>{i?s.setAttribute("aria-hidden",i):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){let s=r[i];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){rd()},n.\u0275dir=B({type:n}),n})(),wf=(()=>{class n extends _ve{constructor(t,r,i,s,o,a,l,c){super(t,r,s,a,l,o,bf,dve,fve,c)}}return n.\u0275fac=function(t){return new(t||n)(E(su),E(ct),E(Cd,8),E(pve,8),E(_q),E(n,12),E(wM),E(Vs,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})(),vve=0,tx=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this._elementRef=r,this._dialog=i,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=vq(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const r=t._matDialogClose||t._matDialogCloseResult;r&&(this.dialogResult=r.currentValue)}_onButtonClick(t){ex(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(t){return new(t||n)(v(bf,8),v(Ze),v(wf))},n.\u0275dir=B({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,r){1&t&&Ve("click",function(s){return r._onButtonClick(s)}),2&t&&Rn("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[zn]}),n})(),nx=(()=>{class n{constructor(t,r,i){this._dialogRef=t,this._elementRef=r,this._dialog=i,this.id="mat-dialog-title-"+vve++}ngOnInit(){this._dialogRef||(this._dialogRef=vq(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(t){return new(t||n)(v(bf,8),v(Ze),v(wf))},n.\u0275dir=B({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,r){2&t&&cd("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),yq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=B({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),rx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=B({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),n})();function vq(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-dialog-container");)t=t.parentElement;return t?e.find(r=>r.id===t.id):null}let bve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Re({providers:[wf,gve],imports:[[eG,zz,tr],tr]}),n})();const wve=["connectionContainer"],Cve=["inputContainer"],Eve=["label"];function Ive(n,e){1&n&&(id(0),z(1,"div",14),Qt(2,"div",15)(3,"div",16)(4,"div",17),q(),z(5,"div",18),Qt(6,"div",15)(7,"div",16)(8,"div",17),q(),sd())}function Tve(n,e){if(1&n){const t=cs();z(0,"div",19),Ve("cdkObserveContent",function(){return rs(t),vt().updateOutlineGap()}),Sr(1,1),q()}2&n&&de("cdkObserveContentDisabled","outline"!=vt().appearance)}function Dve(n,e){if(1&n&&(id(0),Sr(1,2),z(2,"span"),ze(3),q(),sd()),2&n){const t=vt(2);ge(3),ds(t._control.placeholder)}}function Sve(n,e){1&n&&Sr(0,3,["*ngSwitchCase","true"])}function Ave(n,e){1&n&&(z(0,"span",23),ze(1," *"),q())}function Mve(n,e){if(1&n){const t=cs();z(0,"label",20,21),Ve("cdkObserveContent",function(){return rs(t),vt().updateOutlineGap()}),st(2,Dve,4,1,"ng-container",12),st(3,Sve,1,0,"ng-content",12),st(4,Ave,2,0,"span",22),q()}if(2&n){const t=vt();On("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),de("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),Rn("for",t._control.id)("aria-owns",t._control.id),ge(2),de("ngSwitchCase",!1),ge(1),de("ngSwitchCase",!0),ge(1),de("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function xve(n,e){1&n&&(z(0,"div",24),Sr(1,4),q())}function kve(n,e){if(1&n&&(z(0,"div",25),Qt(1,"span",26),q()),2&n){const t=vt();ge(1),On("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function Rve(n,e){1&n&&(z(0,"div"),Sr(1,5),q()),2&n&&de("@transitionMessages",vt()._subscriptAnimationState)}function Ove(n,e){if(1&n&&(z(0,"div",30),ze(1),q()),2&n){const t=vt(2);de("id",t._hintLabelId),ge(1),ds(t.hintLabel)}}function Pve(n,e){if(1&n&&(z(0,"div",27),st(1,Ove,2,2,"div",28),Sr(2,6),Qt(3,"div",29),Sr(4,7),q()),2&n){const t=vt();de("@transitionMessages",t._subscriptAnimationState),ge(1),de("ngIf",t.hintLabel)}}const Nve=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Fve=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],Lve=new P("MatError"),Vve={transitionMessages:TM("transitionMessages",[pf("enter",mr({opacity:1,transform:"translateY(0%)"})),mf("void => enter",[mr({opacity:0,transform:"translateY(-5px)"}),ff("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let ix=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=B({type:n}),n})();const Bve=new P("MatHint");let sx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=B({type:n,selectors:[["mat-label"]]}),n})(),Uve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=B({type:n,selectors:[["mat-placeholder"]]}),n})();const jve=new P("MatPrefix"),Hve=new P("MatSuffix");let bq=0;const zve=XM(class{constructor(n){this._elementRef=n}},"primary"),Gve=new P("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Cq=new P("MatFormField");let qve=(()=>{class n extends zve{constructor(t,r,i,s,o,a,l){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=s,this._platform=o,this._ngZone=a,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Pe,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+bq++,this._labelId="mat-form-field-label-"+bq++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==l,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Ns(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(uc(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(pr(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(pr(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Dv(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(uc(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(uc(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(pr(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,q_(this._label.nativeElement,"transitionend").pipe(yr(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,i=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,i=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const u=r.querySelectorAll(`${i}, ${s}`);for(let d=0;d<u.length;d++)u[d].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let o=0,a=0;const l=r.querySelectorAll(i),c=r.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const u=r.getBoundingClientRect();if(0===u.width&&0===u.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const d=this._getStartEnd(u),h=t.children,f=this._getStartEnd(h[0].getBoundingClientRect());let p=0;for(let m=0;m<h.length;m++)p+=h[m].offsetWidth;o=Math.abs(f-d)-5,a=p>0?.75*p+10:0}for(let u=0;u<l.length;u++)l[u].style.width=`${o}px`;for(let u=0;u<c.length;u++)c[u].style.width=`${a}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(v(Ze),v(eo),v(df,8),v(Gve,8),v(Bn),v(he),v(Vs,8))},n.\u0275cmp=Kt({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&($r(i,ix,5),$r(i,ix,7),$r(i,sx,5),$r(i,sx,7),$r(i,Uve,5),$r(i,Lve,5),$r(i,Bve,5),$r(i,jve,5),$r(i,Hve,5)),2&t){let s;Xt(s=Zt())&&(r._controlNonStatic=s.first),Xt(s=Zt())&&(r._controlStatic=s.first),Xt(s=Zt())&&(r._labelChildNonStatic=s.first),Xt(s=Zt())&&(r._labelChildStatic=s.first),Xt(s=Zt())&&(r._placeholderChild=s.first),Xt(s=Zt())&&(r._errorChildren=s),Xt(s=Zt())&&(r._hintChildren=s),Xt(s=Zt())&&(r._prefixChildren=s),Xt(s=Zt())&&(r._suffixChildren=s)}},viewQuery:function(t,r){if(1&t&&(Zo(wve,7),Zo(Cve,5),Zo(Eve,5)),2&t){let i;Xt(i=Zt())&&(r._connectionContainerRef=i.first),Xt(i=Zt())&&(r._inputContainerRef=i.first),Xt(i=Zt())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&On("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[Xe([{provide:Cq,useExisting:n}]),we],ngContentSelectors:Fve,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(ad(Nve),z(0,"div",0)(1,"div",1,2),Ve("click",function(s){return r._control.onContainerClick&&r._control.onContainerClick(s)}),st(3,Ive,9,0,"ng-container",3),st(4,Tve,2,1,"div",4),z(5,"div",5,6),Sr(7),z(8,"span",7),st(9,Mve,5,16,"label",8),q()(),st(10,xve,2,0,"div",9),q(),st(11,kve,2,4,"div",10),z(12,"div",11),st(13,Rve,2,1,"div",12),st(14,Pve,5,2,"div",13),q()()),2&t&&(ge(3),de("ngIf","outline"==r.appearance),ge(1),de("ngIf",r._prefixChildren.length),ge(5),de("ngIf",r._hasFloatingLabel()),ge(1),de("ngIf",r._suffixChildren.length),ge(1),de("ngIf","outline"!=r.appearance),ge(1),de("ngSwitch",r._getDisplayedMessages()),ge(1),de("ngSwitchCase","error"),ge(1),de("ngSwitchCase","hint"))},directives:[mC,Age,vm,oL],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Vve.transitionMessages]},changeDetection:0}),n})(),ox=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Re({imports:[[vC,tr,aG],tr]}),n})();function Eq(...n){const e=dR(n),{args:t,keys:r}=SL(n),i=new He(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;_r(t[u]).subscribe(ft(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?AL(r,a):a),s.complete())}))}});return e?i.pipe(SC(e)):i}let Iq=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(v(hs),v(Ze))},n.\u0275dir=B({type:n}),n})(),il=(()=>{class n extends Iq{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=fn(n)))(r||n)}}(),n.\u0275dir=B({type:n,features:[we]}),n})();const Wi=new P("NgValueAccessor"),Kve={provide:Wi,useExisting:Ke(()=>vy),multi:!0},Qve=new P("CompositionEventMode");let vy=(()=>{class n extends Iq{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Yve(){const n=Pi()?Pi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(v(hs),v(Ze),v(Qve,8))},n.\u0275dir=B({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&Ve("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Xe([Kve]),we]}),n})();function Io(n){return null==n||0===n.length}function Dq(n){return null!=n&&"number"==typeof n.length}const Un=new P("NgValidators"),To=new P("NgAsyncValidators"),Xve=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Zve{static min(e){return function Sq(n){return e=>{if(Io(e.value)||Io(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Aq(n){return e=>{if(Io(e.value)||Io(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function Mq(n){return Io(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function xq(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function kq(n){return Io(n.value)||Xve.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Rq(n){return e=>Io(e.value)||!Dq(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Oq(n){return e=>Dq(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Pq(n){if(!n)return by;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Io(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Uq(e)}static composeAsync(e){return jq(e)}}function by(n){return null}function Nq(n){return null!=n}function Fq(n){const e=od(n)?Wt(n):n;return mw(e),e}function Lq(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Vq(n,e){return e.map(t=>t(n))}function Bq(n){return n.map(e=>function Jve(n){return!n.validate}(e)?e:t=>e.validate(t))}function Uq(n){if(!n)return null;const e=n.filter(Nq);return 0==e.length?null:function(t){return Lq(Vq(t,e))}}function ax(n){return null!=n?Uq(Bq(n)):null}function jq(n){if(!n)return null;const e=n.filter(Nq);return 0==e.length?null:function(t){return Eq(Vq(t,e).map(Fq)).pipe(me(Lq))}}function lx(n){return null!=n?jq(Bq(n)):null}function Hq(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function $q(n){return n._rawValidators}function zq(n){return n._rawAsyncValidators}function cx(n){return n?Array.isArray(n)?n:[n]:[]}function wy(n,e){return Array.isArray(n)?n.includes(e):n===e}function Gq(n,e){const t=cx(e);return cx(n).forEach(i=>{wy(t,i)||t.push(i)}),t}function qq(n,e){return cx(e).filter(t=>!wy(n,t))}class Wq{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ax(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=lx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Bs extends Wq{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class nr extends Wq{get formDirective(){return null}get path(){return null}}let Yq=(()=>{class n extends class Kq{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(v(Bs,2))},n.\u0275dir=B({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&On("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[we]}),n})();function Cf(n,e){hx(n,e),e.valueAccessor.writeValue(n.value),function lbe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Xq(n,e)})}(n,e),function ube(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function cbe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Xq(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function abe(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Iy(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Dy(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ty(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function hx(n,e){const t=$q(n);null!==e.validator?n.setValidators(Hq(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=zq(n);null!==e.asyncValidator?n.setAsyncValidators(Hq(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Ty(e._rawValidators,i),Ty(e._rawAsyncValidators,i)}function Dy(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=$q(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=zq(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return Ty(e._rawValidators,r),Ty(e._rawAsyncValidators,r),t}function Xq(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Zq(n,e){hx(n,e)}function eW(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function mx(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Ef="VALID",Sy="INVALID",cu="PENDING",If="DISABLED";function _x(n){return(Ay(n)?n.validators:n)||null}function tW(n){return Array.isArray(n)?ax(n):n||null}function yx(n,e){return(Ay(e)?e.asyncValidators:n)||null}function nW(n){return Array.isArray(n)?lx(n):n||null}function Ay(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const rW=n=>n instanceof aW,vx=n=>n instanceof wx;function iW(n){return rW(n)?n.value:n.getRawValue()}function sW(n,e){const t=vx(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new V(1e3,"");if(!r[e])throw new V(1001,"")}function oW(n,e){vx(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new V(1002,"")})}class bx{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=tW(this._rawValidators),this._composedAsyncValidatorFn=nW(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ef}get invalid(){return this.status===Sy}get pending(){return this.status==cu}get disabled(){return this.status===If}get enabled(){return this.status!==If}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=tW(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=nW(e)}addValidators(e){this.setValidators(Gq(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Gq(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(qq(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(qq(e,this._rawAsyncValidators))}hasValidator(e){return wy(this._rawValidators,e)}hasAsyncValidator(e){return wy(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=cu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=If,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ef,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ef||this.status===cu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?If:Ef}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=cu,this._hasOwnPendingAsyncValidator=!0;const t=Fq(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function pbe(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=vx(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof gbe)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Je,this.statusChanges=new Je}_calculateStatus(){return this._allControlsDisabled()?If:this.errors?Sy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(cu)?cu:this._anyControlsHaveStatus(Sy)?Sy:Ef}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ay(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class aW extends bx{constructor(e=null,t,r){super(_x(t),yx(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ay(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){mx(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){mx(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class wx extends bx{constructor(e,t,r){super(_x(t),yx(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){oW(this,e),Object.keys(e).forEach(r=>{sW(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=iW(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class gbe extends bx{constructor(e,t,r){super(_x(t),yx(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){oW(this,e),e.forEach((r,i)=>{sW(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>iW(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const _be={provide:nr,useExisting:Ke(()=>My)},Tf=(()=>Promise.resolve(null))();let My=(()=>{class n extends nr{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new Je,this.form=new wx({},ax(t),lx(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Tf.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Cf(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Tf.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Tf.then(()=>{const r=this._findContainer(t.path),i=new wx({});Zq(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Tf.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Tf.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,eW(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(v(Un,10),v(To,10))},n.\u0275dir=B({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&Ve("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Xe([_be]),we]}),n})();const vbe={provide:Bs,useExisting:Ke(()=>Cx)},uW=(()=>Promise.resolve(null))();let Cx=(()=>{class n extends Bs{constructor(t,r,i,s,o){super(),this._changeDetectorRef=o,this.control=new aW,this._registered=!1,this.update=new Je,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function px(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===vy?t=s:function fbe(n){return Object.getPrototypeOf(n.constructor)===il}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function fx(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Cf(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){uW.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;uW.then(()=>{var s;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(t){return this._parent?function Ey(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(v(nr,9),v(Un,10),v(To,10),v(Wi,10),v(eo,8))},n.\u0275dir=B({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Xe([vbe]),we,zn]}),n})(),hW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Re({}),n})();const Dbe={provide:nr,useExisting:Ke(()=>xy)};let xy=(()=>{class n extends nr{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Je,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Dy(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Cf(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Iy(t.control||null,t,!1),mx(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,eW(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Iy(r||null,t),rW(i)&&(Cf(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);Zq(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function dbe(n,e){return Dy(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){hx(this.form,this),this._oldForm&&Dy(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(v(Un,10),v(To,10))},n.\u0275dir=B({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&Ve("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Xe([Dbe]),we,zn]}),n})(),Gbe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Re({imports:[[hW]]}),n})(),qbe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Re({imports:[Gbe]}),n})();const xW=uf({passive:!0});let Wbe=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Ci;const r=Fs(t),i=this._monitoredElements.get(r);if(i)return i.subject;const s=new Pe,o="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||r.classList.contains(o)?"cdk-text-field-autofill-end"===l.animationName&&r.classList.contains(o)&&(r.classList.remove(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!1}))):(r.classList.add(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",a,xW),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:s,unlisten:()=>{r.removeEventListener("animationstart",a,xW)}}),s}stopMonitoring(t){const r=Fs(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(E(Bn),E(he))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Re({}),n})();const Kbe=new P("MAT_INPUT_VALUE_ACCESSOR"),Ybe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Qbe=0;const Xbe=Jye(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r}});let Zbe=(()=>{class n extends Xbe{constructor(t,r,i,s,o,a,l,c,u,d){super(a,s,o,i),this._elementRef=t,this._platform=r,this._autofillMonitor=c,this._formField=d,this._uid="mat-input-"+Qbe++,this.focused=!1,this.stateChanges=new Pe,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(p=>Vz().has(p)),this._iOSKeyupListener=p=>{const m=p.target;!m.value&&0===m.selectionStart&&0===m.selectionEnd&&(m.setSelectionRange(1,1),m.setSelectionRange(0,0))};const h=this._elementRef.nativeElement,f=h.nodeName.toLowerCase();this._inputValueAccessor=l||h,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===f,this._isTextarea="textarea"===f,this._isInFormField=!!d,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Ns(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,r,i,s;return null!==(s=null!==(t=this._required)&&void 0!==t?t:null===(i=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===i?void 0:i.hasValidator(Zve.required))&&void 0!==s&&s}set required(t){this._required=Ns(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Vz().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Ns(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,r;const i=(null===(r=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===r?void 0:r.call(t))?null:this.placeholder;if(i!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=i,i?s.setAttribute("placeholder",i):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){Ybe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(v(Ze),v(Bn),v(Bs,10),v(My,8),v(xy,8),v(hq),v(Kbe,10),v(Wbe),v(he),v(Cq,8))},n.\u0275dir=B({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,r){1&t&&Ve("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(cd("disabled",r.disabled)("required",r.required),Rn("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),On("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Xe([{provide:ix,useExisting:n}]),we,zn]}),n})(),Jbe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Re({providers:[hq],imports:[[kW,ox,tr],kW,ox]}),n})();const ewe=["mat-button",""],twe=["*"],rwe=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],iwe=XM(Xye(Zye(class{constructor(n){this._elementRef=n}})));let ky=(()=>{class n extends iwe{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of rwe)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(v(Ze),v(EM),v(Vs,8))},n.\u0275cmp=Kt({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&Zo(gq,5),2&t){let i;Xt(i=Zt())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(Rn("disabled",r.disabled||null),On("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[we],attrs:ewe,ngContentSelectors:twe,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(ad(),z(0,"span",0),Sr(1),q(),Qt(2,"span",1)(3,"span",2)),2&t&&(ge(2),On("mat-button-ripple-round",r.isRoundButton||r.isIconButton),de("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[gq],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),swe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Re({imports:[[ave,tr],tr]}),n})(),owe=(()=>{class n{constructor(t){this.dialogRef=t,this.name=""}ngOnInit(){}onNoClick(){this.dialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(v(bf))},n.\u0275cmp=Kt({type:n,selectors:[["app-dialog-add-player"]],decls:14,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["matInput","",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"disabled","mat-dialog-close"]],template:function(t,r){1&t&&(z(0,"h1",0),ze(1,"Add new player"),q(),z(2,"div",1)(3,"p"),ze(4,"Please enter the name of a player"),q(),z(5,"mat-form-field")(6,"mat-label"),ze(7,"Name"),q(),z(8,"input",2),Ve("ngModelChange",function(s){return r.name=s}),q()()(),z(9,"div",3)(10,"button",4),Ve("click",function(){return r.onNoClick()}),ze(11,"No Thanks"),q(),z(12,"button",5),ze(13,"Ok"),q()()),2&t&&(ge(8),de("ngModel",r.name),ge(4),de("disabled",0==r.name.length)("mat-dialog-close",r.name))},directives:[nx,yq,qve,sx,Zbe,vy,Yq,Cx,rx,ky,tx],styles:[""]}),n})();class awe{constructor(e,t){this._document=t;const r=this._textarea=this._document.createElement("textarea"),i=r.style;i.position="fixed",i.top=i.opacity="0",i.left="-999em",r.setAttribute("aria-hidden","true"),r.value=e,this._document.body.appendChild(r)}copy(){const e=this._textarea;let t=!1;try{if(e){const r=this._document.activeElement;e.select(),e.setSelectionRange(0,e.value.length),t=this._document.execCommand("copy"),r&&r.focus()}}catch(r){}return t}destroy(){const e=this._textarea;e&&(e.remove(),this._textarea=void 0)}}let lwe=(()=>{class n{constructor(t){this._document=t}copy(t){const r=this.beginCopy(t),i=r.copy();return r.destroy(),i}beginCopy(t){return new awe(t,this._document)}}return n.\u0275fac=function(t){return new(t||n)(E(_e))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const RW=new Set;let uu,cwe=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):dwe}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function uwe(n){if(!RW.has(n))try{uu||(uu=document.createElement("style"),uu.setAttribute("type","text/css"),document.head.appendChild(uu)),uu.sheet&&(uu.sheet.insertRule(`@media ${n} {body{ }}`,0),RW.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(E(Bn))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dwe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let hwe=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Pe}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return OW(G_(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let s=ML(OW(G_(t)).map(o=>this._registerQuery(o).observable));return s=Dm(s.pipe(yr(1)),s.pipe(iG(1),sG(0))),s.pipe(me(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),s={observable:new He(o=>{const a=l=>this._zone.run(()=>o.next(l));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(uc(r),me(({matches:o})=>({query:t,matches:o})),pr(this._destroySubject)),mql:r};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(E(cwe),E(he))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function OW(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const pwe=["tooltip"],PW="tooltip-panel",NW=uf({passive:!0}),FW=new P("mat-tooltip-scroll-strategy"),ywe={provide:FW,deps:[su],useFactory:function _we(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},vwe=new P("mat-tooltip-default-options",{providedIn:"root",factory:function bwe(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let wwe=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u,d,h,f){this._overlay=t,this._elementRef=r,this._scrollDispatcher=i,this._viewContainerRef=s,this._ngZone=o,this._platform=a,this._ariaDescriber=l,this._focusMonitor=c,this._dir=d,this._defaultOptions=h,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Pe,this._scrollStrategy=u,this._document=f,h&&(h.position&&(this.position=h.position),h.touchGestures&&(this.touchGestures=h.touchGestures)),d.change.pipe(pr(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(t){var r;t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(r=this._tooltipInstance)||void 0===r||r.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=Ns(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=dM(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=dM(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(pr(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([r,i])=>{t.removeEventListener(r,i,NW)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const r=this._createOverlay();this._detach(),this._portal=this._portal||new Q_(this._tooltipComponent,this._viewContainerRef);const i=this._tooltipInstance=r.attach(this._portal).instance;i._triggerElement=this._elementRef.nativeElement,i._mouseLeaveHideDelay=this._hideDelay,i.afterHidden().pipe(pr(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),i.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){var t;if(this._overlayRef)return this._overlayRef;const r=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(r);return i.positionChanges.pipe(pr(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${PW}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(pr(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(pr(this._destroyed)).subscribe(()=>{var s;return null===(s=this._tooltipInstance)||void 0===s?void 0:s._handleBodyInteraction()}),this._overlayRef.keydownEvents().pipe(pr(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&27===s.keyCode&&!rG(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),(null===(t=this._defaultOptions)||void 0===t?void 0:t.disableTooltipInteractivity)&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const r=t.getConfig().positionStrategy,i=this._getOrigin(),s=this._getOverlayPosition();r.withPositions([this._addOffset(Object.assign(Object.assign({},i.main),s.main)),this._addOffset(Object.assign(Object.assign({},i.fallback),s.fallback))])}_addOffset(t){return t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r||"below"==r?i={originX:"center",originY:"above"==r?"top":"bottom"}:"before"==r||"left"==r&&t||"right"==r&&!t?i={originX:"start",originY:"center"}:("after"==r||"right"==r&&t||"left"==r&&!t)&&(i={originX:"end",originY:"center"});const{x:s,y:o}=this._invertPosition(i.originX,i.originY);return{main:i,fallback:{originX:s,originY:o}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r?i={overlayX:"center",overlayY:"bottom"}:"below"==r?i={overlayX:"center",overlayY:"top"}:"before"==r||"left"==r&&t||"right"==r&&!t?i={overlayX:"end",overlayY:"center"}:("after"==r||"right"==r&&t||"left"==r&&!t)&&(i={overlayX:"start",overlayY:"center"});const{x:s,y:o}=this._invertPosition(i.overlayX,i.overlayY);return{main:i,fallback:{overlayX:s,overlayY:o}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(yr(1),pr(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,r){return"above"===this.position||"below"===this.position?"top"===r?r="bottom":"bottom"===r&&(r="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:r}}_updateCurrentPositionClass(t){const{overlayY:r,originX:i,originY:s}=t;let o;if(o="center"===r?this._dir&&"rtl"===this._dir.value?"end"===i?"left":"right":"start"===i?"left":"right":"bottom"===r&&"top"===s?"above":"below",o!==this._currentPosition){const a=this._overlayRef;if(a){const l=`${this._cssClassPrefix}-${PW}-`;a.removePanelClass(l+this._currentPosition),a.addPanelClass(l+o)}this._currentPosition=o}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",r=>{var i;const s=r.relatedTarget;(!s||!(null===(i=this._overlayRef)||void 0===i?void 0:i.overlayElement.contains(s)))&&this.hide()}],["wheel",r=>this._wheelListener(r)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const r=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",r],["touchcancel",r])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([r,i])=>{this._elementRef.nativeElement.addEventListener(r,i,NW)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const r=this._document.elementFromPoint(t.clientX,t.clientY),i=this._elementRef.nativeElement;r!==i&&!i.contains(r)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const r=this._elementRef.nativeElement,i=r.style;("on"===t||"INPUT"!==r.nodeName&&"TEXTAREA"!==r.nodeName)&&(i.userSelect=i.msUserSelect=i.webkitUserSelect=i.MozUserSelect="none"),("on"===t||!r.draggable)&&(i.webkitUserDrag="none"),i.touchAction="none",i.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(t){rd()},n.\u0275dir=B({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),LW=(()=>{class n extends wwe{constructor(t,r,i,s,o,a,l,c,u,d,h,f){super(t,r,i,s,o,a,l,c,u,d,h,f),this._tooltipComponent=Ewe}}return n.\u0275fac=function(t){return new(t||n)(v(su),v(Ze),v(Bz),v(Ar),v(he),v(Bn),v(kge),v(EM),v(FW),v(df,8),v(vwe,8),v(_e))},n.\u0275dir=B({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[we]}),n})(),Cwe=(()=>{class n{constructor(t,r){this._changeDetectorRef=t,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Pe,this._animationsDisabled="NoopAnimations"===r}show(t){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const r=this._tooltip.nativeElement,i=this._showAnimation,s=this._hideAnimation;if(r.classList.remove(t?s:i),r.classList.add(t?i:s),this._isVisible=t,t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const o=getComputedStyle(r);("0s"===o.getPropertyValue("animation-duration")||"none"===o.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(r.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}}return n.\u0275fac=function(t){return new(t||n)(v(eo),v(Vs,8))},n.\u0275dir=B({type:n}),n})(),Ewe=(()=>{class n extends Cwe{constructor(t,r,i){super(t,i),this._breakpointObserver=r,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(t){return new(t||n)(v(eo),v(hwe),v(Vs,8))},n.\u0275cmp=Kt({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(t,r){if(1&t&&Zo(pwe,7),2&t){let i;Xt(i=Zt())&&(r._tooltip=i.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,r){1&t&&Ve("mouseleave",function(s){return r._handleMouseLeave(s)}),2&t&&yw("zoom",r.isVisible()?1:null)},features:[we],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(t,r){if(1&t&&(z(0,"div",0,1),Ve("animationend",function(s){return r._handleAnimationEnd(s)}),function Y1(n,e){const t=Ae();let r;const i=n+20;t.firstCreatePass?(r=function V9(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=qo(r.type)),o=zs(v);try{const a=Cp(!1),l=s();return Cp(a),function aY(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,T(),i,l),l}finally{zs(o)}}(2,"async"),ze(3),q()),2&t){let i;On("mat-tooltip-handset",null==(i=function Q1(n,e,t){const r=n+20,i=T(),s=function Tl(n,e){return n[e]}(i,r);return function _d(n,e){return n[1].data[e].pure}(i,r)?z1(i,Gn(),e,s.transform,t,s):s.transform(t)}(2,4,r._isHandset))?null:i.matches),de("ngClass",r.tooltipClass),ge(3),ds(r.message)}},directives:[rL],pipes:[cL],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}\n"],encapsulation:2,changeDetection:0}),n})(),Iwe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Re({providers:[ywe],imports:[[Yge,vC,eG,tr],tr,_M]}),n})();class Twe{}class Do{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Do?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Do;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Do?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Dwe{encodeKey(e){return VW(e)}encodeValue(e){return VW(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Awe=/%(\d[a-f0-9])/gi,Mwe={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function VW(n){return encodeURIComponent(n).replace(Awe,(e,t)=>{var r;return null!==(r=Mwe[t])&&void 0!==r?r:e})}function BW(n){return`${n}`}class So{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Dwe,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Swe(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new So({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(BW(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(BW(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class xwe{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function UW(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function jW(n){return"undefined"!=typeof Blob&&n instanceof Blob}function HW(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Df{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function kwe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Do),this.context||(this.context=new xwe),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new So,this.urlWithParams=t}serializeBody(){return null===this.body?null:UW(this.body)||jW(this.body)||HW(this.body)||function Rwe(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof So?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||HW(this.body)?null:jW(this.body)?this.body.type||null:UW(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof So?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,s=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,l=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,u=e.params||this.params;const d=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((h,f)=>h.set(f,e.setHeaders[f]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((h,f)=>h.set(f,e.setParams[f]),u)),new Df(r,i,o,{params:u,headers:c,context:d,reportProgress:l,responseType:s,withCredentials:a})}}var Dn=(()=>((Dn=Dn||{})[Dn.Sent=0]="Sent",Dn[Dn.UploadProgress=1]="UploadProgress",Dn[Dn.ResponseHeader=2]="ResponseHeader",Dn[Dn.DownloadProgress=3]="DownloadProgress",Dn[Dn.Response=4]="Response",Dn[Dn.User=5]="User",Dn))();class Ax extends class Owe{constructor(e,t=200,r="OK"){this.headers=e.headers||new Do,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=Dn.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Ax({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function Mx(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let zW=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Df)s=t;else{let l,c;l=i.headers instanceof Do?i.headers:new Do(i.headers),i.params&&(c=i.params instanceof So?i.params:new So({fromObject:i.params})),s=new Df(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=K(s).pipe(dc(l=>this.handler.handle(l)));if(t instanceof Df||"events"===i.observe)return o;const a=o.pipe(Mr(l=>l instanceof Ax));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(me(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(me(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(me(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(me(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new So).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Mx(i,r))}post(t,r,i={}){return this.request("POST",t,Mx(i,r))}put(t,r,i={}){return this.request("PUT",t,Mx(i,r))}}return n.\u0275fac=function(t){return new(t||n)(E(Twe))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();const Nwe=["*"];let Ry;function Sf(n){var e;return(null===(e=function Fwe(){if(void 0===Ry&&(Ry=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(Ry=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Ry}())||void 0===e?void 0:e.createHTML(n))||n}function GW(n){return Error(`Unable to find icon with the name "${n}"`)}function qW(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function WW(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class ol{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let Oy=(()=>{class n{constructor(t,r,i,s){this._httpClient=t,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,s){return this._addSvgIconConfig(t,r,new ol(i,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,s){const o=this._sanitizer.sanitize(Le.HTML,i);if(!o)throw WW(i);const a=Sf(o);return this._addSvgIconConfig(t,r,new ol("",a,s))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new ol(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const s=this._sanitizer.sanitize(Le.HTML,r);if(!s)throw WW(r);const o=Sf(s);return this._addSvgIconSetConfig(t,new ol("",o,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(Le.RESOURCE_URL,t);if(!r)throw qW(t);const i=this._cachedIconsByUrl.get(r);return i?K(Py(i)):this._loadSvgIconFromConfig(new ol(t,null)).pipe(pn(s=>this._cachedIconsByUrl.set(r,s)),me(s=>Py(s)))}getNamedSvgIcon(t,r=""){const i=KW(r,t);let s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,t),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(r);return o?this._getSvgFromIconSetConfigs(t,o):Sd(GW(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?K(Py(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(me(r=>Py(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?K(i):Eq(r.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(_s(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(Le.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),K(null)})))).pipe(me(()=>{const o=this._extractIconWithNameFromAnySet(t,r);if(!o)throw GW(t);return o}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const s=r[i];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,t,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(pn(r=>t.svgText=r),me(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?K(null):this._fetchIcon(t).pipe(pn(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const s=t.querySelector(`[id="${r}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,i);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),i);const a=this._svgElementFromString(Sf("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(Sf("<svg></svg>")),i=t.attributes;for(let s=0;s<i.length;s++){const{name:o,value:a}=i[s];"id"!==o&&r.setAttribute(o,a)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){var r;const{url:i,options:s}=t,o=null!==(r=null==s?void 0:s.withCredentials)&&void 0!==r&&r;if(!this._httpClient)throw function Lwe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const a=this._sanitizer.sanitize(Le.RESOURCE_URL,i);if(!a)throw qW(i);const l=this._inProgressUrlFetches.get(a);if(l)return l;const c=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(me(u=>Sf(u)),NL(()=>this._inProgressUrlFetches.delete(a)),fR());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(KW(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const s=this._resolvers[i](r,t);if(s)return Bwe(s)?new ol(s.url,null,s.options):new ol(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(E(zW,8),E(DC),E(_e,8),E(Qs))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Py(n){return n.cloneNode(!0)}function KW(n,e){return n+":"+e}function Bwe(n){return!(!n.url||!n.options)}const Uwe=XM(class{constructor(n){this._elementRef=n}}),jwe=new P("mat-icon-location",{providedIn:"root",factory:function Hwe(){const n=Mp(_e),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),YW=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],$we=YW.map(n=>`[${n}]`).join(", "),zwe=/^url\(['"]?#(.*?)['"]?\)$/;let QW=(()=>{class n extends Uwe{constructor(t,r,i,s,o){super(t),this._iconRegistry=r,this._location=s,this._errorHandler=o,this._inline=!1,this._currentIconFetch=hn.EMPTY,i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Ns(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),r&&t.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(o=>{s.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll($we),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)YW.forEach(o=>{const a=r[s],l=a.getAttribute(o),c=l?l.match(zwe):null;if(c){let u=i.get(a);u||(u=[],i.set(a,u)),u.push({name:o,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(yr(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(v(Ze),v(Oy),xl("aria-hidden"),v(jwe),v(Qs))},n.\u0275cmp=Kt({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(Rn("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),On("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[we],ngContentSelectors:Nwe,decls:1,vars:0,template:function(t,r){1&t&&(ad(),Sr(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),Gwe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Re({imports:[[tr],tr]}),n})(),qwe=(()=>{class n{constructor(t){this.clipboard=t,this.path=window.location.href}ngOnInit(){}copyLink(){window}copyText(t){this.clipboard.copy(t)}}return n.\u0275fac=function(t){return new(t||n)(v(lwe))},n.\u0275cmp=Kt({type:n,selectors:[["app-dialog-share"]],decls:14,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"link-container"],["matTooltip","Click to copy","matTooltipHideDelay","220",3,"click"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(t,r){1&t&&(z(0,"h1",0),ze(1,"Play with friends!"),q(),z(2,"div",1)(3,"p"),ze(4,"Copy the link below and share it with your friends"),q(),z(5,"div",2)(6,"span"),ze(7),q(),z(8,"button",3),Ve("click",function(){return r.copyText(r.path)}),z(9,"mat-icon"),ze(10,"content_copy"),q()()()(),z(11,"div",4)(12,"button",5),ze(13,"Close"),q()()),2&t&&(ge(7),ds(r.path))},directives:[nx,yq,LW,QW,rx,ky,tx],styles:["span[_ngcontent-%COMP%]{background-color:#8080803f}@media (max-width: 540px){span[_ngcontent-%COMP%]{display:block;word-break:break-all}}.link-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.link-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{cursor:pointer}.link-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;border:none;transition:all .1s ease}.link-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#8080801c}"]}),n})();function Wwe(n,e){if(1&n&&Qt(0,"img",5),2&n){const t=e.$implicit;us("src","./assets/img/",t,"",os),de("mat-dialog-close",t)}}let Kwe=(()=>{class n{constructor(t){this.dialogRef=t,this.allProfilePictures=["male.png","female.png"]}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(v(bf))},n.\u0275cmp=Kt({type:n,selectors:[["app-edit-player"]],decls:8,vars:2,consts:[["mat-dialog-title",""],["class","profile-picture",3,"mat-dialog-close","src",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","color","warn","cdkFocusInitial","",3,"mat-dialog-close"],[1,"profile-picture",3,"mat-dialog-close","src"]],template:function(t,r){1&t&&(z(0,"h1",0),ze(1,"Edit player"),q(),st(2,Wwe,1,2,"img",1),z(3,"div",2)(4,"button",3),Ve("click",function(){return r.dialogRef.close()}),ze(5,"Close"),q(),z(6,"button",4),ze(7,"Delete Player"),q()()),2&t&&(ge(2),de("ngForOf",r.allProfilePictures),ge(4),de("mat-dialog-close","DELETE"))},directives:[nx,pC,tx,rx,ky],styles:[".profile-picture[_ngcontent-%COMP%]{cursor:pointer}.profile-picture[_ngcontent-%COMP%]:hover{filter:brightness(1.1)}"]}),n})(),Ywe=(()=>{class n{constructor(){this.playerActive=!1,this.image="male.png"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Kt({type:n,selectors:[["app-player"]],inputs:{playerActive:"playerActive",name:"name",image:"image"},decls:4,vars:4,consts:[[1,"player"],[3,"src"]],template:function(t,r){1&t&&(z(0,"div",0),Qt(1,"img",1),z(2,"span"),ze(3),q()()),2&t&&(On("player-active",r.playerActive),ge(1),us("src","assets/img/",r.image,"",os),ge(2),ds(r.name))},styles:[".player[_ngcontent-%COMP%]{display:flex;align-items:center;min-width:200px;max-width:300px;overflow:hidden;background-color:#fffefd9c;border-top-left-radius:50px;border-bottom-left-radius:50px}.player[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;margin-left:16px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;padding-bottom:3px}.player[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;object-fit:cover;border-radius:100%}.player-active[_ngcontent-%COMP%]{background-color:orange!important}"]}),n})(),Qwe=(()=>{class n{constructor(){this.playerActive=!1,this.image="male.png"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Kt({type:n,selectors:[["app-player-mobile"]],inputs:{playerActive:"playerActive",name:"name",image:"image"},decls:4,vars:4,consts:[[1,"player"],[3,"src"]],template:function(t,r){1&t&&(z(0,"div",0)(1,"span"),ze(2),q(),Qt(3,"img",1),q()),2&t&&(On("player-active",r.playerActive),ge(2),ds(r.name),ge(1),us("src","./assets/img/",r.image,"",os))},styles:[".player[_ngcontent-%COMP%]{width:100px;background-color:#fffefd9c;overflow:hidden;display:flex;flex-direction:column;align-items:center;border-bottom-right-radius:50px;border-bottom-left-radius:50px}.player[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;text-align:center;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.player[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;object-fit:cover;border-radius:100%;margin-top:16px}.player-active[_ngcontent-%COMP%]{background-color:orange!important}"]}),n})();const Xwe=["*",[["mat-card-footer"]]],Zwe=["*","mat-card-footer"];let Jwe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=B({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),eCe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=B({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),tCe=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(v(Vs,8))},n.\u0275cmp=Kt({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,r){2&t&&On("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:Zwe,decls:2,vars:0,template:function(t,r){1&t&&(ad(Xwe),Sr(0),Sr(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),nCe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Re({imports:[[tr],tr]}),n})(),rCe=(()=>{class n{constructor(){this.cardAction=[{title:"Ace is for all.",description:"Everyone must say a verb."},{title:"2 is for you.",description:"The student selects another student in the class to say a noun."},{title:"3 is for me.",description:"The student who selects the card must say a verb."},{title:"4 is for the floor.",description:"Everyone must quickly touch the floor. The last student to touch the floor must say a noun."},{title:"5 is for guys.",description:"All of the male students must say a noun."},{title:"6 is for ladies",description:"All of the female students must say a noun."},{title:"7 is for heaven.",description:"Everyone must quickly put their hands in the air. The last student to put their hands up must say a verb."},{title:"8 is for mate or \u2018friend\u2019",description:"If a student selects an 8, then they must pick another student to spell a noun."},{title:"9 is for rhyme.",description:"If a student selects a 9, then they must say a word out loud. Then, each student in the group must say a rhyming word in succession going clockwise."},{title:"10 is for \u2018Never Have I Ever.\u2019",description:"Everyone holds up 3 fingers. The student that selected the card says, \u201cNever have I ever\u2026\u201d and completes the sentence. If other students have done that particular thing, then they must lower a finger. This continues until someone has no fingers left. The student without any fingers remaining must do something funny or challenging."},{title:"Jack is for rule.",description:"The student who selects the card makes a rule that must be followed for the whole game. If someone breaks the rule, then they have to spell a noun."},{title:"Queen is for question. ",description:"The student who selects the card asks another student a question."},{title:"King is for King\u2019s Cup.",description:"The student who selects the first King must assign a funny or challenging task. Then, the students who select the next 3 Kings must perform the task."}],this.title="",this.description=""}ngOnInit(){}ngOnChanges(){if(this.card){let t=+this.card.split("_")[1];this.title=this.cardAction[t-1].title,this.description=this.cardAction[t-1].description}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Kt({type:n,selectors:[["app-game-info"]],inputs:{card:"card"},features:[zn],decls:5,vars:2,template:function(t,r){1&t&&(z(0,"mat-card")(1,"mat-card-title"),ze(2),q(),z(3,"mat-card-content"),ze(4),q()()),2&t&&(ge(2),Kp(" ",r.card?r.title:"Please pick a card or add a new player!",""),ge(2),ds(r.card?r.description:"Please click on the cardstack to select the next card or click on the plus to add a new player."))},directives:[tCe,eCe,Jwe],styles:["@media (max-width: 720px){mat-card[_ngcontent-%COMP%]{min-height:120px}}"]}),n})();const iCe=function(n){return{"top.px":n}};function sCe(n,e){if(1&n){const t=cs();z(0,"app-player",9),Ve("click",function(){const s=rs(t).index;return vt().editPlayer(s)}),q()}if(2&n){const t=e.$implicit,r=e.index,i=vt();de("playerActive",r==i.game.currentPlayer)("image",i.game.player_images[r])("ngStyle",xw(4,iCe,50+70*r))("name",t)}}function oCe(n,e){if(1&n){const t=cs();z(0,"app-player-mobile",10),Ve("click",function(){const s=rs(t).index;return vt().editPlayer(s)}),q()}if(2&n){const t=e.$implicit,r=e.index,i=vt();de("playerActive",r==i.game.currentPlayer)("image",i.game.player_images[r])("name",t)}}function aCe(n,e){1&n&&(z(0,"div"),Qt(1,"img",11)(2,"img",12),q())}function lCe(n,e){if(1&n&&Qt(0,"img",13),2&n){const t=vt();us("src","assets/img/cards/",t.game.stack[t.game.stack.length-1],".svg",os)}}const cCe=function(n){return{"right.px":n}};function uCe(n,e){1&n&&Qt(0,"img",20),2&n&&de("ngStyle",xw(1,cCe,5*e.index))}function dCe(n,e){1&n&&Qt(0,"img",21),2&n&&us("src","assets/img/cards/",e.$implicit,".svg",os)}function hCe(n,e){if(1&n){const t=cs();z(0,"img",22),Ve("click",function(){return rs(t),vt(2).takeCard()}),q()}2&n&&us("src","assets/img/cards/",vt(2).game.currentCard,".svg",os)}const fCe=function(){return[0,1,2,3,4]};function pCe(n,e){if(1&n){const t=cs();z(0,"div",14)(1,"div",15),st(2,uCe,1,3,"img",16),z(3,"img",17),Ve("click",function(){return rs(t),vt().takeCard()}),q(),st(4,dCe,1,1,"img",18),st(5,hCe,1,1,"img",19),q()()}if(2&n){const t=vt();ge(2),de("ngForOf",function $1(n,e,t){const r=Gn()+n,i=T();return i[r]===se?xi(i,r,t?e.call(t):e()):function nd(n,e){return n[e]}(i,r)}(3,fCe)),ge(2),de("ngForOf",t.game.playedCards),ge(1),de("ngIf",t.game.pickCardAnimation)}}function mCe(n,e){1&n&&Qt(0,"app-game-info",23),2&n&&de("card",vt().game.currentCard)}function gCe(n,e){if(1&n){const t=cs();z(0,"button",24),Ve("click",function(){return rs(t),vt().openDialog()}),z(1,"mat-icon"),ze(2,"add"),q()()}}function _Ce(n,e){if(1&n){const t=cs();z(0,"button",25),Ve("click",function(){return rs(t),vt().openShareDialog()}),z(1,"mat-icon"),ze(2,"share"),q()()}}const yCe=[{path:"",component:(()=>{class n{constructor(t,r){this.firestore=t,this.router=r}ngOnInit(){}newGame(){let t=new Oz;const r=kz(this.firestore,"games");Cme(r,t.toJson()).then(i=>{this.router.navigateByUrl("/game/"+i.id)})}}return n.\u0275fac=function(t){return new(t||n)(v(af),v(cr))},n.\u0275cmp=Kt({type:n,selectors:[["app-start-screen"]],decls:13,vars:0,consts:[[1,"start-screen"],["src","assets/img/start.jpg",1,"start-img"],[1,"start-label-container"],[1,"hide-description"],[1,"italic","hide-description"],["src","assets/img/start-button.png",3,"click"]],template:function(t,r){1&t&&(z(0,"div",0),Qt(1,"img",1),z(2,"div",2)(3,"div")(4,"h1"),ze(5," Simple card game to exercise a language in a group."),q(),z(6,"p",3),ze(7," Add new players and click on the card pile to start the game. "),q(),z(8,"p",4),ze(9," If you want, you can start without adding players."),q(),z(10,"p",4),ze(11," The game ends when the card pile is empty."),q()(),z(12,"img",5),Ve("click",function(){return r.newGame()}),q()()())},styles:[".start-screen[_ngcontent-%COMP%]{background-image:url(wood.01006afd2cee305d.jpg);background-size:cover;background-repeat:no-repeat;width:100vw;max-width:100%;height:100vh;display:flex;justify-content:center;align-items:center}.start-img[_ngcontent-%COMP%]{width:100vw;height:100vh;object-fit:contain}.start-label-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;position:absolute;left:0;right:0;bottom:0}.start-label-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{max-width:60vw;text-align:center;font-family:Cambay,sans-serif;font-size:25px;font-weight:700;margin-block-end:0px;margin-bottom:50px}@media (max-width: 560px){.start-label-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px;margin-bottom:13vh}}@media (min-width: 560px) and (max-width: 800px){.start-label-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px}}@media (min-width: 1300px){.start-label-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:5vw}}.start-label-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{max-width:60vw;text-align:center;margin-bottom:8vh;font-family:Cambay,sans-serif;font-size:22px}@media (max-width: 560px){.start-label-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:14px;margin-bottom:12vh}}@media (min-width: 560px) and (max-width: 800px){.start-label-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:15px;margin-bottom:9vh}}.start-label-container[_ngcontent-%COMP%]   .italic[_ngcontent-%COMP%]{font-style:italic;font-size:smaller}.start-label-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:calc(100px + 16vw);margin-bottom:calc(16px + 8vw)}.start-label-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{filter:brightness(1.75);cursor:pointer}"]}),n})()},{path:"game/:id",component:(()=>{class n{constructor(t,r,i,s){this.route=t,this.dialog=r,this.dialogShare=i,this.firestore=s,this.gameOver=!1,this.stackOver=!1;const o=kz(this.firestore,"games");this.games$=bme(o),this.games$.subscribe(a=>{this.games=a})}newGame(){this.game=new Oz}ngOnInit(){this.newGame(),this.route.params.subscribe(t=>{this.gameId=t.id,wme(Rz(this.firestore,"games",this.gameId)).subscribe(r=>{this.game.currentPlayer=r.currentPlayer,this.game.playedCards=r.playedCards,this.game.players=r.players,this.game.player_images=r.player_images,this.game.stack=r.stack,this.game.currentCard=r.currentCard,this.game.pickCardAnimation=r.pickCardAnimation})})}takeCard(){0==this.game.stack.length?(this.gameOver=!0,this.stackOver=!0):this.game.pickCardAnimation||(1==this.game.stack.length&&(this.stackOver=!0),this.game.currentCard=this.game.stack.pop(),this.game.pickCardAnimation=!0,this.game.currentPlayer++,this.game.currentPlayer=this.game.currentPlayer%this.game.players.length,this.saveGame(),setTimeout(()=>{this.game.playedCards.push(this.game.currentCard),this.game.pickCardAnimation=!1,this.saveGame()},1e3))}openDialog(){this.dialog.open(owe).afterClosed().subscribe(r=>{r&&r.length>0&&(this.game.players.push(r),this.game.player_images.push("male.png"),this.saveGame())})}openShareDialog(){this.dialogShare.open(qwe)}saveGame(){const t=Rz(this.firestore,"games",this.gameId);Ime(t,this.game.toJson())}editPlayer(t){this.dialog.open(Kwe).afterClosed().subscribe(i=>{i&&("DELETE"==i?(this.game.player_images.splice(t,1),this.game.players.splice(t,1)):this.game.player_images[t]=i,this.saveGame())})}}return n.\u0275fac=function(t){return new(t||n)(v(ia),v(wf),v(wf),v(af))},n.\u0275cmp=Kt({type:n,selectors:[["app-game"]],decls:9,vars:8,consts:[["class","player-position hide-mobile",3,"playerActive","image","ngStyle","name","click",4,"ngFor","ngForOf"],[1,"scroll-container","hide-desktop"],[3,"playerActive","image","name","click",4,"ngFor","ngForOf"],[4,"ngIf"],["class","preloadImage",3,"src",4,"ngIf"],["class","field",4,"ngIf"],["class","pin-bottom",3,"card",4,"ngIf"],["matTooltip","add player","matTooltipPosition","left","mat-fab","","color","primary","class","button-add",3,"click",4,"ngIf"],["mat-fab","","color","primary","matTooltip","share game link","matTooltipPosition","left","class","button-share",3,"click",4,"ngIf"],[1,"player-position","hide-mobile",3,"playerActive","image","ngStyle","name","click"],[3,"playerActive","image","name","click"],["src","assets/img/gameover.jpg",1,"game-over"],["routerLink","/","src","assets/img/replay.png","title","Play Again",1,"replay"],[1,"preloadImage",3,"src"],[1,"field"],[1,"card-stack"],["src","assets/img/cards/card_cover.png",3,"ngStyle",4,"ngFor","ngForOf"],["src","assets/img/cards/card_cover.png",1,"top-card",2,"right","25px",3,"click"],["class","played-card","alt","",3,"src",4,"ngFor","ngForOf"],["class","pick-card","style","right: 25px",3,"src","click",4,"ngIf"],["src","assets/img/cards/card_cover.png",3,"ngStyle"],["alt","",1,"played-card",3,"src"],[1,"pick-card",2,"right","25px",3,"src","click"],[1,"pin-bottom",3,"card"],["matTooltip","add player","matTooltipPosition","left","mat-fab","","color","primary",1,"button-add",3,"click"],["mat-fab","","color","primary","matTooltip","share game link","matTooltipPosition","left",1,"button-share",3,"click"]],template:function(t,r){1&t&&(st(0,sCe,1,6,"app-player",0),z(1,"div",1),st(2,oCe,1,3,"app-player-mobile",2),q(),st(3,aCe,3,0,"div",3),st(4,lCe,1,1,"img",4),st(5,pCe,6,4,"div",5),st(6,mCe,1,1,"app-game-info",6),st(7,gCe,3,0,"button",7),st(8,_Ce,3,0,"button",8)),2&t&&(de("ngForOf",r.game.players),ge(2),de("ngForOf",r.game.players),ge(1),de("ngIf",r.gameOver),ge(1),de("ngIf",!r.stackOver),ge(1),de("ngIf",!r.gameOver),ge(1),de("ngIf",!r.gameOver),ge(1),de("ngIf",!r.gameOver),ge(1),de("ngIf",!r.gameOver))},directives:[pC,Ywe,lL,Qwe,mC,jm,rCe,ky,LW,QW],styles:[".field[_ngcontent-%COMP%]{height:100vh;width:100vw;max-width:100%;background-image:url(wood.01006afd2cee305d.jpg);background-size:cover;background-repeat:no-repeat;display:flex;justify-content:center;align-items:center}.field[_ngcontent-%COMP%]   .card-stack[_ngcontent-%COMP%]{position:relative}.field[_ngcontent-%COMP%]   .card-stack[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:120px}.top-card[_ngcontent-%COMP%]{cursor:pointer;transition:all 125ms ease-in-out}.top-card[_ngcontent-%COMP%]:hover{transform:scale(1.1) translateY(-10px)}.pick-card[_ngcontent-%COMP%]{animation:pick-card-animation 1s ease-in-out;transform:scale(var(--scale-card)) translate(var(--translate-x)) translateY(var(--translate-y)) rotate(-10deg)}@media (max-width: 720px){.pick-card[_ngcontent-%COMP%]{animation:pick-card-animation-mobile 1s ease-in-out;--translate-y: -200px;--translate-x: 54px;--scale-card: 1.05}}@media (min-width: 720px){.pick-card[_ngcontent-%COMP%]{--translate-y: -180px;--translate-x: 140px;--scale-card: 1.3}}@keyframes pick-card-animation{0%{transform:scale(1)}40%{transform:scale(1.7)}60%{transform:scale(1.7)}to{transform:scale(var(--scale-card)) translate(var(--translate-x)) translateY(var(--translate-y)) rotate(-10deg)}}@keyframes pick-card-animation-mobile{0%{transform:scale(1)}to{transform:scale(var(--scale-card)) translate(var(--translate-x)) translateY(var(--translate-y)) rotate(-10deg)}}.played-card[_ngcontent-%COMP%]{transform:scale(var(--scale-card)) translate(var(--translate-x)) translateY(var(--translate-y)) rotate(-10deg);right:25px}@media (max-width: 720px){.played-card[_ngcontent-%COMP%]{--translate-y: -200px;--translate-x: 54px;--scale-card: 1.05}}@media (min-width: 720px){.played-card[_ngcontent-%COMP%]{--translate-y: -180px;--translate-x: 140px;--scale-card: 1.3}}.player-position[_ngcontent-%COMP%]{position:absolute;right:0;z-index:1}.button-add[_ngcontent-%COMP%]{position:absolute;right:32px;bottom:32px}@media (max-width: 720px){.button-add[_ngcontent-%COMP%]{right:25px;bottom:170px}}.button-share[_ngcontent-%COMP%]{position:absolute;right:32px;bottom:105px}@media (max-width: 720px){.button-share[_ngcontent-%COMP%]{right:25px;bottom:243px}}.pin-bottom[_ngcontent-%COMP%]{position:absolute;bottom:32px;right:100px;left:100px}@media (max-width: 720px){.pin-bottom[_ngcontent-%COMP%]{left:0;bottom:0;right:0;max-height:130px;overflow-y:auto}}app-player[_ngcontent-%COMP%], app-player-mobile[_ngcontent-%COMP%]{cursor:pointer}app-player[_ngcontent-%COMP%]:hover, app-player-mobile[_ngcontent-%COMP%]:hover{filter:brightness(1.15)}.game-over[_ngcontent-%COMP%]{position:relative;width:100vw;height:100vh;object-fit:contain;max-width:100%;display:flex;background-image:url(wood.01006afd2cee305d.jpg);background-size:cover;background-repeat:no-repeat}.preloadImage[_ngcontent-%COMP%]{opacity:0;z-index:-999;height:0;width:0;display:none}.replay[_ngcontent-%COMP%]{position:absolute;width:60px;top:50%;left:42%;z-index:999;cursor:pointer}.replay[_ngcontent-%COMP%]:hover{filter:brightness(0) saturate(100%) invert(58%) sepia(99%) saturate(401%) hue-rotate(340deg) brightness(100%) contrast(103%)}@media (max-width: 720px) and (min-width: 540px){.replay[_ngcontent-%COMP%]{filter:brightness(0) saturate(100%) invert(82%) sepia(31%) saturate(1796%) hue-rotate(10deg) brightness(102%) contrast(105%);width:78px;top:61%;left:40%}}@media (max-width: 540px){.replay[_ngcontent-%COMP%]{filter:brightness(0) saturate(100%) invert(82%) sepia(31%) saturate(1796%) hue-rotate(10deg) brightness(102%) contrast(105%);width:97px;top:78%;left:36%}}@media (min-width: 1500px){.replay[_ngcontent-%COMP%]{width:60px;top:51.4%;left:44%}}.scroll-container[_ngcontent-%COMP%]{display:flex;position:absolute;left:0;right:0;top:0;overflow-x:auto}.scroll-container[_ngcontent-%COMP%]   app-player-mobile[_ngcontent-%COMP%]{margin-left:8px}"]}),n})()},{path:"**",redirectTo:""}];let vCe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Re({imports:[[PV.forRoot(yCe)],PV]}),n})(),bCe=(()=>{class n{constructor(){this.title="ringoffire"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Kt({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&Qt(0,"router-outlet")},directives:[HC],styles:[""]}),n})();const XW_firebase={projectId:"ring-of-fire-22675",appId:"1:853799688907:web:6cb7f876e7f171405a594e",storageBucket:"ring-of-fire-22675.appspot.com",apiKey:"AIzaSyD9gcXc5NBmX_D3XN6qV2f2hAacK7MsPpg",authDomain:"ring-of-fire-22675.firebaseapp.com",messagingSenderId:"853799688907"},ZW="@firebase/database";let xx="";class CCe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),gn(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:jd(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class ECe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return ws(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const e3=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new CCe(e)}}catch(e){}return new ECe},al=e3("localStorage"),kx=e3("sessionStorage"),du=new ca("@firebase/database"),t3=function(){let n=1;return function(){return n++}}(),n3=function(n){const e=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,R(r<n.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(n.charCodeAt(r)-56320)}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e}(n),t=new jne;t.update(e);const r=t.digest();return Hm.encodeByteArray(r)},Af=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Af.apply(null,r):e+="object"==typeof r?gn(r):r,e+=" "}return e};let ll=null,r3=!0;const cn=function(...n){if(!0===r3&&(r3=!1,null===ll&&!0===kx.get("logging_enabled")&&function(n,e){R(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(du.logLevel=Se.VERBOSE,ll=du.log.bind(du),e&&kx.set("logging_enabled",!0)):"function"==typeof n?ll=n:(ll=null,kx.remove("logging_enabled"))}(!0)),ll){const e=Af.apply(null,n);ll(e)}},Mf=function(n){return function(...e){cn(n,...e)}},Rx=function(...n){const e="FIREBASE INTERNAL ERROR: "+Af(...n);du.error(e)},Ki=function(...n){const e=`FIREBASE FATAL ERROR: ${Af(...n)}`;throw du.error(e),new Error(e)},jn=function(...n){const e="FIREBASE WARNING: "+Af(...n);du.warn(e)},Ny=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Us="[MIN_NAME]",Yi="[MAX_NAME]",cl=function(n,e){if(n===e)return 0;if(n===Us||e===Yi)return-1;if(e===Us||n===Yi)return 1;{const t=Fy(n),r=Fy(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},DCe=function(n,e){return n===e?0:n<e?-1:1},xf=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+gn(e))},Ox=function(n){if("object"!=typeof n||null===n)return gn(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=gn(e[r]),t+=":",t+=Ox(n[e[r]]);return t+="}",t},o3=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function un(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const a3=function(n){R(!Ny(n),"Invalid JSON number");const r=1023;let i,s,o,a,l;0===n?(s=0,o=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=a+r,o=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const c=[];for(l=52;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=11;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},xCe=new RegExp("^-?(0*)\\d{1,10}$"),Fy=function(n){if(xCe.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},hu=function(n){try{n()}catch(e){setTimeout(()=>{throw jn("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},kf=function(n,e){const t=setTimeout(n,e);return"object"==typeof t&&t.unref&&t.unref(),t};class RCe{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){jn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class OCe{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(cn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',jn(e)}}let Rf=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const f3=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,g3="websocket",_3="long_polling";class Fx{constructor(e,t,r,i,s=!1,o="",a=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=al.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&al.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function y3(n,e,t){let r;if(R("string"==typeof e,"typeof type must == string"),R("object"==typeof t,"typeof params must == object"),e===g3)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==_3)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function PCe(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return un(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class NCe{constructor(){this.counters_={}}incrementCounter(e,t=1){ws(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return kne(this.counters_)}}const Lx={},Vx={};function Bx(n){const e=n.toString();return Lx[e]||(Lx[e]=new NCe),Lx[e]}class LCe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&hu(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ao{constructor(e,t,r,i,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Mf(e),this.stats_=Bx(t),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),y3(t,_3,l))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new LCe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if("complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ux((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=l;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&f3.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ao.forceAllow_=!0}static forceDisallow(){Ao.forceDisallow_=!0}static isAvailable(){return!(!Ao.forceAllow_&&(Ao.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=gn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=BV(t),i=o3(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=gn(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Ux{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=t3(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Ux.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){cn("frame writing exception"),a.stack&&cn(a.stack),cn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||cn("No IE domain setting required")}catch(t){const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{cn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}let Vy=null;"undefined"!=typeof MozWebSocket?Vy=MozWebSocket:"undefined"!=typeof WebSocket&&(Vy=WebSocket);let fu=(()=>{class n{constructor(t,r,i,s,o,a,l){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Mf(this.connId),this.stats_=Bx(r),this.connURL=n.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,o){const a={v:"5"};return"undefined"!=typeof location&&location.hostname&&f3.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),y3(t,g3,a)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,al.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new Vy(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==Vy&&!n.forceDisallow_}static previouslyFailed(){return al.isInMemoryStorage||!0===al.get("previous_websocket_failure")}markConnectionHealthy(){al.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=jd(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(R(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=gn(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=o3(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),T3=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Ao,fu]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=fu&&fu.isAvailable();let i=r&&!fu.previouslyFailed();if(t.webSocketOnly&&(r||jn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[fu];else{const s=this.transports_=[];for(const o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class R3{constructor(e,t,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Mf("c:"+this.id+":"),this.transportManager_=new T3(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=kf(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=xf("t",e),r=xf("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=xf("t",e),r=xf("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=xf("t",e);if("d"in e){const r=e.d;if("h"===t)this.onHandshake_(r);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?Rx("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Rx("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&jn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),kf(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):kf(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(al.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class O3{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class P3{constructor(e){this.allowedEvents_=e,this.listeners_={},R(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){R(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class By extends P3{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!zm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new By}getInitialEvent(e){return R("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Ue{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Fe(){return new Ue("")}function ye(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Mo(n){return n.pieces_.length-n.pieceNum_}function We(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Ue(n.pieces_,e)}function Hx(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Of(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function L3(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Ue(e,0)}function ht(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof Ue)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new Ue(t,0)}function ve(n){return n.pieceNum_>=n.pieces_.length}function rr(n,e){const t=ye(n),r=ye(e);if(null===t)return e;if(t===r)return rr(We(n),We(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function $x(n,e){if(Mo(n)!==Mo(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Jr(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Mo(n)>Mo(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class oEe{constructor(e,t){this.errorPrefix_=t,this.parts_=Of(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Qm(this.parts_[r]);V3(this)}}function V3(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ul(n))}function ul(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class zx extends P3{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new zx}getInitialEvent(e){return R("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Pf=1e3;let jy,dl=(()=>{class n extends O3{constructor(t,r,i,s,o,a,l,c){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=n.nextPersistentConnectionId_++,this.log_=Mf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Pf,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");zx.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&By.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,o={r:s,a:t,b:r};this.log_(gn(o)),R(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new Bd,i={p:t._path.toString(),q:t._queryObject},s={action:"g",request:i,onComplete:a=>{const l=a.d;"ok"===a.s?(this.onDataUpdate_(i.p,l,!1,null),r.resolve(l)):r.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const a=this.outstandingGets_[o];void 0===a||s!==a||(delete this.outstandingGets_[o],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+o+" timed out on connection"),r.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(o),r.promise}listen(t,r,i,s){this.initConnection_();const o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),R(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),R(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};t.tag&&(o.q=r._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,l=>{const c=l.d,u=l.s;n.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",l),"ok"!==u&&this.removeListen_(i,s),t.onComplete&&t.onComplete(u,c))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&ws(t,"w")){const i=_c(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();jn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=qm(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=function(n){const t=qm(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===t&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),R(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const o={p:t};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+gn(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):Rx("Unrecognized action received from server: "+gn(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){R(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Pf,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Pf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Pf),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return g(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),o=t.id+":"+n.nextConnectionId_++,a=t.lastSessionId;let l=!1,c=null;const u=function(){c?c.close():(l=!0,s())};t.realtime_={close:u,sendRequest:function(f){R(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)}};const h=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([t.authTokenProvider_.getToken(h),t.appCheckTokenProvider_.getToken(h)]);l?cn("getToken() completed but was canceled"):(cn("getToken() completed. Creating connection."),t.authToken_=f&&f.accessToken,t.appCheckToken_=p&&p.token,c=new R3(o,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,m=>{jn(m+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(f){t.log_("Failed to get token: "+f),l||(t.repoInfo_.nodeAdmin&&jn(f),u())}}})()}interrupt(t){cn("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){cn("Resuming connection for reason: "+t),delete this.interruptReasons_[t],eE(this.interruptReasons_)&&(this.reconnectDelay_=Pf,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(o=>Ox(o)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new Ue(t).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){cn("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){cn("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+xx.replace(/\./g,"-")]=1,zm()?t["framework.cordova"]=1:ZC()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=By.getInstance().currentlyOnline();return eE(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Ee{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Ee(e,t)}}class Uy{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new Ee(Us,e),i=new Ee(Us,t);return 0!==this.compare(r,i)}minPost(){return Ee.MIN}}class j3 extends Uy{static get __EMPTY_NODE(){return jy}static set __EMPTY_NODE(e){jy=e}compare(e,t){return cl(e.name,t.name)}isDefinedOn(e){throw gc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Ee.MIN}maxPost(){return new Ee(Yi,jy)}makePost(e,t){return R("string"==typeof e,"KeyIndex indexValue must always be a string."),new Ee(e,jy)}toString(){return".key"}}const Qi=new j3;class Hy{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?r(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let qx,yi=(()=>{class n{constructor(t,r,i,s,o){this.key=t,this.value=r,this.color=null!=i?i:n.RED,this.left=null!=s?s:gr.EMPTY_NODE,this.right=null!=o?o:gr.EMPTY_NODE}copy(t,r,i,s,o){return new n(null!=t?t:this.key,null!=r?r:this.value,null!=i?i:this.color,null!=s?s:this.left,null!=o?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return gr.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return gr.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class gr{constructor(e,t=gr.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new gr(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,yi.BLACK,null,null))}remove(e){return new gr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,yi.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Hy(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Hy(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Hy(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Hy(this.root_,null,this.comparator_,!0,e)}}function mEe(n,e){return cl(n.name,e.name)}function Gx(n,e){return cl(n,e)}gr.EMPTY_NODE=new class pEe{copy(e,t,r,i,s){return this}insert(e,t,r){return new yi(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const H3=function(n){return"number"==typeof n?"number:"+a3(n):"string:"+n},$3=function(n){if(n.isLeafNode()){const e=n.val();R("string"==typeof e||"number"==typeof e||"object"==typeof e&&ws(e,".sv"),"Priority must be a string or number.")}else R(n===qx||n.isEmpty(),"priority of unexpected type.");R(n===qx||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let z3,G3,q3,pu=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,R(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),$3(this.priorityNode_)}static set __childrenNodeConstructor(t){z3=t}static get __childrenNodeConstructor(){return z3}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ve(t)?this:".priority"===ye(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=ye(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:(R(".priority"!==i||1===Mo(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(We(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+H3(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?a3(this.value_):this.value_,this.lazyHash_=n3(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(R(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),o=n.VALUE_TYPE_ORDER.indexOf(i);return R(s>=0,"Unknown leaf type: "+r),R(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const nt=new class vEe extends Uy{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?cl(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Ee.MIN}maxPost(){return new Ee(Yi,new pu("[PRIORITY-POST]",q3))}makePost(e,t){const r=G3(e);return new Ee(t,new pu("[PRIORITY-POST]",r))}toString(){return".priority"}},bEe=Math.log(2);class wEe{constructor(e){this.count=parseInt(Math.log(e+1)/bEe,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const $y=function(n,e,t,r){n.sort(e);const i=function(l,c){const u=c-l;let d,h;if(0===u)return null;if(1===u)return d=n[l],h=t?t(d):d,new yi(h,d.node,yi.BLACK,null,null);{const f=parseInt(u/2,10)+l,p=i(l,f),m=i(f+1,c);return d=n[f],h=t?t(d):d,new yi(h,d.node,yi.BLACK,p,m)}},a=function(l){let c=null,u=null,d=n.length;const h=function(p,m){const _=d-p,b=d;d-=p;const y=i(_+1,b),I=n[_],M=t?t(I):I;f(new yi(M,I.node,m,null,y))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),_=Math.pow(2,l.count-(p+1));m?h(_,yi.BLACK):(h(_,yi.BLACK),h(_,yi.RED))}return u}(new wEe(n.length));return new gr(r||e,a)};let Wx;const mu={};class js{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return R(mu&&nt,"ChildrenNode.ts has not been loaded"),Wx=Wx||new js({".priority":mu},{".priority":nt}),Wx}get(e){const t=_c(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof gr?t:null}hasIndex(e){return ws(this.indexSet_,e.toString())}addIndex(e,t){R(e!==Qi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(Ee.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?$y(r,e.getCompare()):mu;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new js(u,c)}addToIndexes(e,t){const r=Wm(this.indexes_,(i,s)=>{const o=_c(this.indexSet_,s);if(R(o,"Missing index implementation for "+s),i===mu){if(o.isDefinedOn(e.node)){const a=[],l=t.getIterator(Ee.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),$y(a,o.getCompare())}return mu}{const a=t.get(e.name);let l=i;return a&&(l=l.remove(new Ee(e.name,a))),l.insert(e,e.node)}});return new js(r,this.indexSet_)}removeFromIndexes(e,t){const r=Wm(this.indexes_,i=>{if(i===mu)return i;{const s=t.get(e.name);return s?i.remove(new Ee(e.name,s)):i}});return new js(r,this.indexSet_)}}let Nf,ae=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&$3(this.priorityNode_),this.children_.isEmpty()&&R(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Nf||(Nf=new n(new gr(Gx),null,js.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Nf}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?Nf:r}}getChild(t){const r=ye(t);return null===r?this:this.getImmediateChild(r).getChild(We(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if(R(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new Ee(t,r);let s,o;r.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?Nf:this.priorityNode_;return new n(s,a,o)}}updateChild(t,r){const i=ye(t);if(null===i)return r;{R(".priority"!==ye(t)||1===Mo(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(We(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(nt,(a,l)=>{r[a]=l.val(t),i++,o&&n.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!t&&o&&s<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+H3(this.getPriority().val())+":"),this.forEachChild(nt,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":n3(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new Ee(t,r));return o?o.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new Ee(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new Ee(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,Ee.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,Ee.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ff?-1:0}withIndex(t){if(t===Qi||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Qi||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(nt),s=r.getIterator(nt);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(t){return t===Qi?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Ff=new class CEe extends ae{constructor(){super(new gr(Gx),ae.EMPTY_NODE,js.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ae.EMPTY_NODE}isEmpty(){return!1}};function mt(n,e=null){if(null===n)return ae.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),R(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new pu(n,mt(e));if(n instanceof Array){let t=ae.EMPTY_NODE;return un(n,(r,i)=>{if(ws(n,r)&&"."!==r.substring(0,1)){const s=mt(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(mt(e))}{const t=[];let r=!1;if(un(n,(o,a)=>{if("."!==o.substring(0,1)){const l=mt(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),t.push(new Ee(o,l)))}}),0===t.length)return ae.EMPTY_NODE;const s=$y(t,mEe,o=>o.name,Gx);if(r){const o=$y(t,nt.getCompare());return new ae(s,mt(e),new js({".priority":o},{".priority":nt}))}return new ae(s,mt(e),js.Default)}}Object.defineProperties(Ee,{MIN:{value:new Ee(Us,ae.EMPTY_NODE)},MAX:{value:new Ee(Yi,Ff)}}),j3.__EMPTY_NODE=ae.EMPTY_NODE,pu.__childrenNodeConstructor=ae,function gEe(n){qx=n}(Ff),function yEe(n){q3=n}(Ff),function _Ee(n){G3=n}(mt);class Kx extends Uy{constructor(e){super(),this.indexPath_=e,R(!ve(e)&&".priority"!==ye(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return 0===s?cl(e.name,t.name):s}makePost(e,t){const r=mt(e),i=ae.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ee(t,i)}maxPost(){const e=ae.EMPTY_NODE.updateChild(this.indexPath_,Ff);return new Ee(Yi,e)}toString(){return Of(this.indexPath_,0).join("/")}}const Yx=new class IEe extends Uy{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?cl(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Ee.MIN}maxPost(){return Ee.MAX}makePost(e,t){const r=mt(e);return new Ee(t,r)}toString(){return".value"}};function Vf(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class Zx{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=nt}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return R(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return R(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Us}hasEnd(){return this.endSet_}getIndexEndValue(){return R(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return R(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Yi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return R(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===nt}copy(){const e=new Zx;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Z3(n){const e={};if(n.isDefault())return e;let t;return n.index_===nt?t="$priority":n.index_===Yx?t="$value":n.index_===Qi?t="$key":(R(n.index_ instanceof Kx,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=gn(t),n.startSet_&&(e.startAt=gn(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+gn(n.indexStartName_))),n.endSet_&&(e.endAt=gn(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+gn(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function J3(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==nt&&(e.i=n.index_.toString()),e}class Gy extends O3{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Mf("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(R(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Gy.getListenId_(e,r),a={};this.listens_[o]=a;const l=Z3(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(404===c&&(d=null,c=null),null===c&&this.onDataUpdate_(s,d,!1,r),_c(this.listens_,o)===a){let h;h=c?401===c?"permission_denied":"rest_error:"+c:"ok",i(h,null)}})}unlisten(e,t){const r=Gy.getListenId_(e,t);delete this.listens_[r]}get(e){const t=Z3(e._queryParams),r=e._path.toString(),i=new Bd;return this.restRequest_(r+".json",t,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Hd(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=jd(a.responseText)}catch(c){jn("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else 401!==a.status&&404!==a.status&&jn("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class OEe{constructor(){this.rootNode_=ae.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function qy(){return{value:null,children:new Map}}function yu(n,e,t){if(ve(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=ye(e);n.children.has(r)||n.children.set(r,qy()),yu(n.children.get(r),e=We(e),t)}}function nk(n,e,t){null!==n.value?t(e,n.value):function PEe(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{nk(i,new Ue(e.toString()+"/"+r),t)})}class NEe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&un(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class VEe{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new NEe(e);const r=1e4+2e4*Math.random();kf(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;un(e,(i,s)=>{s>0&&ws(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),kf(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ei=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ei||(ei={})),ei))();function sk(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Wy{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=ei.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(ve(this.path)){if(null!=this.affectedTree.value)return R(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Ue(e));return new Wy(Fe(),t,this.revert)}}return R(ye(this.path)===e,"operationForChild called for unrelated child."),new Wy(We(this.path),this.affectedTree,this.revert)}}class hl{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=ei.OVERWRITE}operationForChild(e){return ve(this.path)?new hl(this.source,Fe(),this.snap.getImmediateChild(e)):new hl(this.source,We(this.path),this.snap)}}class vu{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=ei.MERGE}operationForChild(e){if(ve(this.path)){const t=this.children.subtree(new Ue(e));return t.isEmpty()?null:t.value?new hl(this.source,Fe(),t.value):new vu(this.source,Fe(),t)}return R(ye(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new vu(this.source,We(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class xo{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ve(e))return this.isFullyInitialized()&&!this.filtered_;const t=ye(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function jf(n,e,t,r,i,s){const o=r.filter(a=>a.type===t);o.sort((a,l)=>function HEe(n,e,t){if(null==e.childName||null==t.childName)throw gc("Should only compare child_ events.");const r=new Ee(e.childName,e.snapshotNode),i=new Ee(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,a,l)),o.forEach(a=>{const l=function jEe(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,n.query_))})})}function Ky(n,e){return{eventCache:n,serverCache:e}}function Hf(n,e,t,r){return Ky(new xo(e,t,r),n.serverCache)}function tK(n,e,t,r){return Ky(n.eventCache,new xo(e,t,r))}function Yy(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function fl(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let ok;class rt{constructor(e,t=(()=>(ok||(ok=new gr(DCe)),ok))()){this.value=e,this.children=t}static fromObject(e){let t=new rt(null);return un(e,(r,i)=>{t=t.set(new Ue(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Fe(),value:this.value};if(ve(e))return null;{const r=ye(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(We(e),t);return null!=s?{path:ht(new Ue(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ve(e))return this;{const t=ye(e),r=this.children.get(t);return null!==r?r.subtree(We(e)):new rt(null)}}set(e,t){if(ve(e))return new rt(t,this.children);{const r=ye(e),s=(this.children.get(r)||new rt(null)).set(We(e),t),o=this.children.insert(r,s);return new rt(this.value,o)}}remove(e){if(ve(e))return this.children.isEmpty()?new rt(null):new rt(null,this.children);{const t=ye(e),r=this.children.get(t);if(r){const i=r.remove(We(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new rt(null):new rt(this.value,s)}return this}}get(e){if(ve(e))return this.value;{const t=ye(e),r=this.children.get(t);return r?r.get(We(e)):null}}setTree(e,t){if(ve(e))return t;{const r=ye(e),s=(this.children.get(r)||new rt(null)).setTree(We(e),t);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new rt(this.value,o)}}fold(e){return this.fold_(Fe(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(ht(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,Fe(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(ve(e))return null;{const s=ye(e),o=this.children.get(s);return o?o.findOnPath_(We(e),ht(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Fe(),t)}foreachOnPath_(e,t,r){if(ve(e))return this;{this.value&&r(t,this.value);const i=ye(e),s=this.children.get(i);return s?s.foreachOnPath_(We(e),ht(t,i),r):new rt(null)}}foreach(e){this.foreach_(Fe(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(ht(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class vi{constructor(e){this.writeTree_=e}static empty(){return new vi(new rt(null))}}function $f(n,e,t){if(ve(e))return new vi(new rt(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=rr(i,e);return s=s.updateChild(o,t),new vi(n.writeTree_.set(i,s))}{const i=new rt(t),s=n.writeTree_.setTree(e,i);return new vi(s)}}}function ak(n,e,t){let r=n;return un(t,(i,s)=>{r=$f(r,ht(e,i),s)}),r}function nK(n,e){if(ve(e))return vi.empty();{const t=n.writeTree_.setTree(e,new rt(null));return new vi(t)}}function lk(n,e){return null!=pl(n,e)}function pl(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(rr(t.path,e)):null}function rK(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(nt,(r,i)=>{e.push(new Ee(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new Ee(r,i.value))}),e}function ko(n,e){if(ve(e))return n;{const t=pl(n,e);return new vi(null!=t?new rt(t):n.writeTree_.subtree(e))}}function ck(n){return n.writeTree_.isEmpty()}function bu(n,e){return iK(Fe(),n.writeTree_,e)}function iK(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?(R(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):t=iK(ht(n,i),s,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(ht(n,".priority"),r)),t}}function Qy(n,e){return cK(e,n)}function KEe(n,e){if(n.snap)return Jr(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Jr(ht(n.path,t),e))return!0;return!1}function QEe(n){return n.visible}function sK(n,e,t){let r=vi.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const o=s.path;let a;if(s.snap)Jr(t,o)?(a=rr(t,o),r=$f(r,a,s.snap)):Jr(o,t)&&(a=rr(o,t),r=$f(r,Fe(),s.snap.getChild(a)));else{if(!s.children)throw gc("WriteRecord should have .snap or .children");if(Jr(t,o))a=rr(t,o),r=ak(r,a,s.children);else if(Jr(o,t))if(a=rr(o,t),ve(a))r=ak(r,Fe(),s.children);else{const l=_c(s.children,ye(a));if(l){const c=l.getChild(We(a));r=$f(r,Fe(),c)}}}}}return r}function oK(n,e,t,r,i){if(r||i){const s=ko(n.visibleWrites,e);return!i&&ck(s)?t:i||null!=t||lk(s,Fe())?bu(sK(n.allWrites,function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Jr(c.path,e)||Jr(e,c.path))},e),t||ae.EMPTY_NODE):null}{const s=pl(n.visibleWrites,e);if(null!=s)return s;{const o=ko(n.visibleWrites,e);return ck(o)?t:null!=t||lk(o,Fe())?bu(o,t||ae.EMPTY_NODE):null}}}function Xy(n,e,t,r){return oK(n.writeTree,n.treePath,e,t,r)}function uk(n,e){return function XEe(n,e,t){let r=ae.EMPTY_NODE;const i=pl(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(nt,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(t){const s=ko(n.visibleWrites,e);return t.forEachChild(nt,(o,a)=>{const l=bu(ko(s,new Ue(o)),a);r=r.updateImmediateChild(o,l)}),rK(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return rK(ko(n.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(n.writeTree,n.treePath,e)}function aK(n,e,t,r){return function ZEe(n,e,t,r,i){R(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=ht(e,t);if(lk(n.visibleWrites,s))return null;{const o=ko(n.visibleWrites,s);return ck(o)?i.getChild(t):bu(o,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function Zy(n,e){return function e0e(n,e){return pl(n.visibleWrites,e)}(n.writeTree,ht(n.treePath,e))}function dk(n,e,t){return function JEe(n,e,t,r){const i=ht(e,t),s=pl(n.visibleWrites,i);return null!=s?s:r.isCompleteForChild(t)?bu(ko(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function lK(n,e){return cK(ht(n.treePath,e),n.writeTree)}function cK(n,e){return{treePath:n,writeTree:e}}class i0e{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;R("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),R(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(r,Vf(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(r,function Lf(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(r,i.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(r,function _u(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw gc("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,Vf(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const uK=new class s0e{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class hk{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new xo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return dk(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:fl(this.viewCache_),s=function r0e(n,e,t,r,i,s){return function t0e(n,e,t,r,i,s,o){let a;const l=ko(n.visibleWrites,e),c=pl(l,Fe());if(null!=c)a=c;else{if(null==t)return[];a=bu(l,t)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&u.length<i;)0!==d(f,r)&&u.push(f),f=h.getNext();return u}}(n.writeTree,n.treePath,e,t,r,i,s)}(this.writes_,i,t,1,r,e);return 0===s.length?null:s[0]}}function dK(n,e,t,r,i,s){const o=e.eventCache;if(null!=Zy(r,t))return e;{let a,l;if(ve(t))if(R(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=fl(e),d=uk(r,c instanceof ae?c:ae.EMPTY_NODE);a=n.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=Xy(r,fl(e));a=n.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=ye(t);if(".priority"===c){R(1===Mo(t),"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=aK(r,t,u,l);a=null!=d?n.filter.updatePriority(u,d):o.getNode()}else{const u=We(t);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=aK(r,t,o.getNode(),l);d=null!=h?o.getNode().getImmediateChild(c).updateChild(u,h):o.getNode().getImmediateChild(c)}else d=dk(r,c,e.serverCache);a=null!=d?n.filter.updateChild(o.getNode(),c,d,u,i,s):o.getNode()}}return Hf(e,a,o.isFullyInitialized()||ve(t),n.filter.filtersNodes())}}function Jy(n,e,t,r,i,s,o,a){const l=e.serverCache;let c;const u=o?n.filter:n.filter.getIndexedFilter();if(ve(t))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(t,r);c=u.updateFullNode(l.getNode(),f,null)}else{const f=ye(t);if(!l.isCompleteForPath(t)&&Mo(t)>1)return e;const p=We(t),_=l.getNode().getImmediateChild(f).updateChild(p,r);c=".priority"===f?u.updatePriority(l.getNode(),_):u.updateChild(l.getNode(),f,_,p,uK,null)}const d=tK(e,c,l.isFullyInitialized()||ve(t),u.filtersNodes());return dK(n,d,t,i,new hk(i,d,s),a)}function fk(n,e,t,r,i,s,o){const a=e.eventCache;let l,c;const u=new hk(i,e,s);if(ve(t))c=n.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Hf(e,c,!0,n.filter.filtersNodes());else{const d=ye(t);if(".priority"===d)c=n.filter.updatePriority(e.eventCache.getNode(),r),l=Hf(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=We(t),f=a.getNode().getImmediateChild(d);let p;if(ve(h))p=r;else{const m=u.getCompleteChild(d);p=null!=m?".priority"===Hx(h)&&m.getChild(L3(h)).isEmpty()?m:m.updateChild(h,r):ae.EMPTY_NODE}l=f.equals(p)?e:Hf(e,n.filter.updateChild(a.getNode(),d,p,h,u,o),a.isFullyInitialized(),n.filter.filtersNodes())}}return l}function hK(n,e){return n.eventCache.isCompleteForChild(e)}function fK(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function pk(n,e,t,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c,l=e;c=ve(t)?r:new rt(null).setTree(t,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const p=fK(0,e.serverCache.getNode().getImmediateChild(d),h);l=Jy(n,l,new Ue(d),p,i,s,o,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&void 0===h.value;if(!u.hasChild(d)&&!f){const m=fK(0,e.serverCache.getNode().getImmediateChild(d),h);l=Jy(n,l,new Ue(d),m,i,s,o,a)}}),l}function _0e(n,e){const t=fl(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!ve(e)&&!t.getImmediateChild(ye(e)).isEmpty())?t.getChild(e):null}function gK(n,e,t,r){e.type===ei.MERGE&&null!==e.source.queryId&&(R(fl(n.viewCache_),"We should always have a full cache before handling merges"),R(Yy(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=function l0e(n,e,t,r,i){const s=new i0e;let o,a;if(t.type===ei.OVERWRITE){const c=t;c.source.fromUser?o=fk(n,e,c.path,c.snap,r,i,s):(R(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ve(c.path),o=Jy(n,e,c.path,c.snap,r,i,a,s))}else if(t.type===ei.MERGE){const c=t;c.source.fromUser?o=function u0e(n,e,t,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=ht(t,l);hK(e,ye(u))&&(a=fk(n,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=ht(t,l);hK(e,ye(u))||(a=fk(n,a,u,c,i,s,o))}),a}(n,e,c.path,c.children,r,i,s):(R(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=pk(n,e,c.path,c.children,r,i,a,s))}else if(t.type===ei.ACK_USER_WRITE){const c=t;o=c.revert?function f0e(n,e,t,r,i,s){let o;if(null!=Zy(r,t))return e;{const a=new hk(r,e,i),l=e.eventCache.getNode();let c;if(ve(t)||".priority"===ye(t)){let u;if(e.serverCache.isFullyInitialized())u=Xy(r,fl(e));else{const d=e.serverCache.getNode();R(d instanceof ae,"serverChildren would be complete if leaf node"),u=uk(r,d)}u=u,c=n.filter.updateFullNode(l,u,s)}else{const u=ye(t);let d=dk(r,u,e.serverCache);null==d&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),c=null!=d?n.filter.updateChild(l,u,d,We(t),a,s):e.eventCache.getNode().hasChild(u)?n.filter.updateChild(l,u,ae.EMPTY_NODE,We(t),a,s):l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Xy(r,fl(e)),o.isLeafNode()&&(c=n.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=Zy(r,Fe()),Hf(e,c,o,n.filter.filtersNodes())}}(n,e,c.path,r,i,s):function d0e(n,e,t,r,i,s,o){if(null!=Zy(i,t))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=r.value){if(ve(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return Jy(n,e,t,l.getNode().getChild(t),i,s,a,o);if(ve(t)){let c=new rt(null);return l.getNode().forEachChild(Qi,(u,d)=>{c=c.set(new Ue(u),d)}),pk(n,e,t,c,i,s,a,o)}return e}{let c=new rt(null);return r.foreach((u,d)=>{const h=ht(t,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),pk(n,e,t,c,i,s,a,o)}}(n,e,c.path,c.affectedTree,r,i,s)}else{if(t.type!==ei.LISTEN_COMPLETE)throw gc("Unknown operation type: "+t.type);o=function h0e(n,e,t,r,i){const s=e.serverCache;return dK(n,tK(e,s.getNode(),s.isFullyInitialized()||ve(t),s.isFiltered()),t,r,uK,i)}(n,e,t.path,r,s)}const l=s.getChanges();return function c0e(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Yy(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(function X3(n){return{type:"value",snapshotNode:n}}(Yy(e)))}}(e,o,l),{viewCache:o,changes:l}}(n.processor_,i,e,t,r);return function a0e(n,e){R(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),R(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),R(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,function _K(n,e,t,r){return function UEe(n,e,t,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function DEe(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(o.childName,o.snapshotNode))}),jf(n,i,"child_removed",e,r,t),jf(n,i,"child_added",e,r,t),jf(n,i,"child_moved",s,r,t),jf(n,i,"child_changed",e,r,t),jf(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}(n,s.changes,s.viewCache.eventCache.getNode(),null)}let ev,nv;function mk(n,e,t,r){const i=e.source.queryId;if(null!==i){const s=n.views.get(i);return R(null!=s,"SyncTree gave us an op for an invalid query."),gK(s,e,t,r)}{let s=[];for(const o of n.views.values())s=s.concat(gK(o,e,t,r));return s}}function Ro(n,e){let t=null;for(const r of n.views.values())t=t||_0e(r,e);return t}class EK{constructor(e){this.listenProvider_=e,this.syncPointTree_=new rt(null),this.pendingWriteTree_=function n0e(){return{visibleWrites:vi.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function gk(n,e,t,r,i){return function zEe(n,e,t,r,i){R(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=$f(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?wu(n,new hl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Po(n,e,t=!1){const r=function qEe(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function WEe(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);R(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){const a=n.allWrites[o];a.visible&&(o>=t&&KEe(a,r.path)?i=!1:Jr(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function YEe(n){n.visibleWrites=sK(n.allWrites,QEe,Fe()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=nK(n.visibleWrites,r.path):un(r.children,l=>{n.visibleWrites=nK(n.visibleWrites,ht(r.path,l))}),!0))}(n.pendingWriteTree_,e)){let s=new rt(null);return null!=r.snap?s=s.set(Fe(),!0):un(r.children,o=>{s=s.set(new Ue(o),!0)}),wu(n,new Wy(r.path,s,t))}return[]}function zf(n,e,t){return wu(n,new hl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function rv(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,a)=>{const c=Ro(a,rr(o,e));if(c)return c});return oK(i,e,s,t,!0)}function wu(n,e){return TK(e,n.syncPointTree_,null,Qy(n.pendingWriteTree_,Fe()))}function TK(n,e,t,r){if(ve(n.path))return DK(n,e,t,r);{const i=e.get(Fe());null==t&&null!=i&&(t=Ro(i,Fe()));let s=[];const o=ye(n.path),a=n.operationForChild(o),l=e.children.get(o);if(l&&a){const c=t?t.getImmediateChild(o):null,u=lK(r,o);s=s.concat(TK(a,l,c,u))}return i&&(s=s.concat(mk(i,n,r,t))),s}}function DK(n,e,t,r){const i=e.get(Fe());null==t&&null!=i&&(t=Ro(i,Fe()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=t?t.getImmediateChild(o):null,c=lK(r,o),u=n.operationForChild(o);u&&(s=s.concat(DK(u,a,l,c)))}),i&&(s=s.concat(mk(i,n,r,t))),s}function yk(n,e){return n.tagToQueryMap.get(e)}function vk(n){const e=n.indexOf("$");return R(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Ue(n.substr(0,e))}}function bk(n,e,t){const r=n.syncPointTree_.get(e);return R(r,"Missing sync point for query tag that we're tracking"),mk(r,t,Qy(n.pendingWriteTree_,e),null)}class wk{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new wk(t)}node(){return this.node_}}class Ck{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=ht(this.path_,e);return new Ck(this.syncTree_,t)}node(){return rv(this.syncTree_,this.path_)}}const AK=function(n,e,t){return n&&"object"==typeof n?(R(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?U0e(n[".sv"],e,t):"object"==typeof n[".sv"]?j0e(n[".sv"],e):void R(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},U0e=function(n,e,t){if("timestamp"===n)return t.timestamp;R(!1,"Unexpected server value: "+n)},j0e=function(n,e,t){n.hasOwnProperty("increment")||R(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&R(!1,"Unexpected increment value: "+r);const i=e.node();if(R(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},Ek=function(n,e,t){return Ik(n,new wk(e),t)};function Ik(n,e,t){const r=n.getPriority().val(),i=AK(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const o=n,a=AK(o.getValue(),e,t);return a!==o.getValue()||i!==o.getPriority().val()?new pu(a,mt(i)):n}{const o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new pu(i))),o.forEachChild(nt,(a,l)=>{const c=Ik(l,e.getImmediateChild(a),t);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}class Tk{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function ov(n,e){let t=e instanceof Ue?e:new Ue(e),r=n,i=ye(t);for(;null!==i;){const s=_c(r.node.children,i)||{children:{},childCount:0};r=new Tk(i,r,s),t=We(t),i=ye(t)}return r}function ml(n){return n.node.value}function Dk(n,e){n.node.value=e,Sk(n)}function xK(n){return n.node.childCount>0}function av(n,e){un(n.node.children,(t,r)=>{e(new Tk(t,n,r))})}function kK(n,e,t,r){t&&!r&&e(n),av(n,i=>{kK(i,e,!0,r)}),t&&r&&e(n)}function qf(n){return new Ue(null===n.parent?n.name:qf(n.parent)+"/"+n.name)}function Sk(n){null!==n.parent&&function z0e(n,e,t){const r=function H0e(n){return void 0===ml(n)&&!xK(n)}(t),i=ws(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,Sk(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,Sk(n))}(n.parent,n.name,n)}const G0e=/[\[\].#$\/\u0000-\u001F\u007F]/,q0e=/[\[\].#$\u0000-\u001F\u007F]/,Ak=10485760,lv=function(n){return"string"==typeof n&&0!==n.length&&!G0e.test(n)},Kf=function(n,e,t){const r=t instanceof Ue?new oEe(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+ul(r));if("function"==typeof e)throw new Error(n+"contains a function "+ul(r)+" with contents = "+e.toString());if(Ny(e))throw new Error(n+"contains "+e.toString()+" "+ul(r));if("string"==typeof e&&e.length>Ak/3&&Qm(e)>Ak)throw new Error(n+"contains a string greater than "+Ak+" utf8 bytes "+ul(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(un(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!lv(o)))throw new Error(n+" contains an invalid key ("+o+") "+ul(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function aEe(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Qm(e),V3(n)})(r,o),Kf(n,a,r),function lEe(n){const e=n.parts_.pop();n.byteLength_-=Qm(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&s)throw new Error(n+' contains ".value" child '+ul(r)+" in addition to actual children.")}},PK=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!lv(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!q0e.test(n)}(n)}(t))throw new Error(function Ym(n,e){return`${n} failed: ${e} argument `}(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Q0e{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ti(n,e,t){(function cv(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==t&&!$x(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)})(n,t),function NK(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(X0e(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,r=>Jr(r,e)||Jr(e,r))}function X0e(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();ll&&cn("event: "+t.toString()),hu(r)}}}class J0e{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Q0e,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=qy(),this.transactionQueueTree_=new Tk,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function LK(n){const t=n.infoData_.getNode(new Ue(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Qf(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:LK(n)})}function VK(n,e,t,r,i){n.dataUpdateCount++;const s=new Ue(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(r){const l=Wm(t,c=>mt(c));o=function O0e(n,e,t,r){const i=yk(n,r);if(i){const s=vk(i),o=s.path,a=s.queryId,l=rr(o,e),c=rt.fromObject(t);return bk(n,o,new vu(sk(a),l,c))}return[]}(n.serverSyncTree_,s,l,i)}else{const l=mt(t);o=function R0e(n,e,t,r){const i=yk(n,r);if(null!=i){const s=vk(i),o=s.path,a=s.queryId,l=rr(o,e);return bk(n,o,new hl(sk(a),l,t))}return[]}(n.serverSyncTree_,s,l,i)}else if(r){const l=Wm(t,c=>mt(c));o=function M0e(n,e,t){const r=rt.fromObject(t);return wu(n,new vu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,s,l)}else{const l=mt(t);o=zf(n.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Eu(n,s)),ti(n.eventQueue_,a,o)}function BK(n,e){Rk(n,"connected",e),!1===e&&function iIe(n){Cu(n,"onDisconnectEvents");const e=Qf(n),t=qy();nk(n.onDisconnect_,Fe(),(i,s)=>{const o=function(n,e,t,r){return Ik(e,new Ck(t,n),r)}(i,s,n.serverSyncTree_,e);yu(t,i,o)});let r=[];nk(t,Fe(),(i,s)=>{r=r.concat(zf(n.serverSyncTree_,i,s));const o=function Fk(n,e){const t=qf(HK(n,e)),r=ov(n.transactionQueueTree_,e);return function $0e(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{Lk(n,i)}),Lk(n,r),kK(r,i=>{Lk(n,i)}),t}(n,i);Eu(n,o)}),n.onDisconnect_=qy(),ti(n.eventQueue_,Fe(),r)}(n)}function Rk(n,e,t){const r=new Ue("/.info/"+e),i=mt(t);n.infoData_.updateSnapshot(r,i);const s=zf(n.infoSyncTree_,r,i);ti(n.eventQueue_,r,s)}function uv(n){return n.nextWriteId_++}function Cu(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),cn(t,...e)}function Nk(n,e,t){return rv(n.serverSyncTree_,e,t)||ae.EMPTY_NODE}function dv(n,e=n.transactionQueueTree_){if(e||hv(n,e),ml(e)){const t=$K(n,e);R(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function dIe(n,e,t){const r=t.map(c=>c.currentWriteId),i=Nk(n,e,r);let s=i;const o=i.hash();for(let c=0;c<t.length;c++){const u=t[c];R(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=rr(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;n.server_.put(l.toString(),a,c=>{Cu(n,"transaction put response",{path:l.toString(),status:c});let u=[];if("ok"===c){const d=[];for(let h=0;h<t.length;h++)t[h].status=2,u=u.concat(Po(n.serverSyncTree_,t[h].currentWriteId)),t[h].onComplete&&d.push(()=>t[h].onComplete(null,!0,t[h].currentOutputSnapshotResolved)),t[h].unwatcher();hv(n,ov(n.transactionQueueTree_,e)),dv(n,n.transactionQueueTree_),ti(n.eventQueue_,e,u);for(let h=0;h<d.length;h++)hu(d[h])}else{if("datastale"===c)for(let d=0;d<t.length;d++)t[d].status=3===t[d].status?4:0;else{jn("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=c}Eu(n,e)}},o)}(n,qf(e),t)}else xK(e)&&av(e,t=>{dv(n,t)})}function Eu(n,e){const t=HK(n,e),r=qf(t);return function hIe(n,e,t){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=rr(t,l.path);let d,u=!1;if(R(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)u=!0,d=l.abortReason,i=i.concat(Po(n.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)u=!0,d="maxretry",i=i.concat(Po(n.serverSyncTree_,l.currentWriteId,!0));else{const h=Nk(n,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){Kf("transaction failed: Data returned ",f,l.path);let p=mt(f);"object"==typeof f&&null!=f&&ws(f,".priority")||(p=p.updatePriority(h.getPriority()));const _=l.currentWriteId,b=Qf(n),y=Ek(p,h,b);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=y,l.currentWriteId=uv(n),o.splice(o.indexOf(_),1),i=i.concat(gk(n.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),i=i.concat(Po(n.serverSyncTree_,_,!0))}else u=!0,d="nodata",i=i.concat(Po(n.serverSyncTree_,l.currentWriteId,!0))}ti(n.eventQueue_,t,i),i=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}hv(n,n.transactionQueueTree_);for(let a=0;a<r.length;a++)hu(r[a]);dv(n,n.transactionQueueTree_)}(n,$K(n,t),r),r}function HK(n,e){let t,r=n.transactionQueueTree_;for(t=ye(e);null!==t&&void 0===ml(r);)r=ov(r,t),t=ye(e=We(e));return r}function $K(n,e){const t=[];return zK(n,e,t),t.sort((r,i)=>r.order-i.order),t}function zK(n,e,t){const r=ml(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);av(e,i=>{zK(n,i,t)})}function hv(n,e){const t=ml(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,Dk(e,t.length>0?t:void 0)}av(e,r=>{hv(n,r)})}function Lk(n,e){const t=ml(e);if(t){const r=[];let i=[],s=-1;for(let o=0;o<t.length;o++)3===t[o].status||(1===t[o].status?(R(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):(R(0===t[o].status,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(Po(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Dk(e,void 0):t.length=s+1,ti(n.eventQueue_,qf(e),i);for(let o=0;o<r.length;o++)hu(r[o])}}const Vk=function(n,e){const t=mIe(n),r=t.namespace;return"firebase.com"===t.domain&&Ki(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&Ki("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&jn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Fx(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new Ue(t.pathString)}},mIe=function(n){let e="",t="",r="",i="",s="",o=!0,a="https",l=443;if("string"==typeof n){let c=n.indexOf("//");c>=0&&(a=n.substring(0,c-1),n=n.substring(c+2));let u=n.indexOf("/");-1===u&&(u=n.length);let d=n.indexOf("?");-1===d&&(d=n.length),e=n.substring(0,Math.min(u,d)),u<d&&(i=function fIe(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(s){}e+="/"+i}return e}(n.substring(u,d)));const h=function pIe(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):jn(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,d)));c=e.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if("localhost"===f.toLowerCase())t="localhost";else if(f.split(".").length<=2)t=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),t=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:t,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class Nr{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return ve(this._path)?null:Hx(this._path)}get ref(){return new bi(this._repo,this._path)}get _queryIdentifier(){const e=J3(this._queryParams),t=Ox(e);return"{}"===t?"default":t}get _queryObject(){return J3(this._queryParams)}isEqual(e){if(!((e=Pn(e))instanceof Nr))return!1;const t=this._repo===e._repo,r=$x(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function iEe(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class bi extends Nr{constructor(e,t){super(e,t,new Zx,!1)}get parent(){const e=L3(this._path);return null===e?null:new bi(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function b0e(n){R(!ev,"__referenceConstructor has already been defined"),ev=n})(bi),function T0e(n){R(!nv,"__referenceConstructor has already been defined"),nv=n}(bi);const Bk={};class PIe{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function eIe(n,e,t){if(n.stats_=Bx(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Gy(n.repoInfo_,(r,i,s,o)=>{VK(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>BK(n,!0),0);else{if(null!=t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{gn(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new dl(n.repoInfo_,e,(r,i,s,o)=>{VK(n,r,i,s,o)},r=>{BK(n,r)},r=>{!function tIe(n,e){un(e,(t,r)=>{Rk(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function FCe(n,e){const t=n.toString();return Vx[t]||(Vx[t]=e()),Vx[t]}(n.repoInfo_,()=>new VEe(n.stats_,n.server_)),n.infoData_=new OEe,n.infoSyncTree_=new EK({startListening:(r,i,s,o)=>{let a=[];const l=n.infoData_.getNode(r._path);return l.isEmpty()||(a=zf(n.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Rk(n,"connected",!1),n.serverSyncTree_=new EK({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);ti(n.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new bi(this._repo,Fe())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function kIe(n,e){const t=Bk[e];(!t||t[n.key]!==n)&&Ki(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function jK(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ki("Cannot call "+e+" on a deleted database.")}}function NIe(n=Jm(),e){return da(n,"database").getImmediate({identifier:e})}dl.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},dl.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function FIe(n){(function wCe(n){xx=n})(ha),Nn(new _n("database",(e,{instanceIdentifier:t})=>function xIe(n,e,t,r,i){let s=r||n.options.databaseURL;void 0===s&&(n.options.projectId||Ki("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),cn("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l,c,o=Vk(s,i),a=o.repoInfo;"undefined"!=typeof process&&process.env&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=Vk(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const u=i&&l?new Rf(Rf.OWNER):new OCe(n.name,n.options,e);PK("Invalid Firebase Database URL",o),ve(o.path)||Ki("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function RIe(n,e,t,r){let i=Bk[e.name];i||(i={},Bk[e.name]=i);let s=i[n.toURLString()];return s&&Ki("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new J0e(n,!1,t,r),i[n.toURLString()]=s,s}(a,n,u,new RCe(n.name,t));return new PIe(d,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),ot(ZW,"0.13.0",n),ot(ZW,"0.13.0","esm2017")}();class Uk{constructor(e){return e}}const JK="database",jk=new P("angularfire2.database-instances");function jIe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Uk(r)}}const HIe={provide:class BIe{constructor(){return ug(JK)}},deps:[[new Qe,jk]]},$Ie={provide:Uk,useFactory:function UIe(n,e){const t=cg(JK,n,e);return t&&new Uk(t)},deps:[[new Qe,jk],va]};let zIe=(()=>{class n{constructor(){ot("angularfire",Wd.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n}),n.\u0275inj=Re({providers:[$Ie,HIe]}),n})();function GIe(n,...e){return{ngModule:zIe,providers:[{provide:jk,useFactory:jIe(n),multi:!0,deps:[he,ct,dg,hg,[new Qe,dD],[new Qe,bg],...e]}]}}const qIe=Bi(NIe,!0);let WIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ne({type:n,bootstrap:[bCe]}),n.\u0275inj=Re({providers:[],imports:[[Iwe,swe,Gwe,EL,vCe,Kye,bve,ox,Jbe,qbe,nCe,Koe(()=>Yoe(XW_firebase)),Cue(()=>Eue()),GIe(()=>qIe()),vme(()=>Eme())]]}),n})();(function $X(){OF=!1})(),tee().bootstrapModule(WIe).catch(n=>console.error(n))}},oe=>{oe(oe.s=992)}]);